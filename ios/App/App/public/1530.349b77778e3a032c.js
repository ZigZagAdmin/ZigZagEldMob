"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1530,3646,8871,4576,4546],{3646:(M,C,n)=>{n.d(C,{G:()=>l});var e=n(8256),v=n(6895);function g(r,a){if(1&r){const c=e.EpF();e.TgZ(0,"img",6),e.NdJ("click",function(){e.CHM(c);const m=e.oxw();return e.KtG(m.goBack())}),e.qZA()}}const p=["*"];let l=(()=>{class r{constructor(){this.backButton=!1,this.backButtonCallback=new e.vpe}ngOnInit(){}goBack(){this.backButtonCallback.emit()}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],inputs:{title:"title",subtitle:"subtitle",backButton:"backButton"},outputs:{backButtonCallback:"backButtonCallback"},ngContentSelectors:p,decls:9,vars:3,consts:[[1,"title-container","padding-g"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"title-back"],["src","../../../assets/imgs/back-arrow.png",3,"click",4,"ngIf"],[1,"page-title"],[1,"subtitle","custom-subtitle"],["src","../../../assets/imgs/back-arrow.png",3,"click"]],template:function(c,u){1&c&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,g,1,0,"img",3),e.TgZ(4,"div",4),e._uU(5),e.qZA()(),e.Hsn(6),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA()()),2&c&&(e.xp6(3),e.Q6J("ngIf",u.backButton),e.xp6(2),e.Oqu(u.title),e.xp6(3),e.hij(" ",u.subtitle," "))},dependencies:[v.O5],styles:[".title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.title-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.custom-subtitle[_ngcontent-%COMP%]{margin-left:35px}.title-container[_ngcontent-%COMP%]{padding-bottom:0}"]}),r})()},4546:(M,C,n)=>{n.d(C,{y:()=>l});var e=n(6895),v=n(4006),g=n(7151),p=n(8256);let l=(()=>{class r{}return r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[e.ez,v.u5,g.Pc]}),r})()},2187:(M,C,n)=>{n.d(C,{a:()=>m});var e=n(8256),v=n(4465),g=n(6994),p=n(6895),l=n(4006);const r=function(t,f,o,d){return{"label-error":t,"input-label-top":f,"input-label-left":o,"no-label":d}};function a(t,f){if(1&t&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.Q6J("ngClass",e.l5B(3,r,!o.valid,"top"===o.labelPosition,"left"===o.labelPosition,"none"===o.label)),e.xp6(1),e.AsE(" ",o.label,"",o.required?"*":""," ")}}const c=function(t,f){return{"custom-input-top":t,"custom-input-left":f}},u=function(t,f,o,d){return{"input-fill":t,"validation-error":f,"input-left":o,"disable-input-opacity":d}};let m=(()=>{class t{constructor(o,d,P){this.toastService=o,this.shareService=d,this.elementRef=P,this.type="text",this.placeholder="",this.fill=!0,this.validators=[],this.noValidation=!1,this.disabled=!1,this.showDisabled=!1,this.required=!1,this.labelPosition="top",this.valueChange=new e.vpe,this.validationChange=new e.vpe,this.valid=!0}get value(){return this._value}set value(o){this._value!==o&&(this._value=o,this.valueChange.emit(o))}get validation(){return this._validation}set validation(o){this._validation!==o&&(this._validation=o,this.validationChange.emit(o))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(o=>{"reset"===o?this.valid=!0:"invalidate"!==o||this.noValidation?o&&0!==o.length&&this.validateInput():this.valid=!1})}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(o){0!==o.target.value&&(this.valid=!0),this.value=o.target.value,this.valueChange.emit(this.value)}validateInput(){!this.noValidation&&null!==this.elementRef.nativeElement.offsetParent&&(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(o=>!!o.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(o.message),!1)),this.validation=this.valid)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(v.k),e.Y36(g.t),e.Y36(e.SBq))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-input"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",validators:"validators",noValidation:"noValidation",disabled:"disabled",showDisabled:"showDisabled",required:"required",labelPosition:"labelPosition",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange"},decls:3,vars:15,consts:[[1,"custom-input",3,"ngClass"],["class","input-label",3,"ngClass",4,"ngIf"],["autocomplete","one-time-code",1,"input-box",3,"type","ngModel","readonly","placeholder","ngClass","input","ngModelChange"],[1,"input-label",3,"ngClass"]],template:function(o,d){1&o&&(e.TgZ(0,"div",0),e.YNc(1,a,2,8,"div",1),e.TgZ(2,"input",2),e.NdJ("input",function(O){return d.onInputChange(O)})("ngModelChange",function(O){return d.value=O}),e.qZA()()),2&o&&(e.Q6J("ngClass",e.WLB(7,c,"top"===d.labelPosition,"left"===d.labelPosition)),e.xp6(1),e.Q6J("ngIf",d.label),e.xp6(1),e.Q6J("type",d.type)("ngModel",d.value)("readonly",d.disabled)("placeholder",d.placeholder)("ngClass",e.l5B(10,u,d.fill,!d.valid,"left"===d.labelPosition,d.showDisabled)))},dependencies:[p.mk,p.O5,l.Fj,l.JJ,l.On],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.custom-input-top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.custom-input-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:24px}.input-label[_ngcontent-%COMP%]{color:var(--gray-500)}.input-label-top[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.input-label-left[_ngcontent-%COMP%]{flex:1;font-size:15px;font-weight:600}.input-box[_ngcontent-%COMP%]{width:100%;height:45px;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;border:1px solid var(--gray-200);background-color:#fff}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)}.input-left[_ngcontent-%COMP%]{flex:1}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}.no-label[_ngcontent-%COMP%]{color:transparent!important}"]}),t})()},4166:(M,C,n)=>{n.d(C,{v:()=>l});var e=n(6895),v=n(4006),g=n(7151),p=n(8256);let l=(()=>{class r{}return r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[e.ez,v.u5,g.Pc]}),r})()},8924:(M,C,n)=>{n.d(C,{Eb:()=>e,Rk:()=>p,W3:()=>g,bm:()=>v});const e={ET:"UTC-4",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-5",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-6",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-7",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-8",AKT:"UTC-8",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-9",HST:"UTC-10",HAST:"UTC-9"},v={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},g={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},p={2024:{summer:17100288e5,winter:173059194e4},2025:{summer:17414784e5,winter:176204154e4},2026:{summer:1772928e6,winter:179349114e4},2027:{summer:18049824e5,winter:182554554e4}}},1530:(M,C,n)=>{n.r(C),n.d(C,{ConnectMacPageModule:()=>Z});var e=n(6895),v=n(4006),g=n(7151),p=n(5050),l=n(5861),r=n(6090),a=n(7423),c=n(6321),u=n(3905),m=n(4128),t=n(8256),f=n(849),o=n(4382),d=n(7278),P=n(6994),O=n(2569),b=n(3646),U=n(2187);function y(s,_){if(1&s){const i=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){t.CHM(i);const T=t.oxw(2);return t.KtG(T.connectToELD())}),t.TgZ(1,"div",15)(2,"div",16),t._uU(3),t.qZA(),t.TgZ(4,"div",17),t._uU(5),t.qZA()(),t.TgZ(6,"div",18),t._UZ(7,"img",19),t.qZA()()}if(2&s){const i=_.$implicit;t.xp6(3),t.Oqu((null==i?null:i.name)||"Generic ELD"),t.xp6(2),t.Oqu("MAC Address: "+i.macAddress.toUpperCase())}}function D(s,_){if(1&s&&(t.TgZ(0,"div",12),t.YNc(1,y,8,2,"div",13),t.qZA()),2&s){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.elds)}}const E=[{path:"",component:(()=>{class s{constructor(i,h,T,x,k,R){this.storage=i,this.navCtrl=h,this.databaseService=T,this.utilityService=x,this.shareService=k,this.bluetoothService=R,this.macAddress="",this.elds=[],this.defects=c.mK,this.validation={macAddress:!1}}ngOnInit(){var i=this;return(0,l.Z)(function*(){"web"!==a.dV.getPlatform()&&(yield i.bluetoothService.requestBluetoothPermission(!0))})()}ionViewWillEnter(){var i=this;return(0,l.Z)(function*(){let h=(0,u.z)(i.databaseService.getVehicles());(0,m.D)([h]).subscribe(([T])=>{i.vehicle=T[0],i.pickedVehicle=i.vehicle.vehicleUnit})})()}ngOnDestroy(){this.shareService.destroyMessage()}goBack(){this.navCtrl.navigateBack("/select-vehicle")}getLocation(){return(0,l.Z)(function*(){yield r.b.getCurrentPosition()})()}continueDisconected(){this.navCtrl.navigateRoot("/unitab",{animated:!0,animationDirection:"forward"})}redirectToVehicle(){this.navCtrl.navigateBack("/select-vehicle",{replaceUrl:!0})}connect(){var i=this;return(0,l.Z)(function*(){if(!(yield i.bluetoothService.getBluetoothState())){if(!confirm("Bluetooth service is turned off.\nProceed to settings?"))return void alert("In order to connect to a device, you to turn on the bluetooth service");"android"===a.dV.getPlatform()?yield i.bluetoothService.goToBluetoothServiceSettings():alert("Go to Settings -> Bluetooth in order to enable the bluetooth service.")}yield i.bluetoothService.requestBluetoothPermission()})()}connectToELD(){}handleRefresh(i){setTimeout(()=>{i.target.complete()},1e3)}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(f.K),t.Y36(g.SH),t.Y36(o.k),t.Y36(d.t),t.Y36(P.t),t.Y36(O.G))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-connect-mac"]],decls:16,vars:11,consts:[[3,"forceOverscroll","fullscreen"],[3,"title","subtitle","backButton","backButtonCallback"],[1,"connect-wrapper","padding-g"],[1,"input-container"],[1,"input-block","custom-block"],[3,"label","fill","type","value","validation","valueChange","validationChange"],[1,"btn","primary-btn","custom-button",3,"click"],["class","card-connect-container",4,"ngIf"],[1,"or-container"],[1,"line"],[1,"word"],[1,"btn","secondary-btn",3,"click"],[1,"card-connect-container"],["class","card-connect",3,"click",4,"ngFor","ngForOf"],[1,"card-connect",3,"click"],[1,"card-connect-content"],[1,"card-connect-title"],[1,"card-connect-mac"],[1,"card-connect-icon"],["src","../../../assets/icon/smart-car.svg"]],template:function(i,h){1&i&&(t.TgZ(0,"ion-content",0)(1,"app-header",1),t.NdJ("backButtonCallback",function(){return h.goBack()}),t.qZA(),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-input",5),t.NdJ("valueChange",function(x){return h.macAddress=x})("validationChange",function(x){return h.validation.macAddress=x}),t.qZA()(),t.TgZ(6,"button",6),t.NdJ("click",function(){return h.connect()}),t._uU(7,"Connect"),t.qZA()(),t.YNc(8,D,2,1,"div",7),t.TgZ(9,"div",8),t._UZ(10,"div",9),t.TgZ(11,"div",10),t._uU(12,"or"),t.qZA(),t._UZ(13,"div",9),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return h.continueDisconected()}),t._uU(15,"Continue disconnected"),t.qZA()()()),2&i&&(t.Q6J("forceOverscroll",!1)("fullscreen",!0),t.xp6(1),t.Q6J("title","Connect to ELD")("subtitle","Vehicle Unit: "+(null==h.vehicle?null:h.vehicle.vehicleUnit))("backButton",!0),t.xp6(4),t.Q6J("label","MAC Address")("fill",!1)("type","text")("value",h.macAddress)("validation",h.validation.macAddress),t.xp6(3),t.Q6J("ngIf",0!==h.elds.length))},dependencies:[e.sg,e.O5,g.W2,b.G,U.a],styles:[".connect-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.connect-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:45px;border-radius:41px}.title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.title-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.custom-subtitle[_ngcontent-%COMP%]{margin-left:35px}.title-container[_ngcontent-%COMP%]{padding-bottom:0}.input-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:10px}.custom-button[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;border-radius:8px!important;padding:15px 10px}.custom-block[_ngcontent-%COMP%]{flex:4;width:100%}.or-container[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.or-container[_ngcontent-%COMP%]   .word[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--gray-500)}.or-container[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%;height:0px;border-top:1px solid var(--gray-300)}.card-connect-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.card-connect-container[_ngcontent-%COMP%]   .card-connect[_ngcontent-%COMP%]{width:100%;padding:15px;border-radius:10px;background-color:var(--gray-100);display:flex;align-items:center}.card-connect-container[_ngcontent-%COMP%]   .card-connect[_ngcontent-%COMP%]   .card-connect-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:10px}.card-connect-container[_ngcontent-%COMP%]   .card-connect[_ngcontent-%COMP%]   .card-connect-content[_ngcontent-%COMP%]   .card-connect-title[_ngcontent-%COMP%]{font-size:16px;color:var(--gray-700);font-weight:500}.card-connect-container[_ngcontent-%COMP%]   .card-connect[_ngcontent-%COMP%]   .card-connect-content[_ngcontent-%COMP%]   .card-connect-mac[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--gray-500)}.card-connect-container[_ngcontent-%COMP%]   .card-connect[_ngcontent-%COMP%]   .card-connect-icon[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}"]}),s})()}];let S=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[p.Bz.forChild(E),p.Bz]}),s})();var A=n(4546),B=n(4166),I=n(1343);let Z=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[e.ez,v.u5,g.Pc,S,A.y,B.v,I.E]}),s})()},6994:(M,C,n)=>{n.d(C,{t:()=>p});var e=n(7579),v=n(1135),g=n(8256);let p=(()=>{class l{constructor(){this.editDataDetails=[],this.subject=new e.x,this.messageSource=new v.X(this.editDataDetails),this.currentMessage=this.messageSource.asObservable()}changeMessage(a){this.messageSource.next(a)}destroyMessage(){this.messageSource.next("")}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},7278:(M,C,n)=>{n.d(C,{t:()=>p});var e=n(8924),v=n(8256),g=n(849);let p=(()=>{class l{constructor(a){this.storage=a}generateString(a){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let u=" ";const m=c.length;for(let t=0;t<a;t++)u+=c.charAt(Math.floor(Math.random()*m));return u}validateForm(a){let c=!0;for(const u in a)c=c&&a[u];return c}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const c=16*Math.random()|0;return("x"==a?c:3&c|8).toString(16)})}msToTime(a){let c=Math.floor(a/1e3%60),u=Math.floor(a/6e4%60),m=Math.floor(a/36e5);return m=m<10?"0"+m:m,u=u<10?"0"+u:u,c=c<10?"0"+c:c,m+"h "+u+"min "+c+"s"}checkSeason(){return(new Date).getTime()>=e.Rk[(new Date).getFullYear().toString()].summer&&(new Date).getTime()<e.Rk[(new Date).getFullYear().toString()].winter?e.Eb:e.bm}}return l.\u0275fac=function(a){return new(a||l)(v.LFG(g.K))},l.\u0275prov=v.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},6321:(M,C,n)=>{n.d(C,{Jk:()=>v,bO:()=>g,mK:()=>e});const e=["Air Compressor","Battery","Body","Brake Accessories","Coupling Devices","Drive Line","Exhaust","Fluid Levels","Front Axle","Headlights","Horn","Muffler","Parking Breaks","Reflectors","Service Breaks","Starter","Suspension System","Tire Chains","Transmission","Turn Indicators","Windows","Wipers & Washers","Air Lines","Belts & Hoses","Clutch","Defroster","Engine","Fifth Wheel","Frame & Assembly","Fuel Tanks","Heater","Mirrors","Oil Level","Radiator Level","Safety Equipment","Service Door","Steering","Tail Lights","Tires","Trip Recorder","Wheels & Rims","Windshield"],v=["Brake Connections","Coupling Devices","Doors","Landing Gear","Other","Roof","Suspension System","Wheels & Rims","Breaks","Coupling Pin","Hitch","Lights","Reflectors","Straps","Tarpaulin"],g=[{code:"VCS",name:"Vehicle Condition Satisfactory"},{code:"D",name:"Has Defects"},{code:"DC",name:"Defects Corrected"},{code:"DNNBC",name:"Defects Need Not Be Corrected"}]}}]);