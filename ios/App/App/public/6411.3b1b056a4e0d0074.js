"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6411,3646,8871,4576,4546],{3646:(_,h,n)=>{n.d(h,{G:()=>v});var i=n(8256),m=n(6895);function g(e,r){if(1&e){const s=i.EpF();i.TgZ(0,"img",6),i.NdJ("click",function(){i.CHM(s);const C=i.oxw();return i.KtG(C.goBack())}),i.qZA()}}const o=["*"];let v=(()=>{class e{constructor(){this.backButton=!1,this.backButtonCallback=new i.vpe}ngOnInit(){}goBack(){this.backButtonCallback.emit()}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-header"]],inputs:{title:"title",subtitle:"subtitle",backButton:"backButton"},outputs:{backButtonCallback:"backButtonCallback"},ngContentSelectors:o,decls:9,vars:3,consts:[[1,"title-container","padding-g"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"title-back"],["src","../../../assets/imgs/back-arrow.png",3,"click",4,"ngIf"],[1,"page-title"],[1,"subtitle","custom-subtitle"],["src","../../../assets/imgs/back-arrow.png",3,"click"]],template:function(s,p){1&s&&(i.F$t(),i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i.YNc(3,g,1,0,"img",3),i.TgZ(4,"div",4),i._uU(5),i.qZA()(),i.Hsn(6),i.qZA(),i.TgZ(7,"div",5),i._uU(8),i.qZA()()),2&s&&(i.xp6(3),i.Q6J("ngIf",p.backButton),i.xp6(2),i.Oqu(p.title),i.xp6(3),i.hij(" ",p.subtitle," "))},dependencies:[m.O5],styles:[".title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.title-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.custom-subtitle[_ngcontent-%COMP%]{margin-left:35px}.title-container[_ngcontent-%COMP%]{padding-bottom:0}"]}),e})()},4546:(_,h,n)=>{n.d(h,{y:()=>v});var i=n(6895),m=n(4006),g=n(7151),o=n(8256);let v=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[i.ez,m.u5,g.Pc]}),e})()},6411:(_,h,n)=>{n.r(h),n.d(h,{SelectVehiclePageModule:()=>S});var i=n(6895),m=n(4006),g=n(849),o=n(7151),v=n(5050),e=n(8256),r=n(4382),s=n(3646);function p(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const u=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.selectVehicle(u))}),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA()()}if(2&l){const t=d.$implicit;e.xp6(2),e.Oqu((null==t?null:t.make)+" "+(null==t?null:t.model)),e.xp6(2),e.Oqu((null==t?null:t.year)+", Vehicle Unit: "+(null==t?null:t.vehicleUnit))}}const B=[{path:"",component:(()=>{class l{constructor(t,a,c){this.navCtrl=t,this.databaseService=a,this.storage=c,this.bReady=!1,this.showBackButton=!1,this.pickedVehicle="",this.vehicles=[]}ngOnInit(){this.databaseSubscription=this.databaseService.isDatabaseReady().subscribe(t=>{t&&(this.bReady=t,this.databaseService.getVehicles().subscribe(a=>{this.vehicles=a,console.log(a)}),this.databaseService.getDrivers().subscribe(a=>{var c,u,f,b;a&&(this.driver=a[0]),this.storage.set("HoursOfServiceRuleDays",null===(c=this.driver)||void 0===c||null===(u=c.driverInfo)||void 0===u?void 0:u.settings.hoursOfService.days),this.storage.set("HoursOfServiceRuleHours",null===(f=this.driver)||void 0===f||null===(b=f.driverInfo)||void 0===b?void 0:b.settings.hoursOfService.hours)}),this.databaseService.getCompany().subscribe(a=>{var c;this.company=a,this.storage.set("timeZone",null===(c=this.company)||void 0===c?void 0:c.mainOffice.timeZoneCode)}))})}ionViewWillEnter(){const t=localStorage.getItem("showBackButton");this.showBackButton=null!==t&&JSON.parse(t),this.bReady&&this.databaseService.getDrivers().subscribe(a=>{a&&(this.driver=a[0])})}handleRefresh(t){setTimeout(()=>{t.target.complete()},1e3)}selectVehicle(t){this.storage.set("vehicleId",t.vehicleId),this.storage.set("vehicleUnit",t.vehicleUnit),this.storage.set("vehicles",[t]),this.showBackButton?this.navCtrl.navigateBack("/unitab/others",{replaceUrl:!0}):this.navCtrl.navigateForward("/connect-mac")}ionViewWillLeave(){localStorage.removeItem("showBackButton"),this.databaseSubscription&&this.databaseSubscription.unsubscribe()}goBack(){this.navCtrl.navigateBack("unitab/others")}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(o.SH),e.Y36(r.k),e.Y36(g.K))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-select-vehicle"]],decls:6,vars:5,consts:[[3,"forceOverscroll","fullscreen"],[3,"title","backButton","backButtonCallback"],["slot","fixed",3,"ionRefresh"],[1,"vehicle-container"],["class","vehicle-card",3,"click",4,"ngFor","ngForOf"],[1,"vehicle-card",3,"click"],[1,"vehicle-card-title"],[1,"vehicle-card-subtitle"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-content",0)(1,"app-header",1),e.NdJ("backButtonCallback",function(){return a.goBack()}),e.qZA(),e.TgZ(2,"ion-refresher",2),e.NdJ("ionRefresh",function(u){return a.handleRefresh(u)}),e._UZ(3,"ion-refresher-content"),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,p,5,2,"div",4),e.qZA()()),2&t&&(e.Q6J("forceOverscroll",!1)("fullscreen",!0),e.xp6(1),e.Q6J("title","Select Vehicle")("backButton",a.showBackButton),e.xp6(4),e.Q6J("ngForOf",null==a.driver||null==a.driver.driverInfo?null:a.driver.driverInfo.assignedVehicles))},dependencies:[i.sg,o.W2,o.nJ,o.Wo,s.G],styles:[".vehicle-container[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:15px}.vehicle-card[_ngcontent-%COMP%]{width:100%;background-color:var(--gray-100);padding:15px;border-radius:10px;display:flex;flex-direction:column;gap:10px}.vehicle-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--gray-700)}.vehicle-card-subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--gray-500)}"]}),l})()}];let P=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[v.Bz.forChild(B),v.Bz]}),l})();var k=n(4546),O=n(8974);let S=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[g.K,r.k],imports:[i.ez,m.u5,o.Pc,P,k.y,O.p]}),l})()}}]);