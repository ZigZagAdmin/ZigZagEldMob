"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2602,4546],{7772:(H,A,o)=>{o.d(A,{U:()=>_});var i=o(8256),k=o(6895),t=o(7151);const O=function(v){return{"background-color":v}};function T(v,M){if(1&v){const m=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){const g=i.CHM(m).$implicit,d=i.oxw();return i.KtG(d.select(g))}),i.TgZ(1,"div",3),i._UZ(2,"div",4),i.TgZ(3,"div",5),i._uU(4),i.qZA()(),i.TgZ(5,"div",6),i._UZ(6,"ion-checkbox",7),i.qZA()()}if(2&v){const m=M.$implicit;i.xp6(2),i.Q6J("ngStyle",i.VKq(3,O,m.color)),i.xp6(2),i.Oqu(m.label),i.xp6(2),i.Q6J("checked",m.checked)}}let _=(()=>{class v{constructor(){this.data=[{color:"var(--gray-300)",label:"Off Duty",value:"OFF",checked:!1},{color:"var(--gray-500)",label:"Sleeper Berth",value:"SB",checked:!1},{color:"var(--warning-400)",label:"On Duty",value:"ON",checked:!1},{color:"var(--success-500)",label:"Driving",value:"D",checked:!1},{color:"var(--gray-300)",label:"Personal Conveyance",value:"PC",checked:!1},{color:"var(--warning-400)",label:"Yard Moves",value:"YM",checked:!1}],this.currentValue="",this.selectedValue=new i.vpe}ngOnInit(){if(0!==this.currentValue.length){let m=this.data.find(Z=>Z.value===this.currentValue);this.select(m)}}select(m){let Z=this.data.findIndex(f=>f.value===m.value);this.data.forEach(f=>f.checked=!1),this.data[Z].checked=!0,this.selectedValue.emit(this.data[Z].value)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=i.Xpm({type:v,selectors:[["app-duty-radio-button"]],inputs:{currentValue:"currentValue"},outputs:{selectedValue:"selectedValue"},decls:2,vars:1,consts:[[1,"list-container"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"item-data"],[1,"status-color",3,"ngStyle"],[1,"status-label"],[1,"item-checkbox"],[3,"checked"]],template:function(m,Z){1&m&&(i.TgZ(0,"div",0),i.YNc(1,T,7,5,"div",1),i.qZA()),2&m&&(i.xp6(1),i.Q6J("ngForOf",Z.data))},dependencies:[k.sg,k.PC,t.nz,t.w],styles:[".list-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px}.list-item[_ngcontent-%COMP%]{width:100%;border:none;border-radius:10px;background-color:var(--gray-100);padding:15px;display:flex;align-items:center;justify-content:space-between}.item-data[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.status-color[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%}.status-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--gray-500)}.item-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center}ion-checkbox[_ngcontent-%COMP%]{--size: 20px;--checkbox-background-checked: var(--success-500);--border-color: transparent;--border-color-checked: transparent;--checkmark-width: 2px;pointer-events:none}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:50%}"]}),v})()},2218:(H,A,o)=>{o.d(A,{H:()=>T});var i=o(6895),k=o(4006),t=o(7151),O=o(8256);let T=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=O.oAB({type:_}),_.\u0275inj=O.cJS({imports:[i.ez,k.u5,t.Pc]}),_})()},4546:(H,A,o)=>{o.d(A,{y:()=>T});var i=o(6895),k=o(4006),t=o(7151),O=o(8256);let T=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=O.oAB({type:_}),_.\u0275inj=O.cJS({imports:[i.ez,k.u5,t.Pc]}),_})()},4166:(H,A,o)=>{o.d(A,{v:()=>T});var i=o(6895),k=o(4006),t=o(7151),O=o(8256);let T=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=O.oAB({type:_}),_.\u0275inj=O.cJS({imports:[i.ez,k.u5,t.Pc]}),_})()},7236:(H,A,o)=>{o.d(A,{L:()=>g});var i=o(8256),k=o(4465),t=o(6994),O=o(6895),T=o(4006),_=o(7151);const v=function(d,x,C,B){return{"label-error":d,"input-label-top":x,"input-label-left":C,"no-label":B}};function M(d,x){if(1&d&&(i.TgZ(0,"div",5),i._uU(1),i.qZA()),2&d){const C=i.oxw();i.Q6J("ngClass",i.l5B(3,v,!C.valid,"top"===C.labelPosition,"left"===C.labelPosition,"none"===C.label)),i.xp6(1),i.AsE(" ",C.label,"",C.required?"*":""," ")}}function m(d,x){1&d&&i._UZ(0,"ion-spinner",6)}const Z=function(d,x){return{"custom-input-top":d,"custom-input-left":x}},f=function(d,x,C){return{"input-fill":d,"validation-error":x,"input-left":C}};let g=(()=>{class d{constructor(C,B){this.toastService=C,this.shareService=B,this.type="text",this.placeholder="",this.fill=!0,this.loading=!1,this.validators=[],this.noValidation=!1,this.disabled=!1,this.required=!1,this.labelPosition="top",this.valueChange=new i.vpe,this.validationChange=new i.vpe,this.valid=!0}get value(){return this._value}set value(C){this._value!==C&&(this._value=C,this.valueChange.emit(C))}get validation(){return this._validation}set validation(C){this._validation!==C&&(this._validation=C,this.validationChange.emit(C))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(C=>{"reset"===C?this.valid=!0:C&&0!==C.length&&this.validateInput()})}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(C){0!==C.target.value&&(this.valid=!0),this.value=C.target.value,this.valueChange.emit(this.value)}validateInput(){this.noValidation||(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(C=>!!C.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(C.message),!1)),this.validation=this.valid)}}return d.\u0275fac=function(C){return new(C||d)(i.Y36(k.k),i.Y36(t.t))},d.\u0275cmp=i.Xpm({type:d,selectors:[["app-location-input"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",loading:"loading",validators:"validators",noValidation:"noValidation",disabled:"disabled",required:"required",labelPosition:"labelPosition",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange"},decls:5,vars:15,consts:[[1,"custom-input",3,"ngClass"],["class","input-label",3,"ngClass",4,"ngIf"],[1,"input-container"],["autocomplete","one-time-code",1,"input-box",3,"type","ngModel","disabled","placeholder","ngClass","input","ngModelChange"],["class","input-loading","name","circular","color","medium",4,"ngIf"],[1,"input-label",3,"ngClass"],["name","circular","color","medium",1,"input-loading"]],template:function(C,B){1&C&&(i.TgZ(0,"div",0),i.YNc(1,M,2,8,"div",1),i.TgZ(2,"div",2)(3,"input",3),i.NdJ("input",function(q){return B.onInputChange(q)})("ngModelChange",function(q){return B.value=q}),i.qZA(),i.YNc(4,m,1,0,"ion-spinner",4),i.qZA()()),2&C&&(i.Q6J("ngClass",i.WLB(8,Z,"top"===B.labelPosition,"left"===B.labelPosition)),i.xp6(1),i.Q6J("ngIf",B.label),i.xp6(2),i.Q6J("type",B.type)("ngModel",B.value)("disabled",B.disabled||B.loading)("placeholder",B.placeholder)("ngClass",i.kEZ(11,f,B.fill,!B.valid,"left"===B.labelPosition)),i.xp6(1),i.Q6J("ngIf",B.loading))},dependencies:[O.mk,O.O5,T.Fj,T.JJ,T.On,_.PQ],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.custom-input-top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.custom-input-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:24px}.input-label[_ngcontent-%COMP%]{color:var(--gray-500)}.input-label-top[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.input-label-left[_ngcontent-%COMP%]{flex:1;font-size:15px;font-weight:600}.input-box[_ngcontent-%COMP%]{width:100%;height:45px;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;border:1px solid var(--gray-200);background-color:#fff}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)}.input-left[_ngcontent-%COMP%]{flex:1}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}.no-label[_ngcontent-%COMP%]{color:transparent!important}.input-container[_ngcontent-%COMP%]{position:relative}.input-loading[_ngcontent-%COMP%]{position:absolute;right:20px;top:18px;zoom:.7}"]}),d})()},8134:(H,A,o)=>{o.d(A,{y:()=>T});var i=o(6895),k=o(4006),t=o(7151),O=o(8256);let T=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=O.oAB({type:_}),_.\u0275inj=O.cJS({imports:[i.ez,k.u5,t.Pc]}),_})()},4081:(H,A,o)=>{o.d(A,{R:()=>M});var i=o(8256),k=o(4465),t=o(6994),O=o(6895);const T=function(m){return{"label-error":m}};function _(m,Z){if(1&m&&(i.TgZ(0,"div",3),i._uU(1),i.qZA()),2&m){const f=i.oxw();i.Q6J("ngClass",i.VKq(2,T,!f.valid)),i.xp6(1),i.Oqu(f.label)}}const v=function(m,Z){return{"input-fill":m,"validation-error":Z}};let M=(()=>{class m{constructor(f,g){this.toastService=f,this.shareService=g,this.type="text",this.placeholder="",this.fill=!0,this.disabled=!1,this.validators=[],this.noValidation=!1,this.valueChange=new i.vpe,this.validationChange=new i.vpe,this.valid=!0}get value(){return this._value}set value(f){this._value!==f&&(this._value=f,this.valueChange.emit(f))}get validation(){return this._validation}set validation(f){this._validation!==f&&(this._validation=f,this.validationChange.emit(f))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(f=>{"reset"===f?this.valid=!0:f&&0!==f.length&&this.validateInput()})}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(f){0!==f.target.value&&(this.valid=!0),this.value=f.target.value,this.valueChange.emit(this.value)}validateInput(){this.noValidation||(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(f=>!!f.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(f.message),!1)),this.validation=this.valid)}}return m.\u0275fac=function(f){return new(f||m)(i.Y36(k.k),i.Y36(t.t))},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-textarea"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",disabled:"disabled",validators:"validators",noValidation:"noValidation",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange"},decls:3,vars:7,consts:[[1,"custom-input"],["class","input-label",3,"ngClass",4,"ngIf"],[1,"input-box",3,"disabled","placeholder","ngClass","input"],[1,"input-label",3,"ngClass"]],template:function(f,g){1&f&&(i.TgZ(0,"div",0),i.YNc(1,_,2,4,"div",1),i.TgZ(2,"textarea",2),i.NdJ("input",function(x){return g.onInputChange(x)}),i.qZA()()),2&f&&(i.xp6(1),i.Q6J("ngIf",g.label),i.xp6(1),i.Q6J("disabled",g.disabled)("placeholder",g.placeholder)("ngClass",i.WLB(4,v,g.fill,!g.valid)))},dependencies:[O.mk,O.O5],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;gap:5px}.input-label[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--gray-500)}.input-box[_ngcontent-%COMP%]{width:100%;height:100px;resize:none;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;background-color:#fff;border:1px solid var(--gray-200)}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)!important}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}"]}),m})()},4877:(H,A,o)=>{o.d(A,{r:()=>T});var i=o(6895),k=o(4006),t=o(7151),O=o(8256);let T=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=O.oAB({type:_}),_.\u0275inj=O.cJS({imports:[i.ez,k.u5,t.Pc]}),_})()},8924:(H,A,o)=>{o.d(A,{Eb:()=>i,Rk:()=>O,W3:()=>t,bm:()=>k});const i={ET:"UTC-4",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-5",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-6",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-7",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-8",AKT:"UTC-8",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-9",HST:"UTC-10",HAST:"UTC-9"},k={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},t={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},O={2024:{summer:17100288e5,winter:173059194e4},2025:{summer:17414784e5,winter:176204154e4},2026:{summer:1772928e6,winter:179349114e4},2027:{summer:18049824e5,winter:182554554e4}}},2602:(H,A,o)=>{o.r(A),o.d(A,{HosPageModule:()=>te});var i=o(6895),k=o(4006),t=o(8256),O=o(9751),T=o(1566),_=o(3532);function M(n=0,p,e=T.P){let s=-1;return null!=p&&((0,_.K)(p)?e=p:s=p),new O.y(r=>{let h=function v(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;h<0&&(h=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=s?this.schedule(void 0,s):r.complete())},h)})}function m(n,p){if(1&n&&(t.O4$(),t.TgZ(0,"linearGradient"),t._UZ(1,"stop",5)(2,"stop",6),t.qZA()),2&n){const e=t.oxw(2);t.uIk("id",e.svg.outerLinearGradient.id),t.xp6(1),t.uIk("stop-color",e.svg.outerLinearGradient.colorStop1)("stop-opacity",1),t.xp6(1),t.uIk("stop-color",e.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function Z(n,p){if(1&n&&(t.O4$(),t.TgZ(0,"radialGradient"),t._UZ(1,"stop",5)(2,"stop",6),t.qZA()),2&n){const e=t.oxw(2);t.uIk("id",e.svg.radialGradient.id),t.xp6(1),t.uIk("stop-color",e.svg.radialGradient.colorStop1)("stop-opacity",1),t.xp6(1),t.uIk("stop-color",e.svg.radialGradient.colorStop2)("stop-opacity",1)}}function f(n,p){if(1&n&&(t.O4$(),t._UZ(0,"circle")),2&n){const e=t.oxw(3);t.uIk("cx",e.svg.backgroundCircle.cx)("cy",e.svg.backgroundCircle.cy)("r",e.svg.backgroundCircle.r)("fill",e.svg.backgroundCircle.fill)("fill-opacity",e.svg.backgroundCircle.fillOpacity)("stroke",e.svg.backgroundCircle.stroke)("stroke-width",e.svg.backgroundCircle.strokeWidth)}}function g(n,p){if(1&n&&(t.O4$(),t._UZ(0,"circle")),2&n){const e=t.oxw(3);t.zWS("fill","url(",e.window.location.href,"#",e.svg.radialGradient.id,")"),t.uIk("cx",e.svg.backgroundCircle.cx)("cy",e.svg.backgroundCircle.cy)("r",e.svg.backgroundCircle.r)("fill-opacity",e.svg.backgroundCircle.fillOpacity)("stroke",e.svg.backgroundCircle.stroke)("stroke-width",e.svg.backgroundCircle.strokeWidth)}}function d(n,p){if(1&n&&(t.O4$(),t.ynx(0),t.YNc(1,f,1,7,"circle",2),t.YNc(2,g,1,8,"circle",2),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.options.backgroundGradient),t.xp6(1),t.Q6J("ngIf",e.options.backgroundGradient)}}function x(n,p){if(1&n&&(t.O4$(),t._UZ(0,"circle")),2&n){const e=t.oxw(2);t.uIk("cx",e.svg.circle.cx)("cy",e.svg.circle.cy)("r",e.svg.circle.r)("fill",e.svg.circle.fill)("stroke",e.svg.circle.stroke)("stroke-width",e.svg.circle.strokeWidth)}}function C(n,p){if(1&n&&(t.O4$(),t._UZ(0,"path")),2&n){const e=t.oxw(3);t.uIk("d",e.svg.path.d)("stroke",e.svg.path.stroke)("stroke-width",e.svg.path.strokeWidth)("stroke-linecap",e.svg.path.strokeLinecap)("fill",e.svg.path.fill)}}function B(n,p){if(1&n&&(t.O4$(),t._UZ(0,"path")),2&n){const e=t.oxw(3);t.zWS("stroke","url(",e.window.location.href,"#",e.svg.outerLinearGradient.id,")"),t.uIk("d",e.svg.path.d)("stroke-width",e.svg.path.strokeWidth)("stroke-linecap",e.svg.path.strokeLinecap)("fill",e.svg.path.fill)}}function st(n,p){if(1&n&&(t.O4$(),t.ynx(0),t.YNc(1,C,1,5,"path",2),t.YNc(2,B,1,6,"path",2),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.options.outerStrokeGradient),t.xp6(1),t.Q6J("ngIf",e.options.outerStrokeGradient)}}function q(n,p){if(1&n&&(t.O4$(),t.TgZ(0,"tspan"),t._uU(1),t.qZA()),2&n){const e=p.$implicit,s=t.oxw(4);t.uIk("x",s.svg.title.x)("y",s.svg.title.y)("dy",e.dy)("font-size",s.svg.title.fontSize)("font-weight",s.svg.title.fontWeight)("fill",s.svg.title.color),t.xp6(1),t.Oqu(e.span)}}function vt(n,p){if(1&n&&(t.O4$(),t.ynx(0),t.YNc(1,q,2,7,"tspan",8),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.svg.title.tspans)}}function _t(n,p){if(1&n&&(t.O4$(),t.TgZ(0,"tspan"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.uIk("font-size",e.svg.units.fontSize)("font-weight",e.svg.units.fontWeight)("fill",e.svg.units.color),t.xp6(1),t.Oqu(e.svg.units.text)}}function ft(n,p){if(1&n&&(t.O4$(),t.TgZ(0,"tspan"),t._uU(1),t.qZA()),2&n){const e=p.$implicit,s=t.oxw(4);t.uIk("x",s.svg.subtitle.x)("y",s.svg.subtitle.y)("dy",e.dy)("font-size",s.svg.subtitle.fontSize)("font-weight",s.svg.subtitle.fontWeight)("fill",s.svg.subtitle.color),t.xp6(1),t.Oqu(e.span)}}function mt(n,p){if(1&n&&(t.O4$(),t.ynx(0),t.YNc(1,ft,2,7,"tspan",8),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.svg.subtitle.tspans)}}function Ct(n,p){if(1&n&&(t.O4$(),t.TgZ(0,"text",7),t.YNc(1,vt,2,1,"ng-container",2),t.YNc(2,_t,2,4,"tspan",2),t.YNc(3,mt,2,1,"ng-container",2),t.qZA()),2&n){const e=t.oxw(2);t.uIk("x",e.svg.circle.cx)("y",e.svg.circle.cy)("text-anchor",e.svg.title.textAnchor),t.xp6(1),t.Q6J("ngIf",e.options.showTitle),t.xp6(1),t.Q6J("ngIf",e.options.showUnits),t.xp6(1),t.Q6J("ngIf",e.options.showSubtitle)}}function xt(n,p){if(1&n&&(t.O4$(),t._UZ(0,"image",9)),2&n){const e=t.oxw(2);t.uIk("height",e.svg.image.height)("width",e.svg.image.width)("href",e.svg.image.src,null,"xlink")("x",e.svg.image.x)("y",e.svg.image.y)}}function St(n,p){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",1),t.NdJ("click",function(r){t.CHM(e);const h=t.oxw();return t.KtG(h.emitClickEvent(r))}),t.TgZ(1,"defs"),t.YNc(2,m,3,5,"linearGradient",2),t.YNc(3,Z,3,5,"radialGradient",2),t.qZA(),t.YNc(4,d,3,2,"ng-container",2),t.YNc(5,x,1,6,"circle",2),t.YNc(6,st,3,2,"ng-container",2),t.YNc(7,Ct,4,6,"text",3),t.YNc(8,xt,1,5,"image",4),t.qZA()}if(2&n){const e=t.oxw();t.uIk("viewBox",e.svg.viewBox)("height",e.svg.height)("width",e.svg.width)("class",e.options.class),t.xp6(2),t.Q6J("ngIf",e.options.outerStrokeGradient),t.xp6(1),t.Q6J("ngIf",e.options.backgroundGradient),t.xp6(1),t.Q6J("ngIf",e.options.showBackground),t.xp6(1),t.Q6J("ngIf",e.options.showInnerStroke),t.xp6(1),t.Q6J("ngIf",0!=+e.options.percent||e.options.showZeroOuterStroke),t.xp6(1),t.Q6J("ngIf",!e.options.showImage&&(e.options.showTitle||e.options.showUnits||e.options.showSubtitle)),t.xp6(1),t.Q6J("ngIf",e.options.showImage)}}class tt{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=0,this.imageWidth=0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}}let bt=(()=>{class n{constructor(e,s,r,h){this.ngZone=s,this.elRef=r,this.onClick=new t.vpe,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new t.vpe,this._viewportChangedSubscriber=null,this.options=new tt,this.defaultOptions=new tt,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(null===this.svgElement&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(a,S,y,l)=>{let u=l*Math.PI/180;return{x:a+Math.sin(u)*y,y:S-Math.cos(u)*y}},this.draw=a=>{let S=(a=void 0===a?this.options.percent:Math.abs(a))>100?100:a,y=2*this.options.radius+2*this.options.outerStrokeWidth;this.options.showBackground&&(y+=2*this.options.backgroundStrokeWidth+this.max(0,2*this.options.backgroundPadding));let c,E,l={x:y/2,y:y/2},u_x=l.x,u_y=l.y-this.options.radius,b=this.polarToCartesian(l.x,l.y,this.options.radius,360*(this.options.clockwise?S:100-S)/100);100===S&&(b.x=b.x+(this.options.clockwise?-.01:.01)),[c,E]=S>50?this.options.clockwise?[1,1]:[1,0]:this.options.clockwise?[0,1]:[0,0];let F=this.options.animateTitle?a:this.options.percent,N=F>this.options.maxPercent?`${this.options.maxPercent.toFixed(this.options.toFixed)}+`:F.toFixed(this.options.toFixed),z=this.options.animateSubtitle?a:this.options.percent,W={x:l.x,y:l.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.titleFormat&&"Function"===this.options.titleFormat.constructor.name){let P=this.options.titleFormat(F);P instanceof Array?W.texts=[...P]:W.texts.push(P.toString())}else"auto"===this.options.title?W.texts.push(N):this.options.title instanceof Array?W.texts=[...this.options.title]:W.texts.push(this.options.title.toString());let w={x:l.x,y:l.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.subtitleFormat&&"Function"===this.options.subtitleFormat.constructor.name){let P=this.options.subtitleFormat(z);P instanceof Array?w.texts=[...P]:w.texts.push(P.toString())}else this.options.subtitle instanceof Array?w.texts=[...this.options.subtitle]:w.texts.push(this.options.subtitle.toString());let I={text:`${this.options.units}`,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},L=0,U=1;if(this.options.showTitle&&(L+=W.texts.length),this.options.showSubtitle&&(L+=w.texts.length),this.options.showTitle)for(let P of W.texts)W.tspans.push({span:P,dy:this.getRelativeY(U,L)}),U++;if(this.options.showSubtitle)for(let P of w.texts)w.tspans.push({span:P,dy:this.getRelativeY(U,L)}),U++;null===this._gradientUUID&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${y} ${y}`,width:this.options.responsive?"100%":y,height:this.options.responsive?"100%":y,backgroundCircle:{cx:l.x,cy:l.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${u_x} ${u_y}\n        A ${this.options.radius} ${this.options.radius} 0 ${c} ${E} ${b.x} ${b.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:l.x,cy:l.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:W,units:I,subtitle:w,image:{x:l.x-this.options.imageWidth/2,y:l.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:"transparent"===this.options.outerStrokeGradientStopColor?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:"transparent"===this.options.backgroundGradientStopColor?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(a,S)=>{let l,u,b,c=this.options.startFromZero||a<0?0:a,E=S<0?0:this.min(S,this.options.maxPercent),F=Math.abs(Math.round(E-c));return F>=100?(l=100,u=this.options.animateTitle||this.options.animateSubtitle?Math.round(F/l):1):(l=F,u=1),b=Math.round(this.options.animationDuration/l),b<10&&(b=10,l=this.options.animationDuration/b,u=!this.options.animateTitle&&!this.options.animateSubtitle&&F>100?Math.round(100/l):Math.round(F/l)),u<1&&(u=1),{times:l,step:u,interval:b}},this.animate=(a,S)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let y=this.options.startFromZero?0:a,l=S,{step:u,interval:b}=this.getAnimationParameters(y,l),c=y;this._timerSubscription=y<l?M(0,b).subscribe(()=>{c+=u,c<=l?!this.options.animateTitle&&!this.options.animateSubtitle&&c>=100?(this.draw(l),this._timerSubscription.unsubscribe()):this.draw(c):(this.draw(l),this._timerSubscription.unsubscribe())}):M(0,b).subscribe(()=>{c-=u,c>=l?!this.options.animateTitle&&!this.options.animateSubtitle&&l>=100?(this.draw(l),this._timerSubscription.unsubscribe()):this.draw(c):(this.draw(l),this._timerSubscription.unsubscribe())})},this.applyOptions=()=>{for(let a of Object.keys(this.options))this.hasOwnProperty(a)&&void 0!==this[a]?this.options[a]=this[a]:this.templateOptions&&void 0!==this.templateOptions[a]&&(this.options[a]=this.templateOptions[a]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(a,S)=>(1*(a-S/2)-.18).toFixed(2)+"em",this.min=(a,S)=>a<S?a:S,this.max=(a,S)=>a>S?a:S,this.uuid=()=>{var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(y){var l=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==y?l:3&l|8).toString(16)})},this.checkViewport=()=>{this.findSvgElement();let a=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),a!==this.isInViewport&&this.onViewportChanged.observers.length>0&&this.ngZone.run(()=>{this.onViewportChanged.emit({oldValue:a,newValue:this.isInViewport})})},this.onScroll=a=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.ngZone.runOutsideAngular(()=>{this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0)}),null===this._viewportChangedSubscriber&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({newValue:y})=>{y&&this.render()}));let a=M(0,50).subscribe(()=>{null===this.svgElement?this.checkViewport():a.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),null!==this._viewportChangedSubscriber&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=h.get(i.K0),this.window=this.document.defaultView,Object.assign(this.options,e),Object.assign(this.defaultOptions,e)}emitClickEvent(e){this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.observers.length>0&&this.onClick.emit(e)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}findSvgElement(){if(null===this.svgElement){let e=this.elRef.nativeElement.getElementsByTagName("svg");e.length>0&&(this.svgElement=e[0])}}isElementInViewport(e){if(null==e)return!1;let h,s=e.getBoundingClientRect(),r=e.parentNode;do{if(h=r.getBoundingClientRect(),s.top>=h.bottom||s.bottom<=h.top||s.left>=h.right||s.right<=h.left)return!1;r=r.parentNode}while(r!=this.document.body);return!(s.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||s.bottom<=0||s.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||s.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(e){this.render(),"lazy"in e&&(e.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tt),t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.zs3))},n.\u0275cmp=t.Xpm({type:n,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:["options","templateOptions"]},outputs:{onClick:"onClick"},features:[t.TTD],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(e,s){1&e&&t.YNc(0,St,9,11,"svg",0),2&e&&t.Q6J("ngIf",s.svg)},dependencies:[i.sg,i.O5],encapsulation:2}),n})(),yt=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:tt,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez]}),n})();var K=o(7151),rt=o(5050),D=o(5861),at=o(3905),Mt=o(4128),et=o(8924),lt=o(4382),Tt=o(9386),Pt=o(9393),Ot=o(849),kt=o(7940),wt=o(2569),Dt=o(4465),Et=o(7278),It=o(6994),Zt=o(3646);let Ut=(()=>{class n{constructor(){this.checkedCallback=new t.vpe,this.uncheckedCallback=new t.vpe,this.isChecked=!1}ngOnInit(){}onCheckboxChange(){this.isChecked?this.checkedCallback.emit():this.uncheckedCallback.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-toggle-switch"]],outputs:{checkedCallback:"checkedCallback",uncheckedCallback:"uncheckedCallback"},decls:3,vars:1,consts:[[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider","round"]],template:function(e,s){1&e&&(t.TgZ(0,"label",0)(1,"input",1),t.NdJ("ngModelChange",function(h){return s.isChecked=h})("change",function(){return s.onCheckboxChange()}),t.qZA(),t._UZ(2,"span",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngModel",s.isChecked))},dependencies:[k.Wl,k.JJ,k.On],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#fff;transition:.3s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:var(--gray-300);transition:.3s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:var(--success-500);transform:translate(20px)}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px transparent}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();var At=o(4081),Bt=o(7772),Lt=o(7236);let Ft=(()=>{class n{transform(e){const s=Math.floor(e/3600),r=Math.floor(e%3600/60);return`${String(s).padStart(2,"0")}:${String(r).padStart(2,"0")}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"convertSecotdsToHoursAndMinutes",type:n,pure:!0}),n})();function Wt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"ion-content",0)(1,"app-header",31),t.NdJ("backButtonCallback",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cancel())}),t.qZA(),t.TgZ(2,"div",32)(3,"app-duty-radio-button",33),t.NdJ("selectedValue",function(r){t.CHM(e);const h=t.oxw(2);return t.KtG(h.selectButton(r))}),t.qZA(),t.TgZ(4,"app-location-input",34),t.NdJ("valueChange",function(r){t.CHM(e);const h=t.oxw(2);return t.KtG(h.locationDescription=r)})("validationChange",function(r){t.CHM(e);const h=t.oxw(2);return t.KtG(h.validation.location=r)}),t.qZA(),t.TgZ(5,"app-textarea",35),t.NdJ("valueChange",function(r){t.CHM(e);const h=t.oxw(2);return t.KtG(h.comments=r)}),t.qZA(),t.TgZ(6,"div",36)(7,"button",37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cancel())}),t._uU(8,"Back"),t.qZA(),t.TgZ(9,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.confirm())}),t._uU(10,"Save"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.Q6J("forceOverscroll",!1),t.xp6(1),t.Q6J("title","Select Duty Status")("backButton",!0),t.xp6(2),t.Q6J("currentValue",e.selectedButton),t.xp6(1),t.Q6J("label","Location")("fill",!0)("type","text")("value",e.locationDescription)("loading",e.locationLoading)("disabled",e.locationDisable)("validation",e.validation.location),t.xp6(1),t.Q6J("label","Comments")("fill",!0)("type","text")("value",e.comments)("noValidation",!0)}}function Rt(n,p){if(1&n&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"circle-progress",40),t.qZA(),t.TgZ(3,"div",39),t._UZ(4,"circle-progress",41),t.qZA(),t.TgZ(5,"div",39),t._UZ(6,"circle-progress",42),t.qZA(),t.TgZ(7,"div",39),t._UZ(8,"circle-progress",43),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("percent",e.percentBreak)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",e.convertSecondToHours(e.titleBreak))("showUnits",!1)("animation",e.animateCircles)("animationDuration",500),t.xp6(2),t.Q6J("percent",e.percentDriving)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",e.convertSecondToHours(e.titleDriving))("animation",e.animateCircles)("showUnits",!1)("animationDuration",500),t.xp6(2),t.Q6J("percent",e.percentShift)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",e.convertSecondToHours(e.titleShift))("showUnits",!1)("animation",e.animateCircles)("animationDuration",500),t.xp6(2),t.Q6J("percent",e.percentCycle)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",e.convertSecondToHours(e.titleCycle))("showUnits",!1)("animation",e.animateCircles)("animationDuration",500)}}function Ht(n,p){if(1&n&&(t.TgZ(0,"div",44)(1,"div",45)(2,"div",46)(3,"p",7),t._uU(4,"Minimum Break Required"),t.qZA(),t.TgZ(5,"p",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",47),t._UZ(8,"div",48),t.qZA()(),t.TgZ(9,"div",45)(10,"div",46)(11,"p",7),t._uU(12,"Until shift reset"),t.qZA(),t.TgZ(13,"p",7),t._uU(14),t.qZA()(),t.TgZ(15,"div",47),t._UZ(16,"div",49),t.qZA()(),t.TgZ(17,"div",45)(18,"div",46)(19,"p",7),t._uU(20,"Until Cycle Reset"),t.qZA(),t.TgZ(21,"p",7),t._uU(22),t.qZA()(),t.TgZ(23,"div",47),t._UZ(24,"div",50),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(6),t.hij("",e.restBreak," / 00:30"),t.xp6(2),t.Akn("width: "+100*e.progressBreak+"%"),t.xp6(6),t.hij("",e.restShift," / 00:30"),t.xp6(2),t.Akn("width: "+100*e.progressShift+"%"),t.xp6(6),t.hij("",e.restCycle," / 00:30"),t.xp6(2),t.Akn("width: "+100*e.progressCycle+"%")}}function Nt(n,p){1&n&&t._UZ(0,"img",51)}function zt(n,p){1&n&&t._UZ(0,"img",52)}const ct=function(n,p){return{"status-dot-error":n,"status-dot-success":p}};function Jt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"div",53),t.NdJ("click",function(){const h=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.selectLog(h))}),t.TgZ(1,"div",54)(2,"p",7),t._uU(3),t.ALo(4,"date"),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"div",55),t._UZ(7,"div",56),t.TgZ(8,"p"),t._uU(9,"Form"),t.qZA(),t._UZ(10,"div",56),t.TgZ(11,"p"),t._uU(12,"Certify"),t.qZA()()(),t.TgZ(13,"div",57)(14,"p",58),t._uU(15),t.ALo(16,"convertSecotdsToHoursAndMinutes"),t.qZA()()()}if(2&n){const e=p.$implicit;t.xp6(3),t.AsE("",t.xi3(4,5,e.logDate,"EEEE"),", ",t.xi3(5,8,e.logDate,"MMMM dd"),""),t.xp6(4),t.Q6J("ngClass",t.WLB(13,ct,!e.formManner,e.formManner)),t.xp6(3),t.Q6J("ngClass",t.WLB(16,ct,!e.certified,e.certified)),t.xp6(5),t.Oqu(t.lcZ(16,11,e.timeWorked))}}const ut=function(n,p){return{"service-on":n,"service-off":p}},dt=function(n){return{"background-color":n}};function Yt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.checkLocation())}),t._UZ(3,"img",5),t.qZA(),t.TgZ(4,"div",6)(5,"p",7),t._uU(6),t.qZA(),t.TgZ(7,"p",8),t._uU(8),t.qZA()(),t.TgZ(9,"div",4),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.checkBluetooth())}),t._UZ(10,"img",9),t.qZA()(),t.TgZ(11,"div",10),t._UZ(12,"img",11),t.TgZ(13,"div",12)(14,"p",7),t._uU(15,"Warning"),t.qZA(),t.TgZ(16,"p",8),t._uU(17,"Make sure that ELD hardware is properly installed and Vehicle power is ON"),t.qZA()()(),t.TgZ(18,"div",13)(19,"p",7),t._uU(20,"Current Status"),t.qZA(),t.TgZ(21,"div",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toggleModal())}),t.TgZ(22,"span",15),t._uU(23),t.qZA(),t._UZ(24,"img",16),t.qZA(),t.TgZ(25,"div",17),t._uU(26),t.qZA()(),t.TgZ(27,"ion-modal",18),t.YNc(28,Wt,11,16,"ng-template"),t.qZA(),t.TgZ(29,"div",19)(30,"p",20),t._uU(31,"Hours Remaining"),t.qZA(),t.YNc(32,Rt,9,36,"div",21),t.qZA(),t.YNc(33,Ht,25,9,"div",22),t.TgZ(34,"div",23)(35,"div",24)(36,"p",7),t._uU(37,"8 h 33 m"),t.qZA(),t.TgZ(38,"p",8),t._uU(39,"WH Last 7 Days"),t.qZA()(),t.TgZ(40,"div",24)(41,"p",7),t._uU(42,"+ 00h 00h"),t.qZA(),t.TgZ(43,"p",8),t._uU(44,"Hours Recap"),t.qZA()()(),t.TgZ(45,"div",25)(46,"p",7),t._uU(47,"Split Sleeper Berth"),t.qZA(),t._UZ(48,"app-toggle-switch"),t.qZA(),t.TgZ(49,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.switchMode())}),t.YNc(50,Nt,1,0,"img",27),t.YNc(51,zt,1,0,"img",28),t._uU(52),t.qZA(),t.TgZ(53,"p",7),t._uU(54,"Logs and Recap Hours"),t.qZA(),t.TgZ(55,"div",29),t.YNc(56,Jt,17,19,"div",30),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngClass",t.WLB(15,ut,e.locationStatus,!e.locationStatus)),t.xp6(4),t.Oqu(e.driverName),t.xp6(2),t.hij("Vehicle Unit: ",e.vehicle.vehicleUnit,""),t.xp6(1),t.Q6J("ngClass",t.WLB(18,ut,e.bluetoothStatus,!e.bluetoothStatus)),t.xp6(12),t.Q6J("ngStyle",t.VKq(21,dt,e.getStatusColor(e.selectedButton))),t.xp6(2),t.Oqu(e.currentStatus.statusName),t.xp6(2),t.Q6J("ngStyle",t.VKq(23,dt,e.getStatusColor(e.selectedButton))),t.xp6(1),t.Oqu(e.currentStatusTime),t.xp6(1),t.Q6J("isOpen",e.isModalOpen),t.xp6(5),t.Q6J("ngIf",!e.restMode),t.xp6(1),t.Q6J("ngIf",e.restMode),t.xp6(17),t.Q6J("ngIf",!e.restMode),t.xp6(1),t.Q6J("ngIf",e.restMode),t.xp6(1),t.hij(" ",e.restMode?"Switch to Drive Mode":"Switch to Rest Mode"," "),t.xp6(4),t.Q6J("ngForOf",e.logDailies)}}const Kt=[{path:"",component:(()=>{class n{constructor(e,s,r,h,a,S,y,l,u,b,c,E,F,N,z){this.navCtrl=e,this.route=s,this.databaseService=r,this.dashboardService=h,this.internetService=a,this.storage=S,this.storageService=y,this.locationService=l,this.bluetoothService=u,this.toastService=b,this.utilityService=c,this.shareService=E,this.changeDetectorRef=F,this.platform=N,this.ngZone=z,this.message="",this.someErrors=!1,this.bReady=!1,this.logDailies=[],this.logEvents=[],this.countDays=[],this.selectedButton="",this.progressBreak=0,this.progressShift=0,this.progressCycle=0,this.isConfirmButtonActive=!0,this.vehicleId="",this.driverId="",this.driverName="",this.companyId="",this.pickedVehicle="",this.timeZone="",this.percentBreak=0,this.percentDriving=0,this.percentShift=0,this.percentCycle=0,this.titleBreak=0,this.titleDriving=0,this.titleShift=0,this.titleCycle=0,this.redCircle=0,this.restBreak="",this.restShift="",this.restCycle="",this.currentStatus={statusCode:"",statusName:""},this.currentStatusTime="",this.locationDescription="",this.location={locationType:"",description:"",latitude:0,longitude:0},this.comments="",this.restMode=!1,this.locationStatus=!1,this.locationServiceState=!1,this.locationLoading=!1,this.locationDisable=!1,this.bluetoothStatus=!1,this.lastSelectedButton="",this.validation={location:!1},this.animateCircles=!0,this.networkStatus=!0}ngOnInit(){var e=this;return(0,D.Z)(function*(){yield e.getLocationState(),yield e.getBluetoothState(),e.platform.resume.subscribe(()=>{e.ngZone.run((0,D.Z)(function*(){yield e.getLocationState(),yield e.getBluetoothState()}))}),e.locationService.getLocationStatusObservable().subscribe(function(){var s=(0,D.Z)(function*(r){e.locationServiceState=r,yield e.getLocationState()});return function(r){return s.apply(this,arguments)}}()),e.bluetoothService.getBluetoothStatusObservable().subscribe(function(){var s=(0,D.Z)(function*(r){yield e.getBluetoothState(),yield e.bluetoothService.getBluetoothAuthorizationStatus()});return function(r){return s.apply(this,arguments)}}()),e.internetSub=e.internetService.internetStatus$.subscribe(function(){var s=(0,D.Z)(function*(r){e.networkStatus=r,r&&(e.logEvents=yield(0,at.z)(e.databaseService.getLogEvents()),e.logDailies=yield(0,at.z)(e.databaseService.getLogDailies()))});return function(r){return s.apply(this,arguments)}}()),setTimeout(()=>e.animateCircles=!1,500)})()}ngOnDestroy(){this.shareService.destroyMessage()}ionViewWillEnter(){var e=this;return(0,D.Z)(function*(){e.getVehicle(),e.vehicleId=yield e.storage.get("vehicleId"),e.driverId=yield e.storage.get("driverId"),e.companyId=yield e.storage.get("companyId"),e.timeZone=yield e.storage.get("timeZone"),e.bAuthorized=yield e.storage.get("bAuthorized"),e.driverName=yield e.storage.get("name"),e.pickedVehicle=yield e.storage.get("vehicleUnit"),e.databaseSubscription=e.databaseService.databaseReadySubject.subscribe(s=>{if(s){e.bReady=s;const r=e.databaseService.getLogDailies(),h=e.databaseService.getLogEvents();(0,Mt.D)([r,h]).subscribe(function(){var a=(0,D.Z)(function*([S,y]){e.logDailies=S,e.logEvents=y;const l=e.logEvents.filter(u=>["OFF","SB","D","ON","PC","YM"].includes(u.type.code));if(e.selectedButton=l[l.length-1].type.code,e.lastSelectedButton=l[l.length-1].type.code,!1===e.bAuthorized){const u=e.logEvents[e.logEvents.length-1];u.eventTime.logDate=(0,i.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",et.W3[e.timeZone]);let b={logEventId:e.utilityService.uuidv4(),companyId:u.companyId,driverId:e.driverId,eventTime:{logDate:(0,i.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",et.W3[e.timeZone]),timeStamp:(new Date).getTime(),timeStampEnd:(new Date).getTime(),timeZone:e.timeZone},vehicle:{vehicleId:e.vehicleId},eld:{eldId:"00000000-0000-0000-0000-000000000000",macAddress:"",serialNumber:""},location:{locationType:"AUTOMATIC",description:"2mi from Chisinau, Chisinau",latitude:0,longitude:0},sequenceNumber:u?u.sequenceNumber+1:1,type:{name:"Login",code:"LOGIN"},recordStatus:{name:"Driver",code:"DRIVER"},recordOrigin:{name:"Active",code:"ACTIVE"},odometer:0,engineHours:0,malfunction:!1,dataDiagnosticEvent:!1,certificationDate:u.certificationDate,comment:"",eventDataCheck:"",inspection:!1,sent:!0};e.storage.set("lastStatusCode",e.selectedButton),e.storage.set("bAuthorized",!0),e.networkStatus?(e.dashboardService.updateLogEvent(u).toPromise().then(function(){var c=(0,D.Z)(function*(E){console.log("Last LogEvent is updated on server:",E),yield e.updateIndexLogEvents(u,!0)});return function(E){return c.apply(this,arguments)}}()).catch(function(){var c=(0,D.Z)(function*(E){console.log("Internet Status: "+e.networkStatus),console.log("Last LogEvent Pushed in offline logEvents array"),yield e.updateIndexLogEvents(u,!1)});return function(E){return c.apply(this,arguments)}}()),e.dashboardService.updateLogEvent(b).toPromise().then(c=>{console.log("New status is updated on server:",c),e.updateLogEvents(b,!0)}).catch(function(){var c=(0,D.Z)(function*(E){console.log("Internet Status: "+e.networkStatus),console.log("New Log Event Status Pushed in offline logEvents Array"),e.updateLogEvents(b,!1)});return function(E){return c.apply(this,arguments)}}())):(console.log("Updated logEvents in offline array"),yield e.updateIndexLogEvents(u,!1),e.updateLogEvents(b,!1))}yield e.updateLogDailies(),e.calculateCircles()});return function(S){return a.apply(this,arguments)}}())}}),e.updateEveryMinute(),e.paramsSubscription=e.route.params.subscribe(s=>{e.bReady&&(e.databaseSubscription=e.databaseService.getLogDailies().subscribe(r=>{0!==r.length&&(e.logDailies=r)}))})})()}updateLogEvents(e,s){var r=this;return(0,D.Z)(function*(){e.sent=s,r.logEvents.push(e),yield r.storage.set("logEvents",r.logEvents)})()}getLocationState(){var e=this;return(0,D.Z)(function*(){yield e.locationService.isLocationAvailable().then(s=>{null!=s&&(e.locationStatus=s),e.changeDetectorRef.detectChanges()})})()}getBluetoothState(){var e=this;return(0,D.Z)(function*(){let s=(yield e.bluetoothService.getBluetoothAuthorizationStatus()).status;e.bluetoothStatus=(yield e.bluetoothService.getBluetoothState())&&s,e.changeDetectorRef.detectChanges()})()}updateIndexLogEvents(e,s){var r=this;return(0,D.Z)(function*(){e.sent=s;const h=r.logEvents.findIndex(a=>a.logEventId===e.logEventId);-1!==h&&(r.logEvents[h]=e),yield r.storage.set("logEvents",r.logEvents)})()}getVehicle(){this.storageService.getVehicles().subscribe(e=>{this.vehicle=e[0]},e=>console.log(e))}switchMode(){this.restMode=!this.restMode}checkLocation(){var e=this;return(0,D.Z)(function*(){(yield e.locationService.isLocationServiceAvailable())?yield e.locationService.requestPermission():yield e.locationService.goToLocationServiceSettings()})()}checkBluetooth(){var e=this;return(0,D.Z)(function*(){if(!(yield e.bluetoothService.getBluetoothState())){if(!confirm("Bluetooth service is turned off.\nProceed to settings?"))return void alert("In order to connect to a device, you to turn on the bluetooth service");yield e.bluetoothService.goToBluetoothServiceSettings()}yield e.bluetoothService.requestBluetoothPermission()})()}toggleMode(){const e=document.getElementById("driveModeContainer"),s=document.getElementById("restModeContainer"),r=document.querySelector(".drive_mode ion-button");e&&s&&r&&("none"===e.style.display?(e.style.display="block",s.style.display="none"):(e.style.display="none",s.style.display="block"))}calculateCircles(){var e=this;return(0,D.Z)(function*(){const s=["OFF","SB","D","ON","PC","YM"];let r=yield e.storage.get("HoursOfServiceRuleHours"),a=(yield e.storage.get("HoursOfServiceRuleDays"),28800),S=39600,y=50400,l=60*r*60,u=28800,b=39600,c=50400,E=60*r*60,F=0,N=0,z=0,W=0,w=0,I=0,L=0,U=0,P=0,R=0,J=0,ee=0,V=0,G=0,nt=0,Q=0,$=0,it=36e3,ot=122400,pt="",X="",Y="",ht="",ne=!1;e.logEvents.forEach(j=>{if(s.includes(j.type.code)){switch(pt=new Date(j.eventTime.timeStamp).toISOString(),Y=j.type.code,ht=j.type.name,X=j.eventTime.timeStampEnd?new Date(j.eventTime.timeStampEnd).toISOString():(new Date).toISOString(),"0001-01-01T00:00:00"==X&&(X=(0,i.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",et.W3[e.timeZone])),w=(new Date(X).getTime()-new Date(pt).getTime())/1e3,Y){case"OFF":case"SB":J+=w,L+=w,w>=7200&&w<14400&&(V+=w),"SB"==Y&&w>=25200&&w<32400&&(G+=w),w>=ot&&(U=0,ee=0,ne=!0),w>=it&&(P=0,R=0,J=0,V=0,G=0),Q=it-w,$=ot-w;break;case"D":R+=w,I+=w,U+=w,L=0,Q=it,$=ot;break;case"ON":case"PC":case"YM":P+=w,U+=w,L+=w,Q=it,$=ot}L>=1800&&(I=0),nt=1800-L}}),0===e.logEvents.length?e.currentStatus={statusCode:"OFF",statusName:"Off Duty"}:(e.currentStatus.statusCode=Y,e.currentStatus.statusName=ht),e.currentStatusTime=e.convertSecondToHours(w),e.restBreak=e.convertSecondToHours(0),e.restShift=e.convertSecondToHours(0),e.restCycle=e.convertSecondToHours(0),nt>=0&&(e.restBreak=e.convertSecondToHours(nt),e.progressBreak=100*nt/1800/100),Q>=0&&(e.restShift=e.convertSecondToHours(Q),e.progressShift=100*Q/36e3/100),$>=0&&(e.restCycle=e.convertSecondToHours($),e.progressCycle=100*$/122400/100),(Y="")&&(Y="OFF",e.message="Off Duty"),E<U&&(u=0,b=0,c=0),b<R&&(u=0),c-R-P-J<0?"OFF"==Y||"SB"==Y?c=c-R-P<0?-1:R+P+J<c?c-R-P-J:0:(c=c+G+V-R-P-J,c=c-R-P-J):c=c-R-P-J,c>=0?(z=100*c/y,e.percentShift=z,e.titleShift=c,e.redCircle+=0):(z=100*-c/y,c=y+c,e.percentShift=z,e.titleShift=c,e.redCircle+=1),b-=R,b>=0?(N=100*b/S,e.percentDriving=N,e.titleDriving=b,e.redCircle+=0):(b=S-b,N=100*-b/S,e.percentDriving=N,e.titleDriving=-b,e.redCircle+=1),u-=I,u>=0?(F=100*u/a,e.percentBreak=F,e.titleBreak=u,e.redCircle+=0):(F=100*-u/a,u=a-u,e.percentBreak=F,e.titleBreak=-u,e.redCircle+=1),E-=U,E>=0?(W=100*E/l,e.percentCycle=W,e.titleCycle=E,e.redCircle+=0):(E=l-E,W=100*E/l,e.percentCycle=W,e.titleCycle=-E,e.redCircle+=1)})()}toggleModal(){var e=this;return(0,D.Z)(function*(){e.isModalOpen=!0,e.locationLoading=!0,e.locationDescription="",e.currentStatus&&e.selectButton(e.currentStatus.statusCode),yield e.locationService.getCurrentLocation().then(s=>{e.location=s,e.locationDescription=e.location.description,e.locationLoading=!1,e.locationDisable="AUTOMATIC"===e.location.locationType,console.log(e.locationDescription)})})()}selectLog(e){this.navCtrl.navigateForward(["log-item",e.logDailyId])}selectButton(e){this.selectedButton=e,this.isConfirmButtonActive=this.selectedButton!==this.currentStatus.statusCode}cancel(){this.shareService.destroyMessage(),this.selectedButton=this.lastSelectedButton,this.isModalOpen=!1}confirm(){var e=this;return(0,D.Z)(function*(){e.shareService.changeMessage(e.utilityService.generateString(5)),e.utilityService.validateForm(e.validation)&&(e.selectedButton&&e.selectedButton!==e.lastSelectedButton?(e.lastSelectedButton=e.selectedButton,e.isModalOpen=!1,e.shareService.destroyMessage(),yield e.storage.set("lastStatusCode",e.selectedButton),yield e.onWillDismiss()):e.toastService.showToast("You need to select a different status!","warning"))})()}onWillDismiss(){var e=this;return(0,D.Z)(function*(){const s=(new Date).getTime(),r=["OFF","SB","D","ON","PC","YM"],h=e.logEvents.filter(l=>r.includes(l.type.code));let a=h[h.length-1];a&&(a.eventTime.timeStampEnd=s);let S={OFF:{statusName:"Off Duty",eventTypeType:"DUTY_STATUS"},SB:{statusName:"Sleeper Berth",eventTypeType:"DUTY_STATUS"},D:{statusName:"Driving",eventTypeType:"DUTY_STATUS"},ON:{statusName:"On Duty",eventTypeType:"DUTY_STATUS"},PC:{statusName:"Personal Conveyance",eventTypeType:"DRIVER_INDICATES"},YM:{statusName:"Yard Moves",eventTypeType:"DRIVER_INDICATES"}},y={logEventId:e.utilityService.uuidv4(),companyId:a.companyId,driverId:e.driverId,eventTime:{logDate:(0,i.p6)(new Date(s),"yyyy/MM/dd","en_US",et.W3[e.timeZone]),timeStamp:s,timeZone:e.timeZone},vehicle:{vehicleId:e.vehicleId},eld:{eldId:"00000000-0000-0000-0000-000000000000",macAddress:"",serialNumber:""},location:{locationType:e.location.locationType,description:e.locationDescription,latitude:e.location.latitude,longitude:e.location.longitude},sequenceNumber:a?a.sequenceNumber+1:1,type:{name:S[e.selectedButton]?S[e.selectedButton].statusName:"Unknown",code:e.selectedButton},recordStatus:{name:"Driver",code:"DRIVER"},recordOrigin:{name:"Active",code:"ACTIVE"},odometer:0,engineHours:0,malfunction:!1,dataDiagnosticEvent:!1,certificationDate:a.certificationDate,comment:"",eventDataCheck:"",inspection:!1,sent:!0};e.networkStatus?(e.dashboardService.updateLogEvent(a).toPromise().then(function(){var l=(0,D.Z)(function*(u){console.log("Last LogEvent is updated on server:",u),yield e.updateIndexLogEvents(a,!0)});return function(u){return l.apply(this,arguments)}}()).catch(function(){var l=(0,D.Z)(function*(u){console.log("Internet Status: "+e.networkStatus),console.log("Last LogEvent Pushed in offline logEvents array"),yield e.updateIndexLogEvents(a,!1)});return function(u){return l.apply(this,arguments)}}()),e.dashboardService.updateLogEvent(y).toPromise().then(l=>{console.log("New status is updated on server:",l),e.updateLogEvents(y,!0)}).catch(function(){var l=(0,D.Z)(function*(u){console.log("Internet Status: "+e.networkStatus),console.log("New Log Event Status Pushed in offline logEvents Array"),e.updateLogEvents(y,!1)});return function(u){return l.apply(this,arguments)}}())):(console.log("Updated logEvents in offline array"),yield e.updateIndexLogEvents(a,!1),e.updateLogEvents(y,!1)),e.updateLogDailies(),e.calculateCircles(),e.isModalOpen=!1})()}convertSecondToHours(e){let s,r,h;return e<0?(s="-",e=-e):s="",r=(24*Math.trunc(e/86400%24)+Math.trunc(e/3600%24)).toString(),h=(Math.trunc(e/60)%60).toString(),0===r.length&&(r="00"),1===r.length&&(r="0"+r),0===h.length&&(h="0"),1===h.length&&(h="0"+h),s+r+":"+h}updateLogDailies(){var e=this;return(0,D.Z)(function*(){let s=new Date;e.countDays=[];for(let I=0;I<14;I++){const L=s.toISOString().split("T")[0].replace(/-/g,"/"),U=e.logDailies.findIndex(P=>P.logDate.includes(L));if(-1!==U)e.countDays.push(e.logDailies[U]);else{let P={logDailyId:e.utilityService.uuidv4(),companyId:e.companyId,driverId:e.driverId,driverName:"",logDate:L.replace(/-/g,"/"),timeOffDuty:0,timeSleeper:0,timeDriving:0,timeOnDuty:0,timeWorked:0,violations:[],formManner:!1,certified:!1,form:{trailers:"",shippingDoc:"",fromAddress:"",toAddress:"",signatureId:"00000000-0000-0000-0000-000000000000"}};e.countDays.push(P)}s.setDate(s.getDate()-1)}e.countDays.sort((I,L)=>L.logDate.localeCompare(I.logDate)),e.logDailies=e.countDays.slice(),yield e.storage.set("logDailies",e.logDailies);const r=["OFF","SB","D","ON","PC","YM"];let h=null,a=null,S=0,y=0,l=0,u=0,b=0,c=0,E=0,F=0,N=0,z=0;for(let I=0;I<e.logDailies.length;I++){let L=e.logDailies[I].logDate;l=0,u=0,b=0,c=0,E=e.logDailies[I].timeOffDuty,F=e.logDailies[I].timeSleeper,N=e.logDailies[I].timeDriving,z=e.logDailies[I].timeOnDuty,e.logEvents.forEach(U=>{if(r.includes(U.type.code)){let P=U.eventTime.timeStampEnd?(0,i.p6)(new Date(L),"yyyy-MM-dd","en_US")<=(0,i.p6)(new Date(U.eventTime.timeStampEnd),"yyyy-MM-dd","en_US"):(0,i.p6)(new Date(L),"yyyy-MM-dd","en_US")<=(0,i.p6)(new Date,"yyyy-MM-dd","en_US");if((0,i.p6)(new Date(U.eventTime.timeStamp),"yyyy-MM-dd","en_US")<=(0,i.p6)(new Date(L),"yyyy-MM-dd","en_US")&&P)switch(h=new Date(U.eventTime.timeStamp),S=h.toLocaleDateString()===new Date(L).toLocaleDateString()?60*h.getHours()+h.getMinutes():0,a=new Date(U.eventTime.timeStampEnd),y=a.toLocaleDateString()===new Date(L).toLocaleDateString()?60*a.getHours()+a.getMinutes():1440,U.type.code.toUpperCase()){case"OFF":case"PC":l+=60*(y-S);break;case"SB":u+=60*(y-S);break;case"D":b+=60*(y-S);break;case"ON":case"YM":c+=60*(y-S)}}}),(E!=l||F!=u||N!=b||z!=c)&&(e.logDailies[I].timeOffDuty=l,e.logDailies[I].timeSleeper=u,e.logDailies[I].timeDriving=b,e.logDailies[I].timeOnDuty=c,e.logDailies[I].timeWorked=b+c,e.networkStatus?e.dashboardService.updateLogDaily(e.logDailies[I]).subscribe(function(){var U=(0,D.Z)(function*(P){console.log("LogDaily (durationStatuses) is updated on server:",P),yield e.updateIndexLogDaily(e.logDailies[I],!0)});return function(P){return U.apply(this,arguments)}}(),function(){var U=(0,D.Z)(function*(P){console.log("Internet Status: "+e.networkStatus),yield e.updateIndexLogDaily(e.logDailies[I],!1),console.log("Pushed in logDailies")});return function(P){return U.apply(this,arguments)}}()):(console.log("Updated logEvents in offline array"),yield e.updateIndexLogDaily(e.logDailies[I],!1)))}})()}updateLogDaily(e,s){var r=this;return(0,D.Z)(function*(){e.sent=s,r.logDailies.push(e),yield r.storage.set("logDailies",r.logDailies)})()}updateIndexLogDaily(e,s){var r=this;return(0,D.Z)(function*(){e.sent=s;const h=r.logDailies.findIndex(a=>a.logDailyId===e.logDailyId);-1!==h&&(r.logDailies[h]=e),yield r.storage.set("logDailies",r.logDailies)})()}getStatusColor(e){return e?{OFF:"var(--gray-300)",SB:"var(--gray-500)",ON:"var(--warning-400)",D:"var(--success-500)",PC:"var(--gray-300)",YM:"var(--warning-400)"}[e]:"var(--success-500)"}updateEveryMinute(){setInterval(()=>{this.updateLogDailies(),this.calculateCircles()},6e4)}ionViewWillLeave(){var e=this;return(0,D.Z)(function*(){yield e.storage.set("lastKnownLocation",e.locationDescription),e.databaseSubscription&&e.databaseSubscription.unsubscribe()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(K.SH),t.Y36(rt.gz),t.Y36(lt.k),t.Y36(Tt.s),t.Y36(Pt.W),t.Y36(Ot.K),t.Y36(lt.k),t.Y36(kt.a),t.Y36(wt.G),t.Y36(Dt.k),t.Y36(Et.t),t.Y36(It.t),t.Y36(t.sBO),t.Y36(K.t4),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hos"]],decls:2,vars:2,consts:[[3,"forceOverscroll"],["class","hos-wrapper",4,"ngIf"],[1,"hos-wrapper"],[1,"hos-header"],[1,"service",3,"ngClass","click"],["src","assets/icon/location_icon.svg"],[1,"hos-name"],[1,"subtitle"],[1,"text-1"],["src","assets/icon/bluetooth_icon.svg"],[1,"warning"],["src","assets/icon/warning.svg","alt","warning"],[1,"warning-text"],[1,"status-bar"],["id","trigger-status",1,"green",2,"max-width","39%",3,"ngStyle","click"],[1,"text-elipsis"],["src","assets/icon/arrow-bottom.svg","alt","arrow"],[1,"green",3,"ngStyle"],["trigger","trigger-status",3,"isOpen"],[1,"circles"],[1,"text-2",2,"margin-bottom","5px"],["class","circles-block",4,"ngIf"],["class","rest-mode",4,"ngIf"],[1,"time"],[1,"time-block"],[1,"switch-sleep"],[1,"btn","primary-btn",3,"click"],["src","assets/icon/moon.svg","alt","moon",4,"ngIf"],["src","assets/icon/drive.svg","alt","moon",4,"ngIf"],[1,"log-dailies"],["class","log-daily",3,"click",4,"ngFor","ngForOf"],[3,"title","backButton","backButtonCallback"],[1,"modal-content"],[3,"currentValue","selectedValue"],[3,"label","fill","type","value","loading","disabled","validation","valueChange","validationChange"],[3,"label","fill","type","value","noValidation","valueChange"],[1,"btns-flex"],[1,"btn","secondary-btn",3,"click"],[1,"circles-block"],[1,"circle-block"],["outerStrokeColor","rgb(254, 200, 75)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgb(254, 200, 75)","titleFontWeight","600","subtitle","Break","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],["outerStrokeColor","rgba(18, 183, 106, 1)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgba(18, 183, 106, 1)","titleFontWeight","600","subtitle","Driving","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","animation","showUnits","animationDuration"],["outerStrokeColor","rgba(155, 138, 251, 1)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgba(155, 138, 251, 1)","titleFontWeight","600","subtitle","Shift","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],["outerStrokeColor","rgba(251, 101, 20, 1)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgba(251, 101, 20, 1)","titleFontWeight","600","subtitle","Cycle","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],[1,"rest-mode"],[1,"rest-row"],[1,"row-1"],[1,"progress-bar-outer"],["id","inner-1",1,"progress-bar-inner"],["id","inner-2",1,"progress-bar-inner"],["id","inner-3",1,"progress-bar-inner"],["src","assets/icon/moon.svg","alt","moon"],["src","assets/icon/drive.svg","alt","moon"],[1,"log-daily",3,"click"],[1,"log-left"],[1,"sub-info"],[1,"status-dot",3,"ngClass"],[1,"log-right"],[1,"hours-worked"]],template:function(e,s){1&e&&(t.TgZ(0,"ion-content",0),t.YNc(1,Yt,57,25,"div",1),t.qZA()),2&e&&(t.Q6J("forceOverscroll",!1),t.xp6(1),t.Q6J("ngIf",s.vehicle))},dependencies:[i.mk,i.sg,i.O5,i.PC,K.W2,K.ki,bt,Zt.G,Ut,At.R,Bt.U,Lt.L,i.uU,Ft],styles:[".hos-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:20px;padding:20px}.hos-wrapper[_ngcontent-%COMP%]   .hos-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;gap:10px;background-color:var(--gray-100);border-radius:50px;padding:10px 15px}.hos-wrapper[_ngcontent-%COMP%]   .hos-header[_ngcontent-%COMP%]   .hos-name[_ngcontent-%COMP%]{flex-grow:1;text-align:center}.hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;background-color:var(--warning-500);border-radius:50px;padding:10px 15px}.hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .text-1[_ngcontent-%COMP%]{color:var(--warning-25)}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{flex-grow:1}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;gap:10px;color:var(--gray-25);font-size:16px;border-radius:30px;padding:5px 10px}.hos-wrapper[_ngcontent-%COMP%]   .circles-block[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;max-width:80%;min-width:60%;margin:0 auto}.hos-wrapper[_ngcontent-%COMP%]   .circles-block[_ngcontent-%COMP%]   .circle-block[_ngcontent-%COMP%]{width:45%;max-width:140px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]{width:100%;height:10px;background-color:var(--gray-200);border-radius:20px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   .progress-bar-inner[_ngcontent-%COMP%]{height:10px;border-radius:20px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-1[_ngcontent-%COMP%]{background-color:#fec84b}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-2[_ngcontent-%COMP%]{background-color:#9b8afb}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-3[_ngcontent-%COMP%]{background-color:#fb6514}.hos-wrapper[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]{flex-grow:1;border-radius:30px;background-color:var(--gray-100);text-align:center;padding:20px}.hos-wrapper[_ngcontent-%COMP%]   .switch-sleep[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:var(--gray-100);border-radius:30px;padding:15px}.hos-wrapper[_ngcontent-%COMP%]   .switch-sleep[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{--handle-background: var(--gray-300);--handle-background-checked: var(--success-500);--track-background: var(--gray-25);--track-background-checked: var(--gray-25);--handle-width: 23px;--handle-height: 23px}.hos-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:217px;height:50px;display:flex;justify-content:space-between;align-items:center;border-radius:41px;font-size:16px;padding:15px;margin:0 auto}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--gray-100);border-radius:10px;padding:15px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]   .sub-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]   .sub-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--gray-500)}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-right[_ngcontent-%COMP%]{background-color:var(--success-500);border-radius:30px;padding:5px 10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-right[_ngcontent-%COMP%]   .hours-worked[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:500}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;padding:30px}.modal-content[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{height:100px}.modal-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:41px;font-size:16px}ion-progress-bar[_ngcontent-%COMP%]{--background: var(--gray-200);--progress-background: #9b8afb}ion-progress-bar[_ngcontent-%COMP%]   #progress-break[_ngcontent-%COMP%]{--progress-background: #fec84b}ion-progress-bar[_ngcontent-%COMP%]   #progress-shift[_ngcontent-%COMP%]{--progress-background: #9b8afb}ion-progress-bar[_ngcontent-%COMP%]   #progress-cycle[_ngcontent-%COMP%]{--progress-background: #fb6514}.status-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.status-dot-error[_ngcontent-%COMP%]{background-color:var(--error-600)}.status-dot-success[_ngcontent-%COMP%]{background-color:var(--success-600)}.service[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center}.service-on[_ngcontent-%COMP%]{background-color:var(--success-500)}.service-off[_ngcontent-%COMP%]{background-color:var(--error-500)}"]}),n})()}];let Vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[rt.Bz.forChild(Kt),rt.Bz]}),n})();var Gt=o(4546);let Qt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez,k.u5,K.Pc]}),n})();var $t=o(4166),jt=o(4877),qt=o(2218),Xt=o(8134);let te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez,k.u5,K.Pc,Vt,yt.forRoot(),Gt.y,Qt,$t.v,jt.r,qt.H,Xt.y]}),n})()},6994:(H,A,o)=>{o.d(A,{t:()=>O});var i=o(7579),k=o(1135),t=o(8256);let O=(()=>{class T{constructor(){this.editDataDetails=[],this.subject=new i.x,this.messageSource=new k.X(this.editDataDetails),this.currentMessage=this.messageSource.asObservable()}changeMessage(v){this.messageSource.next(v)}destroyMessage(){this.messageSource.next("")}}return T.\u0275fac=function(v){return new(v||T)},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},7278:(H,A,o)=>{o.d(A,{t:()=>O});var i=o(8924),k=o(8256),t=o(849);let O=(()=>{class T{constructor(v){this.storage=v}generateString(v){const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let m=" ";const Z=M.length;for(let f=0;f<v;f++)m+=M.charAt(Math.floor(Math.random()*Z));return m}validateForm(v){let M=!0;for(const m in v)M=M&&v[m];return M}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){const M=16*Math.random()|0;return("x"==v?M:3&M|8).toString(16)})}msToTime(v){let M=Math.floor(v/1e3%60),m=Math.floor(v/6e4%60),Z=Math.floor(v/36e5);return Z=Z<10?"0"+Z:Z,m=m<10?"0"+m:m,M=M<10?"0"+M:M,Z+"h "+m+"min"}checkSeason(){return(new Date).getTime()>=i.Rk[(new Date).getFullYear().toString()].summer&&(new Date).getTime()<i.Rk[(new Date).getFullYear().toString()].winter?i.Eb:i.bm}}return T.\u0275fac=function(v){return new(v||T)(k.LFG(t.K))},T.\u0275prov=k.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},1566:(H,A,o)=>{o.d(A,{P:()=>Z,z:()=>m});var i=o(727);class k extends i.w0{constructor(g,d){super()}schedule(g,d=0){return this}}const t={setInterval(f,g,...d){const{delegate:x}=t;return null!=x&&x.setInterval?x.setInterval(f,g,...d):setInterval(f,g,...d)},clearInterval(f){const{delegate:g}=t;return((null==g?void 0:g.clearInterval)||clearInterval)(f)},delegate:void 0};var O=o(8737);const _={now:()=>(_.delegate||Date).now(),delegate:void 0};class v{constructor(g,d=v.now){this.schedulerActionCtor=g,this.now=d}schedule(g,d=0,x){return new this.schedulerActionCtor(this,g).schedule(x,d)}}v.now=_.now;const m=new class M extends v{constructor(g,d=v.now){super(g,d),this.actions=[],this._active=!1}flush(g){const{actions:d}=this;if(this._active)return void d.push(g);let x;this._active=!0;do{if(x=g.execute(g.state,g.delay))break}while(g=d.shift());if(this._active=!1,x){for(;g=d.shift();)g.unsubscribe();throw x}}}(class T extends k{constructor(g,d){super(g,d),this.scheduler=g,this.work=d,this.pending=!1}schedule(g,d=0){var x;if(this.closed)return this;this.state=g;const C=this.id,B=this.scheduler;return null!=C&&(this.id=this.recycleAsyncId(B,C,d)),this.pending=!0,this.delay=d,this.id=null!==(x=this.id)&&void 0!==x?x:this.requestAsyncId(B,this.id,d),this}requestAsyncId(g,d,x=0){return t.setInterval(g.flush.bind(g,this),x)}recycleAsyncId(g,d,x=0){if(null!=x&&this.delay===x&&!1===this.pending)return d;null!=d&&t.clearInterval(d)}execute(g,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const x=this._execute(g,d);if(x)return x;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,d){let C,x=!1;try{this.work(g)}catch(B){x=!0,C=B||new Error("Scheduled action threw falsy error")}if(x)return this.unsubscribe(),C}unsubscribe(){if(!this.closed){const{id:g,scheduler:d}=this,{actions:x}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.P)(x,this),null!=g&&(this.id=this.recycleAsyncId(d,g,null)),this.delay=null,super.unsubscribe()}}}),Z=m}}]);