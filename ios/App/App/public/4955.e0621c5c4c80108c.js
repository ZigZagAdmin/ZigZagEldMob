"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4955,3646,8871,4546],{3646:(C,u,c)=>{c.d(u,{G:()=>g});var i=c(8256),v=c(6895);function p(e,r){if(1&e){const l=i.EpF();i.TgZ(0,"img",6),i.NdJ("click",function(){i.CHM(l);const f=i.oxw();return i.KtG(f.goBack())}),i.qZA()}}const a=["*"];let g=(()=>{class e{constructor(){this.backButton=!1,this.backButtonCallback=new i.vpe}ngOnInit(){}goBack(){this.backButtonCallback.emit()}}return e.\u0275fac=function(l){return new(l||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-header"]],inputs:{title:"title",subtitle:"subtitle",backButton:"backButton"},outputs:{backButtonCallback:"backButtonCallback"},ngContentSelectors:a,decls:9,vars:3,consts:[[1,"title-container","padding-g"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"title-back"],["src","../../../assets/imgs/back-arrow.png",3,"click",4,"ngIf"],[1,"page-title"],[1,"subtitle","custom-subtitle"],["src","../../../assets/imgs/back-arrow.png",3,"click"]],template:function(l,m){1&l&&(i.F$t(),i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i.YNc(3,p,1,0,"img",3),i.TgZ(4,"div",4),i._uU(5),i.qZA()(),i.Hsn(6),i.qZA(),i.TgZ(7,"div",5),i._uU(8),i.qZA()()),2&l&&(i.xp6(3),i.Q6J("ngIf",m.backButton),i.xp6(2),i.Oqu(m.title),i.xp6(3),i.hij(" ",m.subtitle," "))},dependencies:[v.O5],styles:[".title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.title-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.custom-subtitle[_ngcontent-%COMP%]{margin-left:35px}.title-container[_ngcontent-%COMP%]{padding-bottom:0}@media (prefers-color-scheme: dark){.title-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}}"]}),e})()},4546:(C,u,c)=>{c.d(u,{y:()=>g});var i=c(6895),v=c(4006),p=c(6114),a=c(8256);let g=(()=>{class e{}return e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[i.ez,v.u5,p.Pc]}),e})()},4955:(C,u,c)=>{c.r(u),c.d(u,{SelectVehiclePageModule:()=>P});var i=c(6895),v=c(4006),p=c(849),a=c(6114),g=c(4529),e=c(8256),r=c(4382),l=c(3646);let m=(()=>{class n{constructor(){}ngOnInit(){console.log(this.vehicle)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-card"]],inputs:{vehicle:"vehicle"},decls:5,vars:4,consts:[[1,"card"],[1,"subtitle"],[1,"text-1"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"span",2),e._uU(4),e.qZA()()),2&t&&(e.xp6(2),e.AsE("",s.vehicle.make," ",s.vehicle.model,""),e.xp6(2),e.AsE("",s.vehicle.year,", Vehicle Unit: ",s.vehicle.vehicleUnit," "))},styles:[".card[_ngcontent-%COMP%]{width:100%;display:inline-flex;flex-direction:column;gap:10px;background-color:var(--gray-100);border-radius:10px;padding:15px}"]}),n})();function f(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"app-card",5),e.NdJ("click",function(){const h=e.CHM(t).$implicit,k=e.oxw();return e.KtG(k.selectVehicle(h))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("vehicle",t)}}const _=[{path:"",component:(()=>{class n{constructor(t,s,d){this.navCtrl=t,this.databaseService=s,this.storage=d,this.bReady=!1,this.showBackButton=!1,this.pickedVehicle="",this.vehicles=[]}ngOnInit(){this.databaseSubscription=this.databaseService.isDatabaseReady().subscribe(t=>{t&&(this.bReady=t,this.databaseService.getVehicles().subscribe(s=>{this.vehicles=s,console.log(this.vehicles)}),this.databaseService.getDrivers().subscribe(s=>{var d,h;this.driver=s,this.storage.set("HoursOfServiceRuleDays",null===(d=this.driver.driverInfo)||void 0===d?void 0:d.settings.hoursOfService.name),this.storage.set("HoursOfServiceRuleHours",null===(h=this.driver.driverInfo)||void 0===h?void 0:h.settings.hoursOfService.name)}),this.databaseService.getCompany().subscribe(s=>{this.company=s,this.storage.set("TimeZoneCity",this.company.mainOffice.timeZoneCode)}))})}ionViewWillEnter(){const t=localStorage.getItem("showBackButton");this.showBackButton=null!==t&&JSON.parse(t),this.bReady&&this.databaseService.getVehicles().subscribe(s=>{this.vehicles=s})}handleRefresh(t){setTimeout(()=>{t.target.complete()},1e3)}selectVehicle(t){this.showBackButton?(console.log("Selected vehicle:",t),this.pickedVehicle=t.vehicleUnit,this.storage.set("vehicleId",t.vehicleId),this.storage.set("pickedVehicle",this.pickedVehicle),localStorage.setItem("pickedVehicle",this.pickedVehicle),this.navCtrl.navigateBack("/unitab/others")):(console.log("Selected vehicle:",t),this.pickedVehicle=t.vehicleId,this.storage.set("pickedVehicle",this.pickedVehicle),this.storage.set("vehicleId",t.vehicleId),localStorage.setItem("pickedVehicle",this.pickedVehicle),this.navCtrl.navigateForward("/connect-mac",{animated:!0,animationDirection:"forward"}))}ionViewWillLeave(){localStorage.removeItem("showBackButton"),this.databaseSubscription&&this.databaseSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.SH),e.Y36(r.k),e.Y36(p.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-select-vehicle"]],decls:5,vars:4,consts:[[3,"forceOverscroll","fullscreen"],[3,"title"],["slot","fixed",3,"ionRefresh"],["class","vehicle-container",4,"ngFor","ngForOf"],[1,"vehicle-container"],[3,"vehicle","click"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content",0),e._UZ(1,"app-header",1),e.TgZ(2,"ion-refresher",2),e.NdJ("ionRefresh",function(h){return s.handleRefresh(h)}),e._UZ(3,"ion-refresher-content"),e.qZA(),e.YNc(4,f,2,1,"div",3),e.qZA()),2&t&&(e.Q6J("forceOverscroll",!1)("fullscreen",!0),e.xp6(1),e.Q6J("title","Select Vehicle"),e.xp6(3),e.Q6J("ngForOf",s.vehicles))},dependencies:[i.sg,a.W2,a.nJ,a.Wo,l.G,m],styles:[".vehicle-container[_ngcontent-%COMP%]{padding:30px;display:flex;flex-direction:column;gap:15px}.custom-title[_ngcontent-%COMP%]{padding:30px 30px 0}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(_),g.Bz]}),n})();var S=c(4546);let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[p.K,r.k],imports:[i.ez,v.u5,a.Pc,b,S.y]}),n})()}}]);