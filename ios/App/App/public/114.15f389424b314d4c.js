"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[114,4546],{4449:(z,I,a)=>{function C(y){return function r(y){return new DataView(Uint8Array.from(y).buffer)}(y.trim().split(" ").filter(g=>""!==g).map(g=>parseInt(g,16)))}function m(y){return function D(y){return Array.from(new Uint8Array(y.buffer))}(y).map(v=>{let g=v.toString(16);return 1==g.length&&(g="0"+g),g}).join(" ")}function T(y){if("string"==typeof y)return y;if("number"==typeof y)return function w(y){return`0000${y.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}(y);throw new Error("Invalid UUID")}function b(y){const v={};if(y)return y.forEach((g,f)=>{v[f.toString()]=g}),v}a.d(I,{FF:()=>m,GA:()=>b,JA:()=>T,_j:()=>C})},7772:(z,I,a)=>{a.d(I,{U:()=>C});var r=a(8256),D=a(6895),e=a(7151);const E=function(m){return{"background-color":m}};function w(m,T){if(1&m){const b=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){const g=r.CHM(b).$implicit,f=r.oxw();return r.KtG(f.select(g))}),r.TgZ(1,"div",3),r._UZ(2,"div",4),r.TgZ(3,"div",5),r._uU(4),r.qZA()(),r.TgZ(5,"div",6),r._UZ(6,"ion-checkbox",7),r.qZA()()}if(2&m){const b=T.$implicit;r.xp6(2),r.Q6J("ngStyle",r.VKq(3,E,b.color)),r.xp6(2),r.Oqu(b.label),r.xp6(2),r.Q6J("checked",b.checked)}}let C=(()=>{class m{constructor(){this.data=[{color:"var(--gray-300)",label:"Off Duty",value:"OFF",checked:!1},{color:"var(--gray-500)",label:"Sleeper Berth",value:"SB",checked:!1},{color:"var(--warning-400)",label:"On Duty",value:"ON",checked:!1},{color:"var(--success-500)",label:"Driving",value:"D",checked:!1},{color:"var(--gray-300)",label:"Personal Conveyance",value:"PC",checked:!1},{color:"var(--warning-400)",label:"Yard Moves",value:"YM",checked:!1}],this.currentValue="",this.selectedValue=new r.vpe}ngOnInit(){if(0!==this.currentValue.length){let b=this.data.find(y=>y.value===this.currentValue);this.select(b)}}select(b){let y=this.data.findIndex(v=>v.value===b.value);this.data.forEach(v=>v.checked=!1),this.data[y].checked=!0,this.selectedValue.emit(this.data[y].value)}}return m.\u0275fac=function(b){return new(b||m)},m.\u0275cmp=r.Xpm({type:m,selectors:[["app-duty-radio-button"]],inputs:{currentValue:"currentValue"},outputs:{selectedValue:"selectedValue"},decls:2,vars:1,consts:[[1,"list-container"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"item-data"],[1,"status-color",3,"ngStyle"],[1,"status-label"],[1,"item-checkbox"],[3,"checked"]],template:function(b,y){1&b&&(r.TgZ(0,"div",0),r.YNc(1,w,7,5,"div",1),r.qZA()),2&b&&(r.xp6(1),r.Q6J("ngForOf",y.data))},dependencies:[D.sg,D.PC,e.nz,e.w],styles:[".list-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px}.list-item[_ngcontent-%COMP%]{width:100%;border:none;border-radius:10px;background-color:var(--gray-100);padding:15px;display:flex;align-items:center;justify-content:space-between}.item-data[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.status-color[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%}.status-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--gray-500)}.item-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center}ion-checkbox[_ngcontent-%COMP%]{--size: 20px;--checkbox-background-checked: var(--success-500);--border-color: transparent;--border-color-checked: transparent;--checkmark-width: 2px;pointer-events:none}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:50%}"]}),m})()},2218:(z,I,a)=>{a.d(I,{H:()=>w});var r=a(6895),D=a(4006),e=a(7151),E=a(8256);let w=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({imports:[r.ez,D.u5,e.Pc]}),C})()},4546:(z,I,a)=>{a.d(I,{y:()=>w});var r=a(6895),D=a(4006),e=a(7151),E=a(8256);let w=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({imports:[r.ez,D.u5,e.Pc]}),C})()},4166:(z,I,a)=>{a.d(I,{v:()=>w});var r=a(6895),D=a(4006),e=a(7151),E=a(8256);let w=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({imports:[r.ez,D.u5,e.Pc]}),C})()},7236:(z,I,a)=>{a.d(I,{L:()=>g});var r=a(8256),D=a(4465),e=a(6994),E=a(6895),w=a(4006),C=a(7151);const m=function(f,M,S,B){return{"label-error":f,"input-label-top":M,"input-label-left":S,"no-label":B}};function T(f,M){if(1&f&&(r.TgZ(0,"div",5),r._uU(1),r.qZA()),2&f){const S=r.oxw();r.Q6J("ngClass",r.l5B(3,m,!S.valid,"top"===S.labelPosition,"left"===S.labelPosition,"none"===S.label)),r.xp6(1),r.AsE(" ",S.label,"",S.required?"*":""," ")}}function b(f,M){1&f&&r._UZ(0,"ion-spinner",6)}const y=function(f,M){return{"custom-input-top":f,"custom-input-left":M}},v=function(f,M,S){return{"input-fill":f,"validation-error":M,"input-left":S}};let g=(()=>{class f{constructor(S,B){this.toastService=S,this.shareService=B,this.type="text",this.placeholder="",this.fill=!0,this.loading=!1,this.validators=[],this.noValidation=!1,this.disabled=!1,this.required=!1,this.labelPosition="top",this.valueChange=new r.vpe,this.validationChange=new r.vpe,this.valid=!0}get value(){return this._value}set value(S){this._value!==S&&(this._value=S,this.valueChange.emit(S))}get validation(){return this._validation}set validation(S){this._validation!==S&&(this._validation=S,this.validationChange.emit(S))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(S=>{"reset"===S?this.valid=!0:S&&0!==S.length&&this.validateInput()})}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(S){0!==S.target.value&&(this.valid=!0),this.value=S.target.value,this.valueChange.emit(this.value)}validateInput(){this.noValidation||(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(S=>!!S.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(S.message),!1)),this.validation=this.valid)}}return f.\u0275fac=function(S){return new(S||f)(r.Y36(D.k),r.Y36(e.t))},f.\u0275cmp=r.Xpm({type:f,selectors:[["app-location-input"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",loading:"loading",validators:"validators",noValidation:"noValidation",disabled:"disabled",required:"required",labelPosition:"labelPosition",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange"},decls:5,vars:15,consts:[[1,"custom-input",3,"ngClass"],["class","input-label",3,"ngClass",4,"ngIf"],[1,"input-container"],["autocomplete","one-time-code",1,"input-box",3,"type","ngModel","disabled","placeholder","ngClass","input","ngModelChange"],["class","input-loading","name","circular","color","medium",4,"ngIf"],[1,"input-label",3,"ngClass"],["name","circular","color","medium",1,"input-loading"]],template:function(S,B){1&S&&(r.TgZ(0,"div",0),r.YNc(1,T,2,8,"div",1),r.TgZ(2,"div",2)(3,"input",3),r.NdJ("input",function(tt){return B.onInputChange(tt)})("ngModelChange",function(tt){return B.value=tt}),r.qZA(),r.YNc(4,b,1,0,"ion-spinner",4),r.qZA()()),2&S&&(r.Q6J("ngClass",r.WLB(8,y,"top"===B.labelPosition,"left"===B.labelPosition)),r.xp6(1),r.Q6J("ngIf",B.label),r.xp6(2),r.Q6J("type",B.type)("ngModel",B.value)("disabled",B.disabled&&B.loading)("placeholder",B.placeholder)("ngClass",r.kEZ(11,v,B.fill,!B.valid,"left"===B.labelPosition)),r.xp6(1),r.Q6J("ngIf",B.loading))},dependencies:[E.mk,E.O5,w.Fj,w.JJ,w.On,C.PQ],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.custom-input-top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.custom-input-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:24px}.input-label[_ngcontent-%COMP%]{color:var(--gray-500)}.input-label-top[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.input-label-left[_ngcontent-%COMP%]{flex:1;font-size:15px;font-weight:600}.input-box[_ngcontent-%COMP%]{width:100%;height:45px;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;border:1px solid var(--gray-200);background-color:#fff}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)}.input-left[_ngcontent-%COMP%]{flex:1}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}.no-label[_ngcontent-%COMP%]{color:transparent!important}.input-container[_ngcontent-%COMP%]{position:relative}.input-loading[_ngcontent-%COMP%]{position:absolute;right:20px;top:18px;zoom:.7}"]}),f})()},8134:(z,I,a)=>{a.d(I,{y:()=>w});var r=a(6895),D=a(4006),e=a(7151),E=a(8256);let w=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({imports:[r.ez,D.u5,e.Pc]}),C})()},4081:(z,I,a)=>{a.d(I,{R:()=>T});var r=a(8256),D=a(4465),e=a(6994),E=a(6895);const w=function(b){return{"label-error":b}};function C(b,y){if(1&b&&(r.TgZ(0,"div",3),r._uU(1),r.qZA()),2&b){const v=r.oxw();r.Q6J("ngClass",r.VKq(2,w,!v.valid)),r.xp6(1),r.Oqu(v.label)}}const m=function(b,y){return{"input-fill":b,"validation-error":y}};let T=(()=>{class b{constructor(v,g){this.toastService=v,this.shareService=g,this.type="text",this.placeholder="",this.fill=!0,this.disabled=!1,this.validators=[],this.noValidation=!1,this.valueChange=new r.vpe,this.validationChange=new r.vpe,this.valid=!0}get value(){return this._value}set value(v){this._value!==v&&(this._value=v,this.valueChange.emit(v))}get validation(){return this._validation}set validation(v){this._validation!==v&&(this._validation=v,this.validationChange.emit(v))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(v=>{"reset"===v?this.valid=!0:v&&0!==v.length&&this.validateInput()})}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(v){0!==v.target.value&&(this.valid=!0),this.value=v.target.value,this.valueChange.emit(this.value)}validateInput(){this.noValidation||(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(v=>!!v.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(v.message),!1)),this.validation=this.valid)}}return b.\u0275fac=function(v){return new(v||b)(r.Y36(D.k),r.Y36(e.t))},b.\u0275cmp=r.Xpm({type:b,selectors:[["app-textarea"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",disabled:"disabled",validators:"validators",noValidation:"noValidation",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange"},decls:3,vars:7,consts:[[1,"custom-input"],["class","input-label",3,"ngClass",4,"ngIf"],[1,"input-box",3,"disabled","placeholder","ngClass","input"],[1,"input-label",3,"ngClass"]],template:function(v,g){1&v&&(r.TgZ(0,"div",0),r.YNc(1,C,2,4,"div",1),r.TgZ(2,"textarea",2),r.NdJ("input",function(M){return g.onInputChange(M)}),r.qZA()()),2&v&&(r.xp6(1),r.Q6J("ngIf",g.label),r.xp6(1),r.Q6J("disabled",g.disabled)("placeholder",g.placeholder)("ngClass",r.WLB(4,m,g.fill,!g.valid)))},dependencies:[E.mk,E.O5],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;gap:5px}.input-label[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--gray-500)}.input-box[_ngcontent-%COMP%]{width:100%;height:100px;resize:none;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;background-color:#fff;border:1px solid var(--gray-200)}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)!important}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}"]}),b})()},4877:(z,I,a)=>{a.d(I,{r:()=>w});var r=a(6895),D=a(4006),e=a(7151),E=a(8256);let w=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({imports:[r.ez,D.u5,e.Pc]}),C})()},8924:(z,I,a)=>{a.d(I,{Eb:()=>r,Rk:()=>E,W3:()=>e,bm:()=>D});const r={ET:"UTC-4",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-5",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-6",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-7",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-8",AKT:"UTC-8",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-9",HST:"UTC-10",HAST:"UTC-9"},D={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},e={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},E={2024:{summer:17100288e5,winter:173059194e4},2025:{summer:17414784e5,winter:176204154e4},2026:{summer:1772928e6,winter:179349114e4},2027:{summer:18049824e5,winter:182554554e4}}},114:(z,I,a)=>{a.r(I),a.d(I,{HosPageModule:()=>ue});var r=a(6895),D=a(4006),e=a(8256),E=a(9751),w=a(1566),C=a(3532);function T(i=0,o,t=w.P){let n=-1;return null!=o&&((0,C.K)(o)?t=o:n=o),new E.y(s=>{let u=function m(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;u<0&&(u=0);let l=0;return t.schedule(function(){s.closed||(s.next(l++),0<=n?this.schedule(void 0,n):s.complete())},u)})}function b(i,o){if(1&i&&(e.O4$(),e.TgZ(0,"linearGradient"),e._UZ(1,"stop",5)(2,"stop",6),e.qZA()),2&i){const t=e.oxw(2);e.uIk("id",t.svg.outerLinearGradient.id),e.xp6(1),e.uIk("stop-color",t.svg.outerLinearGradient.colorStop1)("stop-opacity",1),e.xp6(1),e.uIk("stop-color",t.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function y(i,o){if(1&i&&(e.O4$(),e.TgZ(0,"radialGradient"),e._UZ(1,"stop",5)(2,"stop",6),e.qZA()),2&i){const t=e.oxw(2);e.uIk("id",t.svg.radialGradient.id),e.xp6(1),e.uIk("stop-color",t.svg.radialGradient.colorStop1)("stop-opacity",1),e.xp6(1),e.uIk("stop-color",t.svg.radialGradient.colorStop2)("stop-opacity",1)}}function v(i,o){if(1&i&&(e.O4$(),e._UZ(0,"circle")),2&i){const t=e.oxw(3);e.uIk("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill",t.svg.backgroundCircle.fill)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function g(i,o){if(1&i&&(e.O4$(),e._UZ(0,"circle")),2&i){const t=e.oxw(3);e.zWS("fill","url(",t.window.location.href,"#",t.svg.radialGradient.id,")"),e.uIk("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function f(i,o){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,v,1,7,"circle",2),e.YNc(2,g,1,8,"circle",2),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.options.backgroundGradient),e.xp6(1),e.Q6J("ngIf",t.options.backgroundGradient)}}function M(i,o){if(1&i&&(e.O4$(),e._UZ(0,"circle")),2&i){const t=e.oxw(2);e.uIk("cx",t.svg.circle.cx)("cy",t.svg.circle.cy)("r",t.svg.circle.r)("fill",t.svg.circle.fill)("stroke",t.svg.circle.stroke)("stroke-width",t.svg.circle.strokeWidth)}}function S(i,o){if(1&i&&(e.O4$(),e._UZ(0,"path")),2&i){const t=e.oxw(3);e.uIk("d",t.svg.path.d)("stroke",t.svg.path.stroke)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function B(i,o){if(1&i&&(e.O4$(),e._UZ(0,"path")),2&i){const t=e.oxw(3);e.zWS("stroke","url(",t.window.location.href,"#",t.svg.outerLinearGradient.id,")"),e.uIk("d",t.svg.path.d)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function ut(i,o){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,S,1,5,"path",2),e.YNc(2,B,1,6,"path",2),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.options.outerStrokeGradient),e.xp6(1),e.Q6J("ngIf",t.options.outerStrokeGradient)}}function tt(i,o){if(1&i&&(e.O4$(),e.TgZ(0,"tspan"),e._uU(1),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(4);e.uIk("x",n.svg.title.x)("y",n.svg.title.y)("dy",t.dy)("font-size",n.svg.title.fontSize)("font-weight",n.svg.title.fontWeight)("fill",n.svg.title.color),e.xp6(1),e.Oqu(t.span)}}function xt(i,o){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,tt,2,7,"tspan",8),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.svg.title.tspans)}}function St(i,o){if(1&i&&(e.O4$(),e.TgZ(0,"tspan"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.uIk("font-size",t.svg.units.fontSize)("font-weight",t.svg.units.fontWeight)("fill",t.svg.units.color),e.xp6(1),e.Oqu(t.svg.units.text)}}function Mt(i,o){if(1&i&&(e.O4$(),e.TgZ(0,"tspan"),e._uU(1),e.qZA()),2&i){const t=o.$implicit,n=e.oxw(4);e.uIk("x",n.svg.subtitle.x)("y",n.svg.subtitle.y)("dy",t.dy)("font-size",n.svg.subtitle.fontSize)("font-weight",n.svg.subtitle.fontWeight)("fill",n.svg.subtitle.color),e.xp6(1),e.Oqu(t.span)}}function Tt(i,o){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,Mt,2,7,"tspan",8),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.svg.subtitle.tspans)}}function Ot(i,o){if(1&i&&(e.O4$(),e.TgZ(0,"text",7),e.YNc(1,xt,2,1,"ng-container",2),e.YNc(2,St,2,4,"tspan",2),e.YNc(3,Tt,2,1,"ng-container",2),e.qZA()),2&i){const t=e.oxw(2);e.uIk("x",t.svg.circle.cx)("y",t.svg.circle.cy)("text-anchor",t.svg.title.textAnchor),e.xp6(1),e.Q6J("ngIf",t.options.showTitle),e.xp6(1),e.Q6J("ngIf",t.options.showUnits),e.xp6(1),e.Q6J("ngIf",t.options.showSubtitle)}}function wt(i,o){if(1&i&&(e.O4$(),e._UZ(0,"image",9)),2&i){const t=e.oxw(2);e.uIk("height",t.svg.image.height)("width",t.svg.image.width)("href",t.svg.image.src,null,"xlink")("x",t.svg.image.x)("y",t.svg.image.y)}}function Pt(i,o){if(1&i){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",1),e.NdJ("click",function(s){e.CHM(t);const u=e.oxw();return e.KtG(u.emitClickEvent(s))}),e.TgZ(1,"defs"),e.YNc(2,b,3,5,"linearGradient",2),e.YNc(3,y,3,5,"radialGradient",2),e.qZA(),e.YNc(4,f,3,2,"ng-container",2),e.YNc(5,M,1,6,"circle",2),e.YNc(6,ut,3,2,"ng-container",2),e.YNc(7,Ot,4,6,"text",3),e.YNc(8,wt,1,5,"image",4),e.qZA()}if(2&i){const t=e.oxw();e.uIk("viewBox",t.svg.viewBox)("height",t.svg.height)("width",t.svg.width)("class",t.options.class),e.xp6(2),e.Q6J("ngIf",t.options.outerStrokeGradient),e.xp6(1),e.Q6J("ngIf",t.options.backgroundGradient),e.xp6(1),e.Q6J("ngIf",t.options.showBackground),e.xp6(1),e.Q6J("ngIf",t.options.showInnerStroke),e.xp6(1),e.Q6J("ngIf",0!=+t.options.percent||t.options.showZeroOuterStroke),e.xp6(1),e.Q6J("ngIf",!t.options.showImage&&(t.options.showTitle||t.options.showUnits||t.options.showSubtitle)),e.xp6(1),e.Q6J("ngIf",t.options.showImage)}}class nt{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=0,this.imageWidth=0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}}let kt=(()=>{class i{constructor(t,n,s,u){this.ngZone=n,this.elRef=s,this.onClick=new e.vpe,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new e.vpe,this._viewportChangedSubscriber=null,this.options=new nt,this.defaultOptions=new nt,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(null===this.svgElement&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(l,h,x,d)=>{let _=d*Math.PI/180;return{x:l+Math.sin(_)*x,y:h-Math.cos(_)*x}},this.draw=l=>{let h=(l=void 0===l?this.options.percent:Math.abs(l))>100?100:l,x=2*this.options.radius+2*this.options.outerStrokeWidth;this.options.showBackground&&(x+=2*this.options.backgroundStrokeWidth+this.max(0,2*this.options.backgroundPadding));let p,U,d={x:x/2,y:x/2},__x=d.x,__y=d.y-this.options.radius,O=this.polarToCartesian(d.x,d.y,this.options.radius,360*(this.options.clockwise?h:100-h)/100);100===h&&(O.x=O.x+(this.options.clockwise?-.01:.01)),[p,U]=h>50?this.options.clockwise?[1,1]:[1,0]:this.options.clockwise?[0,1]:[0,0];let R=this.options.animateTitle?l:this.options.percent,J=R>this.options.maxPercent?`${this.options.maxPercent.toFixed(this.options.toFixed)}+`:R.toFixed(this.options.toFixed),V=this.options.animateSubtitle?l:this.options.percent,N={x:d.x,y:d.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.titleFormat&&"Function"===this.options.titleFormat.constructor.name){let k=this.options.titleFormat(R);k instanceof Array?N.texts=[...k]:N.texts.push(k.toString())}else"auto"===this.options.title?N.texts.push(J):this.options.title instanceof Array?N.texts=[...this.options.title]:N.texts.push(this.options.title.toString());let Z={x:d.x,y:d.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.subtitleFormat&&"Function"===this.options.subtitleFormat.constructor.name){let k=this.options.subtitleFormat(V);k instanceof Array?Z.texts=[...k]:Z.texts.push(k.toString())}else this.options.subtitle instanceof Array?Z.texts=[...this.options.subtitle]:Z.texts.push(this.options.subtitle.toString());let A={text:`${this.options.units}`,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},F=0,L=1;if(this.options.showTitle&&(F+=N.texts.length),this.options.showSubtitle&&(F+=Z.texts.length),this.options.showTitle)for(let k of N.texts)N.tspans.push({span:k,dy:this.getRelativeY(L,F)}),L++;if(this.options.showSubtitle)for(let k of Z.texts)Z.tspans.push({span:k,dy:this.getRelativeY(L,F)}),L++;null===this._gradientUUID&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${x} ${x}`,width:this.options.responsive?"100%":x,height:this.options.responsive?"100%":x,backgroundCircle:{cx:d.x,cy:d.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${__x} ${__y}\n        A ${this.options.radius} ${this.options.radius} 0 ${p} ${U} ${O.x} ${O.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:d.x,cy:d.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:N,units:A,subtitle:Z,image:{x:d.x-this.options.imageWidth/2,y:d.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:"transparent"===this.options.outerStrokeGradientStopColor?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:"transparent"===this.options.backgroundGradientStopColor?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(l,h)=>{let d,_,O,p=this.options.startFromZero||l<0?0:l,U=h<0?0:this.min(h,this.options.maxPercent),R=Math.abs(Math.round(U-p));return R>=100?(d=100,_=this.options.animateTitle||this.options.animateSubtitle?Math.round(R/d):1):(d=R,_=1),O=Math.round(this.options.animationDuration/d),O<10&&(O=10,d=this.options.animationDuration/O,_=!this.options.animateTitle&&!this.options.animateSubtitle&&R>100?Math.round(100/d):Math.round(R/d)),_<1&&(_=1),{times:d,step:_,interval:O}},this.animate=(l,h)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let x=this.options.startFromZero?0:l,d=h,{step:_,interval:O}=this.getAnimationParameters(x,d),p=x;this._timerSubscription=x<d?T(0,O).subscribe(()=>{p+=_,p<=d?!this.options.animateTitle&&!this.options.animateSubtitle&&p>=100?(this.draw(d),this._timerSubscription.unsubscribe()):this.draw(p):(this.draw(d),this._timerSubscription.unsubscribe())}):T(0,O).subscribe(()=>{p-=_,p>=d?!this.options.animateTitle&&!this.options.animateSubtitle&&d>=100?(this.draw(d),this._timerSubscription.unsubscribe()):this.draw(p):(this.draw(d),this._timerSubscription.unsubscribe())})},this.applyOptions=()=>{for(let l of Object.keys(this.options))this.hasOwnProperty(l)&&void 0!==this[l]?this.options[l]=this[l]:this.templateOptions&&void 0!==this.templateOptions[l]&&(this.options[l]=this.templateOptions[l]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(l,h)=>(1*(l-h/2)-.18).toFixed(2)+"em",this.min=(l,h)=>l<h?l:h,this.max=(l,h)=>l>h?l:h,this.uuid=()=>{var l=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var d=(l+16*Math.random())%16|0;return l=Math.floor(l/16),("x"==x?d:3&d|8).toString(16)})},this.checkViewport=()=>{this.findSvgElement();let l=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),l!==this.isInViewport&&this.onViewportChanged.observers.length>0&&this.ngZone.run(()=>{this.onViewportChanged.emit({oldValue:l,newValue:this.isInViewport})})},this.onScroll=l=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.ngZone.runOutsideAngular(()=>{this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0)}),null===this._viewportChangedSubscriber&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({newValue:x})=>{x&&this.render()}));let l=T(0,50).subscribe(()=>{null===this.svgElement?this.checkViewport():l.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),null!==this._viewportChangedSubscriber&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=u.get(r.K0),this.window=this.document.defaultView,Object.assign(this.options,t),Object.assign(this.defaultOptions,t)}emitClickEvent(t){this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.observers.length>0&&this.onClick.emit(t)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}findSvgElement(){if(null===this.svgElement){let t=this.elRef.nativeElement.getElementsByTagName("svg");t.length>0&&(this.svgElement=t[0])}}isElementInViewport(t){if(null==t)return!1;let u,n=t.getBoundingClientRect(),s=t.parentNode;do{if(u=s.getBoundingClientRect(),n.top>=u.bottom||n.bottom<=u.top||n.left>=u.right||n.right<=u.left)return!1;s=s.parentNode}while(s!=this.document.body);return!(n.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||n.bottom<=0||n.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||n.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(t){this.render(),"lazy"in t&&(t.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nt),e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.zs3))},i.\u0275cmp=e.Xpm({type:i,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:["options","templateOptions"]},outputs:{onClick:"onClick"},features:[e.TTD],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(t,n){1&t&&e.YNc(0,Pt,9,11,"svg",0),2&t&&e.Q6J("ngIf",n.svg)},dependencies:[r.sg,r.O5],encapsulation:2}),i})(),Dt=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[{provide:nt,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[r.ez]}),i})();var q=a(7151),dt=a(5050),c=a(5861),pt=a(3905),Et=a(4128),it=a(8924),vt=a(4382),Zt=a(9386),It=a(9393),Ut=a(849),At=a(7940),ot=a(7423),st=a(4449);const P=(0,ot.fo)("BluetoothLe",{web:()=>a.e(2728).then(a.bind(a,2728)).then(i=>new i.BluetoothLeWeb)}),Lt=()=>{let i=Promise.resolve();return o=>new Promise((t,n)=>{i=i.then(()=>o()).then(t).catch(n)})};function gt(i){return i?Lt():o=>o()}function W(i){if("string"!=typeof i)throw new Error(`Invalid UUID type ${typeof i}. Expected string.`);if(!((i=i.toLowerCase()).search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${i}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return i}const rt=new class Bt{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=gt(!0)}enableQueue(){this.queue=gt(!0)}disableQueue(){this.queue=gt(!1)}initialize(o){var t=this;return(0,c.Z)(function*(){yield t.queue((0,c.Z)(function*(){yield P.initialize(o)}))})()}isEnabled(){var o=this;return(0,c.Z)(function*(){return yield o.queue((0,c.Z)(function*(){return(yield P.isEnabled()).value}))})()}requestEnable(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){yield P.requestEnable()}))})()}enable(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){yield P.enable()}))})()}disable(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){yield P.disable()}))})()}startEnabledNotifications(o){var t=this;return(0,c.Z)(function*(){yield t.queue((0,c.Z)(function*(){var n;const s="onEnabledChanged";yield null===(n=t.eventListeners.get(s))||void 0===n?void 0:n.remove();const u=yield P.addListener(s,l=>{o(l.value)});t.eventListeners.set(s,u),yield P.startEnabledNotifications()}))})()}stopEnabledNotifications(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){var t;const n="onEnabledChanged";yield null===(t=o.eventListeners.get(n))||void 0===t?void 0:t.remove(),o.eventListeners.delete(n),yield P.stopEnabledNotifications()}))})()}isLocationEnabled(){var o=this;return(0,c.Z)(function*(){return yield o.queue((0,c.Z)(function*(){return(yield P.isLocationEnabled()).value}))})()}openLocationSettings(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){yield P.openLocationSettings()}))})()}openBluetoothSettings(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){yield P.openBluetoothSettings()}))})()}openAppSettings(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){yield P.openAppSettings()}))})()}setDisplayStrings(o){var t=this;return(0,c.Z)(function*(){yield t.queue((0,c.Z)(function*(){yield P.setDisplayStrings(o)}))})()}requestDevice(o){var t=this;return(0,c.Z)(function*(){return o=o?t.validateRequestBleDeviceOptions(o):void 0,yield t.queue((0,c.Z)(function*(){return yield P.requestDevice(o)}))})()}requestLEScan(o,t){var n=this;return(0,c.Z)(function*(){o=n.validateRequestBleDeviceOptions(o),yield n.queue((0,c.Z)(function*(){var s;yield null===(s=n.scanListener)||void 0===s?void 0:s.remove(),n.scanListener=yield P.addListener("onScanResult",u=>{const l=Object.assign(Object.assign({},u),{manufacturerData:n.convertObject(u.manufacturerData),serviceData:n.convertObject(u.serviceData),rawAdvertisement:u.rawAdvertisement?n.convertValue(u.rawAdvertisement):void 0});t(l)}),yield P.requestLEScan(o)}))})()}stopLEScan(){var o=this;return(0,c.Z)(function*(){yield o.queue((0,c.Z)(function*(){var t;yield null===(t=o.scanListener)||void 0===t?void 0:t.remove(),o.scanListener=null,yield P.stopLEScan()}))})()}getDevices(o){var t=this;return(0,c.Z)(function*(){if(!Array.isArray(o))throw new Error("deviceIds must be an array");return t.queue((0,c.Z)(function*(){return(yield P.getDevices({deviceIds:o})).devices}))})()}getConnectedDevices(o){var t=this;return(0,c.Z)(function*(){if(!Array.isArray(o))throw new Error("services must be an array");return o=o.map(W),t.queue((0,c.Z)(function*(){return(yield P.getConnectedDevices({services:o})).devices}))})()}connect(o,t,n){var s=this;return(0,c.Z)(function*(){yield s.queue((0,c.Z)(function*(){var u;if(t){const l=`disconnected|${o}`;yield null===(u=s.eventListeners.get(l))||void 0===u?void 0:u.remove();const h=yield P.addListener(l,()=>{t(o)});s.eventListeners.set(l,h)}yield P.connect(Object.assign({deviceId:o},n))}))})()}createBond(o,t){var n=this;return(0,c.Z)(function*(){yield n.queue((0,c.Z)(function*(){yield P.createBond(Object.assign({deviceId:o},t))}))})()}isBonded(o){var t=this;return(0,c.Z)(function*(){return yield t.queue((0,c.Z)(function*(){return(yield P.isBonded({deviceId:o})).value}))})()}disconnect(o){var t=this;return(0,c.Z)(function*(){yield t.queue((0,c.Z)(function*(){yield P.disconnect({deviceId:o})}))})()}getServices(o){var t=this;return(0,c.Z)(function*(){return yield t.queue((0,c.Z)(function*(){return(yield P.getServices({deviceId:o})).services}))})()}discoverServices(o){var t=this;return(0,c.Z)(function*(){yield t.queue((0,c.Z)(function*(){yield P.discoverServices({deviceId:o})}))})()}getMtu(o){var t=this;return(0,c.Z)(function*(){return yield t.queue((0,c.Z)(function*(){return(yield P.getMtu({deviceId:o})).value}))})()}requestConnectionPriority(o,t){var n=this;return(0,c.Z)(function*(){yield n.queue((0,c.Z)(function*(){yield P.requestConnectionPriority({deviceId:o,connectionPriority:t})}))})()}readRssi(o){var t=this;return(0,c.Z)(function*(){return yield t.queue((0,c.Z)(function*(){const s=yield P.readRssi({deviceId:o});return parseFloat(s.value)}))})()}read(o,t,n,s){var u=this;return(0,c.Z)(function*(){return t=W(t),n=W(n),yield u.queue((0,c.Z)(function*(){const h=yield P.read(Object.assign({deviceId:o,service:t,characteristic:n},s));return u.convertValue(h.value)}))})()}write(o,t,n,s,u){var l=this;return(0,c.Z)(function*(){return t=W(t),n=W(n),l.queue((0,c.Z)(function*(){if(null==s||!s.buffer)throw new Error("Invalid data.");let h=s;"web"!==ot.dV.getPlatform()&&(h=(0,st.FF)(s)),yield P.write(Object.assign({deviceId:o,service:t,characteristic:n,value:h},u))}))})()}writeWithoutResponse(o,t,n,s,u){var l=this;return(0,c.Z)(function*(){t=W(t),n=W(n),yield l.queue((0,c.Z)(function*(){if(null==s||!s.buffer)throw new Error("Invalid data.");let h=s;"web"!==ot.dV.getPlatform()&&(h=(0,st.FF)(s)),yield P.writeWithoutResponse(Object.assign({deviceId:o,service:t,characteristic:n,value:h},u))}))})()}readDescriptor(o,t,n,s,u){var l=this;return(0,c.Z)(function*(){return t=W(t),n=W(n),s=W(s),yield l.queue((0,c.Z)(function*(){const x=yield P.readDescriptor(Object.assign({deviceId:o,service:t,characteristic:n,descriptor:s},u));return l.convertValue(x.value)}))})()}writeDescriptor(o,t,n,s,u,l){var h=this;return(0,c.Z)(function*(){return t=W(t),n=W(n),s=W(s),h.queue((0,c.Z)(function*(){if(null==u||!u.buffer)throw new Error("Invalid data.");let x=u;"web"!==ot.dV.getPlatform()&&(x=(0,st.FF)(u)),yield P.writeDescriptor(Object.assign({deviceId:o,service:t,characteristic:n,descriptor:s,value:x},l))}))})()}startNotifications(o,t,n,s){var u=this;return(0,c.Z)(function*(){t=W(t),n=W(n),yield u.queue((0,c.Z)(function*(){var l;const h=`notification|${o}|${t}|${n}`;yield null===(l=u.eventListeners.get(h))||void 0===l?void 0:l.remove();const x=yield P.addListener(h,d=>{s(u.convertValue(null==d?void 0:d.value))});u.eventListeners.set(h,x),yield P.startNotifications({deviceId:o,service:t,characteristic:n})}))})()}stopNotifications(o,t,n){var s=this;return(0,c.Z)(function*(){t=W(t),n=W(n),yield s.queue((0,c.Z)(function*(){var u;const l=`notification|${o}|${t}|${n}`;yield null===(u=s.eventListeners.get(l))||void 0===u?void 0:u.remove(),s.eventListeners.delete(l),yield P.stopNotifications({deviceId:o,service:t,characteristic:n})}))})()}validateRequestBleDeviceOptions(o){return o.services&&(o.services=o.services.map(W)),o.optionalServices&&(o.optionalServices=o.optionalServices.map(W)),o}convertValue(o){return"string"==typeof o?(0,st._j)(o):void 0===o?new DataView(new ArrayBuffer(0)):o}convertObject(o){if(void 0===o)return;const t={};for(const n of Object.keys(o))t[n]=this.convertValue(o[n]);return t}};var ht=a(5479),Ft=a(1135);let Wt=(()=>{class i{constructor(){this.bluetoothStatusSubject=new Ft.X(null)}initialize(){var t=this;return(0,c.Z)(function*(){yield rt.initialize().catch(n=>t.requestBluetoothPermission())})()}getBluetoothState(){var t=this;return(0,c.Z)(function*(){return t.bluetoothStatusSubject.next(yield rt.isEnabled().catch(()=>!1)),yield rt.isEnabled().catch(()=>!1)})()}requestBluetoothPermission(t,n){var s=this;return(0,c.Z)(function*(){yield rt.requestEnable().then(()=>s.bluetoothStatusSubject.next(!0),(0,c.Z)(function*(){t&&confirm((n?"You need to to give bluetooth permissions!":"You must enable bluetooth to use this feature!")+"\n Proceed to settings?")?yield ht.QR.open({optionAndroid:ht.ux.ApplicationDetails,optionIOS:ht.$$.App}):s.bluetoothStatusSubject.next(!1)})).catch(u=>s.bluetoothStatusSubject.next(!1))})()}getBluetoothStatusObservable(){return this.bluetoothStatusSubject.asObservable()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Rt=a(4465),Nt=a(7278),Ht=a(6994),zt=a(3646);let Jt=(()=>{class i{constructor(){this.checkedCallback=new e.vpe,this.uncheckedCallback=new e.vpe,this.isChecked=!1}ngOnInit(){}onCheckboxChange(){this.isChecked?this.checkedCallback.emit():this.uncheckedCallback.emit()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-toggle-switch"]],outputs:{checkedCallback:"checkedCallback",uncheckedCallback:"uncheckedCallback"},decls:3,vars:1,consts:[[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider","round"]],template:function(t,n){1&t&&(e.TgZ(0,"label",0)(1,"input",1),e.NdJ("ngModelChange",function(u){return n.isChecked=u})("change",function(){return n.onCheckboxChange()}),e.qZA(),e._UZ(2,"span",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngModel",n.isChecked))},dependencies:[D.Wl,D.JJ,D.On],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#fff;transition:.3s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:var(--gray-300);transition:.3s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:var(--success-500);transform:translate(20px)}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px transparent}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),i})();var Vt=a(4081),Yt=a(7772),Kt=a(7236);let qt=(()=>{class i{transform(t){const n=Math.floor(t/3600),s=Math.floor(t%3600/60);return`${String(n).padStart(2,"0")}:${String(s).padStart(2,"0")}`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"convertSecotdsToHoursAndMinutes",type:i,pure:!0}),i})();function Qt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"ion-content",0)(1,"app-header",31),e.NdJ("backButtonCallback",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.cancel())}),e.qZA(),e.TgZ(2,"div",32)(3,"app-duty-radio-button",33),e.NdJ("selectedValue",function(s){e.CHM(t);const u=e.oxw(2);return e.KtG(u.selectButton(s))}),e.qZA(),e.TgZ(4,"app-location-input",34),e.NdJ("valueChange",function(s){e.CHM(t);const u=e.oxw(2);return e.KtG(u.locationDescription=s)})("validationChange",function(s){e.CHM(t);const u=e.oxw(2);return e.KtG(u.validation.location=s)}),e.qZA(),e.TgZ(5,"app-textarea",35),e.NdJ("valueChange",function(s){e.CHM(t);const u=e.oxw(2);return e.KtG(u.comments=s)}),e.qZA(),e.TgZ(6,"div",36)(7,"button",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.cancel())}),e._uU(8,"Back"),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.confirm())}),e._uU(10,"Save"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("forceOverscroll",!1),e.xp6(1),e.Q6J("title","Select Duty Status")("backButton",!0),e.xp6(2),e.Q6J("currentValue",t.selectedButton),e.xp6(1),e.Q6J("label","Location")("fill",!0)("type","text")("value",t.locationDescription)("loading",t.locationLoading)("disabled",t.locationDisable)("validation",t.validation.location),e.xp6(1),e.Q6J("label","Comments")("fill",!0)("type","text")("value",t.comments)("noValidation",!0)}}function jt(i,o){if(1&i&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"circle-progress",40),e.qZA(),e.TgZ(3,"div",39),e._UZ(4,"circle-progress",41),e.qZA(),e.TgZ(5,"div",39),e._UZ(6,"circle-progress",42),e.qZA(),e.TgZ(7,"div",39),e._UZ(8,"circle-progress",43),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("percent",t.percentBreak)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleBreak))("showUnits",!1)("animation",t.animateCircles)("animationDuration",500),e.xp6(2),e.Q6J("percent",t.percentDriving)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleDriving))("animation",t.animateCircles)("showUnits",!1)("animationDuration",500),e.xp6(2),e.Q6J("percent",t.percentShift)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleShift))("showUnits",!1)("animation",t.animateCircles)("animationDuration",500),e.xp6(2),e.Q6J("percent",t.percentCycle)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleCycle))("showUnits",!1)("animation",t.animateCircles)("animationDuration",500)}}function Gt(i,o){if(1&i&&(e.TgZ(0,"div",44)(1,"div",45)(2,"div",46)(3,"p",7),e._uU(4,"Minimum Break Required"),e.qZA(),e.TgZ(5,"p",7),e._uU(6),e.qZA()(),e.TgZ(7,"div",47),e._UZ(8,"div",48),e.qZA()(),e.TgZ(9,"div",45)(10,"div",46)(11,"p",7),e._uU(12,"Until shift reset"),e.qZA(),e.TgZ(13,"p",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",47),e._UZ(16,"div",49),e.qZA()(),e.TgZ(17,"div",45)(18,"div",46)(19,"p",7),e._uU(20,"Until Cycle Reset"),e.qZA(),e.TgZ(21,"p",7),e._uU(22),e.qZA()(),e.TgZ(23,"div",47),e._UZ(24,"div",50),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(6),e.hij("",t.restBreak," / 00:30"),e.xp6(2),e.Akn("width: "+100*t.progressBreak+"%"),e.xp6(6),e.hij("",t.restShift," / 00:30"),e.xp6(2),e.Akn("width: "+100*t.progressShift+"%"),e.xp6(6),e.hij("",t.restCycle," / 00:30"),e.xp6(2),e.Akn("width: "+100*t.progressCycle+"%")}}function $t(i,o){1&i&&e._UZ(0,"img",51)}function Xt(i,o){1&i&&e._UZ(0,"img",52)}const ft=function(i,o){return{"status-dot-error":i,"status-dot-success":o}};function te(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(){const u=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.selectLog(u))}),e.TgZ(1,"div",54)(2,"p",7),e._uU(3),e.ALo(4,"date"),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"div",55),e._UZ(7,"div",56),e.TgZ(8,"p"),e._uU(9,"Form"),e.qZA(),e._UZ(10,"div",56),e.TgZ(11,"p"),e._uU(12,"Certify"),e.qZA()()(),e.TgZ(13,"div",57)(14,"p",58),e._uU(15),e.ALo(16,"convertSecotdsToHoursAndMinutes"),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(3),e.AsE("",e.xi3(4,5,t.logDate,"EEEE"),", ",e.xi3(5,8,t.logDate,"MMMM dd"),""),e.xp6(4),e.Q6J("ngClass",e.WLB(13,ft,!t.formManner,t.formManner)),e.xp6(3),e.Q6J("ngClass",e.WLB(16,ft,!t.certified,t.certified)),e.xp6(5),e.Oqu(e.lcZ(16,11,t.timeWorked))}}const _t=function(i,o){return{"service-on":i,"service-off":o}},mt=function(i){return{"background-color":i}};function ee(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkLocation())}),e._UZ(3,"img",5),e.qZA(),e.TgZ(4,"div",6)(5,"p",7),e._uU(6),e.qZA(),e.TgZ(7,"p",8),e._uU(8),e.qZA()(),e.TgZ(9,"div",4),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkBluetooth())}),e._UZ(10,"img",9),e.qZA()(),e.TgZ(11,"div",10),e._UZ(12,"img",11),e.TgZ(13,"div",12)(14,"p",7),e._uU(15,"Warning"),e.qZA(),e.TgZ(16,"p",8),e._uU(17,"Make sure that ELD hardware is properly installed and Vehicle power is ON"),e.qZA()()(),e.TgZ(18,"div",13)(19,"p",7),e._uU(20,"Current Status"),e.qZA(),e.TgZ(21,"div",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleModal())}),e.TgZ(22,"span",15),e._uU(23),e.qZA(),e._UZ(24,"img",16),e.qZA(),e.TgZ(25,"div",17),e._uU(26),e.qZA()(),e.TgZ(27,"ion-modal",18),e.YNc(28,Qt,11,16,"ng-template"),e.qZA(),e.TgZ(29,"div",19)(30,"p",20),e._uU(31,"Hours Remaining"),e.qZA(),e.YNc(32,jt,9,36,"div",21),e.qZA(),e.YNc(33,Gt,25,9,"div",22),e.TgZ(34,"div",23)(35,"div",24)(36,"p",7),e._uU(37,"8 h 33 m"),e.qZA(),e.TgZ(38,"p",8),e._uU(39,"WH Last 7 Days"),e.qZA()(),e.TgZ(40,"div",24)(41,"p",7),e._uU(42,"+ 00h 00h"),e.qZA(),e.TgZ(43,"p",8),e._uU(44,"Hours Recap"),e.qZA()()(),e.TgZ(45,"div",25)(46,"p",7),e._uU(47,"Split Sleeper Berth"),e.qZA(),e._UZ(48,"app-toggle-switch"),e.qZA(),e.TgZ(49,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.switchMode())}),e.YNc(50,$t,1,0,"img",27),e.YNc(51,Xt,1,0,"img",28),e._uU(52),e.qZA(),e.TgZ(53,"p",7),e._uU(54,"Logs and Recap Hours"),e.qZA(),e.TgZ(55,"div",29),e.YNc(56,te,17,19,"div",30),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.WLB(15,_t,t.locationStatus,!t.locationStatus)),e.xp6(4),e.Oqu(t.driverName),e.xp6(2),e.hij("Vehicle Unit: ",t.vehicle.vehicleUnit,""),e.xp6(1),e.Q6J("ngClass",e.WLB(18,_t,t.bluetoothStatus,!t.bluetoothStatus)),e.xp6(12),e.Q6J("ngStyle",e.VKq(21,mt,t.getStatusColor(t.selectedButton))),e.xp6(2),e.Oqu(t.currentStatus.statusName),e.xp6(2),e.Q6J("ngStyle",e.VKq(23,mt,t.getStatusColor(t.selectedButton))),e.xp6(1),e.Oqu(t.currentStatusTime),e.xp6(1),e.Q6J("isOpen",t.isModalOpen),e.xp6(5),e.Q6J("ngIf",!t.restMode),e.xp6(1),e.Q6J("ngIf",t.restMode),e.xp6(17),e.Q6J("ngIf",!t.restMode),e.xp6(1),e.Q6J("ngIf",t.restMode),e.xp6(1),e.hij(" ",t.restMode?"Switch to Drive Mode":"Switch to Rest Mode"," "),e.xp6(4),e.Q6J("ngForOf",t.logDailies)}}const ne=[{path:"",component:(()=>{class i{constructor(t,n,s,u,l,h,x,d,_,O,p,U,R,J,V){this.navCtrl=t,this.route=n,this.databaseService=s,this.dashboardService=u,this.internetService=l,this.storage=h,this.storageService=x,this.locationService=d,this.bluetoothService=_,this.toastService=O,this.utilityService=p,this.shareService=U,this.changeDetectorRef=R,this.platform=J,this.ngZone=V,this.message="",this.someErrors=!1,this.bReady=!1,this.logDailies=[],this.logEvents=[],this.countDays=[],this.selectedButton="",this.progressBreak=0,this.progressShift=0,this.progressCycle=0,this.isConfirmButtonActive=!0,this.vehicleId="",this.driverId="",this.driverName="",this.companyId="",this.pickedVehicle="",this.timeZone="",this.percentBreak=0,this.percentDriving=0,this.percentShift=0,this.percentCycle=0,this.titleBreak=0,this.titleDriving=0,this.titleShift=0,this.titleCycle=0,this.redCircle=0,this.restBreak="",this.restShift="",this.restCycle="",this.currentStatus={statusCode:"",statusName:""},this.currentStatusTime="",this.locationDescription="",this.location={locationType:"",description:"",latitude:0,longitude:0},this.comments="",this.restMode=!1,this.locationStatus=!1,this.locationServiceState=!1,this.locationLoading=!1,this.locationDisable=!1,this.bluetoothStatus=!1,this.lastSelectedButton="",this.validation={location:!1},this.animateCircles=!0,this.networkStatus=!0}ngOnInit(){var t=this;return(0,c.Z)(function*(){yield t.getLocationState(),t.platform.resume.subscribe(()=>{t.ngZone.run((0,c.Z)(function*(){yield t.getLocationState()}))}),t.locationService.getLocationStatusObservable().subscribe(function(){var n=(0,c.Z)(function*(s){t.locationServiceState=s,yield t.getLocationState()});return function(s){return n.apply(this,arguments)}}()),t.internetSub=t.internetService.internetStatus$.subscribe(function(){var n=(0,c.Z)(function*(s){t.networkStatus=s,s&&(t.logEvents=yield(0,pt.z)(t.databaseService.getLogEvents()),t.logDailies=yield(0,pt.z)(t.databaseService.getLogDailies()))});return function(s){return n.apply(this,arguments)}}()),setTimeout(()=>t.animateCircles=!1,500)})()}ngOnDestroy(){this.shareService.destroyMessage()}ionViewWillEnter(){var t=this;return(0,c.Z)(function*(){t.getVehicle(),t.vehicleId=yield t.storage.get("vehicleId"),t.driverId=yield t.storage.get("driverId"),t.companyId=yield t.storage.get("companyId"),t.timeZone=yield t.storage.get("timeZone"),t.bAuthorized=yield t.storage.get("bAuthorized"),t.driverName=yield t.storage.get("name"),t.pickedVehicle=yield t.storage.get("vehicleUnit"),t.databaseSubscription=t.databaseService.databaseReadySubject.subscribe(n=>{if(n){t.bReady=n;const s=t.databaseService.getLogDailies(),u=t.databaseService.getLogEvents();(0,Et.D)([s,u]).subscribe(function(){var l=(0,c.Z)(function*([h,x]){t.logDailies=h,t.logEvents=x;const d=t.logEvents.filter(_=>["OFF","SB","D","ON","PC","YM"].includes(_.type.code));if(t.selectedButton=d[d.length-1].type.code,t.lastSelectedButton=d[d.length-1].type.code,!1===t.bAuthorized){const _=t.logEvents[t.logEvents.length-1];_.eventTime.logDate=(0,r.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",it.W3[t.timeZone]);let O={logEventId:t.utilityService.uuidv4(),companyId:_.companyId,driverId:t.driverId,eventTime:{logDate:(0,r.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",it.W3[t.timeZone]),timeStamp:(new Date).getTime(),timeStampEnd:(new Date).getTime(),timeZone:t.timeZone},vehicle:{vehicleId:t.vehicleId},eld:{eldId:"00000000-0000-0000-0000-000000000000",macAddress:"",serialNumber:""},location:{locationType:"AUTOMATIC",description:"2mi from Chisinau, Chisinau",latitude:0,longitude:0},sequenceNumber:_?_.sequenceNumber+1:1,type:{name:"Login",code:"LOGIN"},recordStatus:{name:"Driver",code:"DRIVER"},recordOrigin:{name:"Active",code:"ACTIVE"},odometer:0,engineHours:0,malfunction:!1,dataDiagnosticEvent:!1,certificationDate:_.certificationDate,comment:"",eventDataCheck:"",inspection:!1,sent:!0};t.storage.set("lastStatusCode",t.selectedButton),t.storage.set("bAuthorized",!0),t.networkStatus?(t.dashboardService.updateLogEvent(_).toPromise().then(function(){var p=(0,c.Z)(function*(U){console.log("Last LogEvent is updated on server:",U),yield t.updateIndexLogEvents(_,!0)});return function(U){return p.apply(this,arguments)}}()).catch(function(){var p=(0,c.Z)(function*(U){console.log("Internet Status: "+t.networkStatus),console.log("Last LogEvent Pushed in offline logEvents array"),yield t.updateIndexLogEvents(_,!1)});return function(U){return p.apply(this,arguments)}}()),t.dashboardService.updateLogEvent(O).toPromise().then(p=>{console.log("New status is updated on server:",p),t.updateLogEvents(O,!0)}).catch(function(){var p=(0,c.Z)(function*(U){console.log("Internet Status: "+t.networkStatus),console.log("New Log Event Status Pushed in offline logEvents Array"),t.updateLogEvents(O,!1)});return function(U){return p.apply(this,arguments)}}())):(console.log("Updated logEvents in offline array"),yield t.updateIndexLogEvents(_,!1),t.updateLogEvents(O,!1))}yield t.updateLogDailies(),t.calculateCircles()});return function(h){return l.apply(this,arguments)}}())}}),t.updateEveryMinute(),t.paramsSubscription=t.route.params.subscribe(n=>{t.bReady&&(t.databaseSubscription=t.databaseService.getLogDailies().subscribe(s=>{0!==s.length&&(t.logDailies=s)}))})})()}updateLogEvents(t,n){var s=this;return(0,c.Z)(function*(){t.sent=n,s.logEvents.push(t),yield s.storage.set("logEvents",s.logEvents)})()}getLocationState(){var t=this;return(0,c.Z)(function*(){yield t.locationService.isLocationAvailable().then(n=>{null!=n&&(t.locationStatus=n),t.changeDetectorRef.detectChanges()})})()}updateIndexLogEvents(t,n){var s=this;return(0,c.Z)(function*(){t.sent=n;const u=s.logEvents.findIndex(l=>l.logEventId===t.logEventId);-1!==u&&(s.logEvents[u]=t),yield s.storage.set("logEvents",s.logEvents)})()}getVehicle(){this.storageService.getVehicles().subscribe(t=>{this.vehicle=t[0]},t=>console.log(t))}switchMode(){this.restMode=!this.restMode}checkLocation(){var t=this;return(0,c.Z)(function*(){(yield t.locationService.isLocationServiceAvailable())?yield t.locationService.requestPermission():yield t.locationService.goToLocationServiceSettings()})()}checkBluetooth(){var t=this;return(0,c.Z)(function*(){t.bluetoothStatus||(t.bluetoothService.initialize(),(yield t.bluetoothService.getBluetoothState())||(yield t.bluetoothService.requestBluetoothPermission("must","not")))})()}toggleMode(){const t=document.getElementById("driveModeContainer"),n=document.getElementById("restModeContainer"),s=document.querySelector(".drive_mode ion-button");t&&n&&s&&("none"===t.style.display?(t.style.display="block",n.style.display="none"):(t.style.display="none",n.style.display="block"))}calculateCircles(){var t=this;return(0,c.Z)(function*(){const n=["OFF","SB","D","ON","PC","YM"];let s=yield t.storage.get("HoursOfServiceRuleHours"),l=(yield t.storage.get("HoursOfServiceRuleDays"),28800),h=39600,x=50400,d=60*s*60,_=28800,O=39600,p=50400,U=60*s*60,R=0,J=0,V=0,N=0,Z=0,A=0,F=0,L=0,k=0,H=0,Y=0,de=0,Q=0,j=0,at=0,G=0,$=0,lt=36e3,ct=122400,yt="",et="",K="",bt="",ge=!1;t.logEvents.forEach(X=>{if(n.includes(X.type.code)){switch(yt=new Date(X.eventTime.timeStamp).toISOString(),K=X.type.code,bt=X.type.name,et=X.eventTime.timeStampEnd?new Date(X.eventTime.timeStampEnd).toISOString():(new Date).toISOString(),"0001-01-01T00:00:00"==et&&(et=(0,r.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",it.W3[t.timeZone])),Z=(new Date(et).getTime()-new Date(yt).getTime())/1e3,K){case"OFF":case"SB":Y+=Z,F+=Z,Z>=7200&&Z<14400&&(Q+=Z),"SB"==K&&Z>=25200&&Z<32400&&(j+=Z),Z>=ct&&(L=0,de=0,ge=!0),Z>=lt&&(k=0,H=0,Y=0,Q=0,j=0),G=lt-Z,$=ct-Z;break;case"D":H+=Z,A+=Z,L+=Z,F=0,G=lt,$=ct;break;case"ON":case"PC":case"YM":k+=Z,L+=Z,F+=Z,G=lt,$=ct}F>=1800&&(A=0),at=1800-F}}),0===t.logEvents.length?t.currentStatus={statusCode:"OFF",statusName:"Off Duty"}:(t.currentStatus.statusCode=K,t.currentStatus.statusName=bt),t.currentStatusTime=t.convertSecondToHours(Z),t.restBreak=t.convertSecondToHours(0),t.restShift=t.convertSecondToHours(0),t.restCycle=t.convertSecondToHours(0),at>=0&&(t.restBreak=t.convertSecondToHours(at),t.progressBreak=100*at/1800/100),G>=0&&(t.restShift=t.convertSecondToHours(G),t.progressShift=100*G/36e3/100),$>=0&&(t.restCycle=t.convertSecondToHours($),t.progressCycle=100*$/122400/100),(K="")&&(K="OFF",t.message="Off Duty"),U<L&&(_=0,O=0,p=0),O<H&&(_=0),p-H-k-Y<0?"OFF"==K||"SB"==K?p=p-H-k<0?-1:H+k+Y<p?p-H-k-Y:0:(p=p+j+Q-H-k-Y,p=p-H-k-Y):p=p-H-k-Y,p>=0?(V=100*p/x,t.percentShift=V,t.titleShift=p,t.redCircle+=0):(V=100*-p/x,p=x+p,t.percentShift=V,t.titleShift=p,t.redCircle+=1),O-=H,O>=0?(J=100*O/h,t.percentDriving=J,t.titleDriving=O,t.redCircle+=0):(O=h-O,J=100*-O/h,t.percentDriving=J,t.titleDriving=-O,t.redCircle+=1),_-=A,_>=0?(R=100*_/l,t.percentBreak=R,t.titleBreak=_,t.redCircle+=0):(R=100*-_/l,_=l-_,t.percentBreak=R,t.titleBreak=-_,t.redCircle+=1),U-=L,U>=0?(N=100*U/d,t.percentCycle=N,t.titleCycle=U,t.redCircle+=0):(U=d-U,N=100*U/d,t.percentCycle=N,t.titleCycle=-U,t.redCircle+=1)})()}toggleModal(){var t=this;return(0,c.Z)(function*(){t.isModalOpen=!0,t.locationLoading=!0,t.currentStatus&&t.selectButton(t.currentStatus.statusCode),yield t.locationService.getCurrentLocation().then(n=>{t.location=n,t.locationDescription=t.location.description,t.locationLoading=!1,t.locationDisable=!0,console.log(t.locationDescription)}).catch(n=>{t.locationLoading=!1,t.locationDisable=!1,t.locationDescription="",t.location={locationType:"MANUAL",description:"",latitude:0,longitude:0},console.log(n)})})()}selectLog(t){this.navCtrl.navigateForward(["log-item",t.logDailyId])}selectButton(t){this.selectedButton=t,this.isConfirmButtonActive=this.selectedButton!==this.currentStatus.statusCode}cancel(){this.shareService.destroyMessage(),this.selectedButton=this.lastSelectedButton,this.isModalOpen=!1}confirm(){var t=this;return(0,c.Z)(function*(){t.shareService.changeMessage(t.utilityService.generateString(5)),t.utilityService.validateForm(t.validation)&&(t.selectedButton&&t.selectedButton!==t.lastSelectedButton?(t.lastSelectedButton=t.selectedButton,t.isModalOpen=!1,t.shareService.destroyMessage(),yield t.storage.set("lastStatusCode",t.selectedButton),yield t.onWillDismiss()):t.toastService.showToast("You need to select a different status!","warning"))})()}onWillDismiss(){var t=this;return(0,c.Z)(function*(){const n=(new Date).getTime(),s=["OFF","SB","D","ON","PC","YM"],u=t.logEvents.filter(d=>s.includes(d.type.code));let l=u[u.length-1];l&&(l.eventTime.timeStampEnd=n);let h={OFF:{statusName:"Off Duty",eventTypeType:"DUTY_STATUS"},SB:{statusName:"Sleeper Berth",eventTypeType:"DUTY_STATUS"},D:{statusName:"Driving",eventTypeType:"DUTY_STATUS"},ON:{statusName:"On Duty",eventTypeType:"DUTY_STATUS"},PC:{statusName:"Personal Conveyance",eventTypeType:"DRIVER_INDICATES"},YM:{statusName:"Yard Moves",eventTypeType:"DRIVER_INDICATES"}},x={logEventId:t.utilityService.uuidv4(),companyId:l.companyId,driverId:t.driverId,eventTime:{logDate:(0,r.p6)(new Date(n),"yyyy/MM/dd","en_US",it.W3[t.timeZone]),timeStamp:n,timeZone:t.timeZone},vehicle:{vehicleId:t.vehicleId},eld:{eldId:"00000000-0000-0000-0000-000000000000",macAddress:"",serialNumber:""},location:{locationType:t.location.locationType,description:t.locationDescription,latitude:t.location.latitude,longitude:t.location.longitude},sequenceNumber:l?l.sequenceNumber+1:1,type:{name:h[t.selectedButton]?h[t.selectedButton].statusName:"Unknown",code:t.selectedButton},recordStatus:{name:"Driver",code:"DRIVER"},recordOrigin:{name:"Active",code:"ACTIVE"},odometer:0,engineHours:0,malfunction:!1,dataDiagnosticEvent:!1,certificationDate:l.certificationDate,comment:"",eventDataCheck:"",inspection:!1,sent:!0};t.networkStatus?(t.dashboardService.updateLogEvent(l).toPromise().then(function(){var d=(0,c.Z)(function*(_){console.log("Last LogEvent is updated on server:",_),yield t.updateIndexLogEvents(l,!0)});return function(_){return d.apply(this,arguments)}}()).catch(function(){var d=(0,c.Z)(function*(_){console.log("Internet Status: "+t.networkStatus),console.log("Last LogEvent Pushed in offline logEvents array"),yield t.updateIndexLogEvents(l,!1)});return function(_){return d.apply(this,arguments)}}()),t.dashboardService.updateLogEvent(x).toPromise().then(d=>{console.log("New status is updated on server:",d),t.updateLogEvents(x,!0)}).catch(function(){var d=(0,c.Z)(function*(_){console.log("Internet Status: "+t.networkStatus),console.log("New Log Event Status Pushed in offline logEvents Array"),t.updateLogEvents(x,!1)});return function(_){return d.apply(this,arguments)}}())):(console.log("Updated logEvents in offline array"),yield t.updateIndexLogEvents(l,!1),t.updateLogEvents(x,!1)),t.updateLogDailies(),t.calculateCircles(),t.isModalOpen=!1})()}convertSecondToHours(t){let n,s,u;return t<0?(n="-",t=-t):n="",s=(24*Math.trunc(t/86400%24)+Math.trunc(t/3600%24)).toString(),u=(Math.trunc(t/60)%60).toString(),0===s.length&&(s="00"),1===s.length&&(s="0"+s),0===u.length&&(u="0"),1===u.length&&(u="0"+u),n+s+":"+u}updateLogDailies(){var t=this;return(0,c.Z)(function*(){let n=new Date;t.countDays=[];for(let A=0;A<14;A++){const F=n.toISOString().split("T")[0].replace(/-/g,"/"),L=t.logDailies.findIndex(k=>k.logDate.includes(F));if(-1!==L)t.countDays.push(t.logDailies[L]);else{let k={logDailyId:t.utilityService.uuidv4(),companyId:t.companyId,driverId:t.driverId,driverName:"",logDate:F.replace(/-/g,"/"),timeOffDuty:0,timeSleeper:0,timeDriving:0,timeOnDuty:0,timeWorked:0,violations:[],formManner:!1,certified:!1,form:{trailers:"",shippingDoc:"",fromAddress:"",toAddress:"",signatureId:"00000000-0000-0000-0000-000000000000"}};t.countDays.push(k)}n.setDate(n.getDate()-1)}t.countDays.sort((A,F)=>F.logDate.localeCompare(A.logDate)),t.logDailies=t.countDays.slice(),yield t.storage.set("logDailies",t.logDailies);const s=["OFF","SB","D","ON","PC","YM"];let u=null,l=null,h=0,x=0,d=0,_=0,O=0,p=0,U=0,R=0,J=0,V=0;for(let A=0;A<t.logDailies.length;A++){let F=t.logDailies[A].logDate;d=0,_=0,O=0,p=0,U=t.logDailies[A].timeOffDuty,R=t.logDailies[A].timeSleeper,J=t.logDailies[A].timeDriving,V=t.logDailies[A].timeOnDuty,t.logEvents.forEach(L=>{if(s.includes(L.type.code)){let k=L.eventTime.timeStampEnd?(0,r.p6)(new Date(F),"yyyy-MM-dd","en_US")<=(0,r.p6)(new Date(L.eventTime.timeStampEnd),"yyyy-MM-dd","en_US"):(0,r.p6)(new Date(F),"yyyy-MM-dd","en_US")<=(0,r.p6)(new Date,"yyyy-MM-dd","en_US");if((0,r.p6)(new Date(L.eventTime.timeStamp),"yyyy-MM-dd","en_US")<=(0,r.p6)(new Date(F),"yyyy-MM-dd","en_US")&&k)switch(u=new Date(L.eventTime.timeStamp),h=u.toLocaleDateString()===new Date(F).toLocaleDateString()?60*u.getHours()+u.getMinutes():0,l=new Date(L.eventTime.timeStampEnd),x=l.toLocaleDateString()===new Date(F).toLocaleDateString()?60*l.getHours()+l.getMinutes():1440,L.type.code.toUpperCase()){case"OFF":case"PC":d+=60*(x-h);break;case"SB":_+=60*(x-h);break;case"D":O+=60*(x-h);break;case"ON":case"YM":p+=60*(x-h)}}}),(U!=d||R!=_||J!=O||V!=p)&&(t.logDailies[A].timeOffDuty=d,t.logDailies[A].timeSleeper=_,t.logDailies[A].timeDriving=O,t.logDailies[A].timeOnDuty=p,t.logDailies[A].timeWorked=O+p,t.networkStatus?t.dashboardService.updateLogDaily(t.logDailies[A]).subscribe(function(){var L=(0,c.Z)(function*(k){console.log("LogDaily (durationStatuses) is updated on server:",k),yield t.updateIndexLogDaily(t.logDailies[A],!0)});return function(k){return L.apply(this,arguments)}}(),function(){var L=(0,c.Z)(function*(k){console.log("Internet Status: "+t.networkStatus),yield t.updateIndexLogDaily(t.logDailies[A],!1),console.log("Pushed in logDailies")});return function(k){return L.apply(this,arguments)}}()):(console.log("Updated logEvents in offline array"),yield t.updateIndexLogDaily(t.logDailies[A],!1)))}})()}updateLogDaily(t,n){var s=this;return(0,c.Z)(function*(){t.sent=n,s.logDailies.push(t),yield s.storage.set("logDailies",s.logDailies)})()}updateIndexLogDaily(t,n){var s=this;return(0,c.Z)(function*(){t.sent=n;const u=s.logDailies.findIndex(l=>l.logDailyId===t.logDailyId);-1!==u&&(s.logDailies[u]=t),yield s.storage.set("logDailies",s.logDailies)})()}getStatusColor(t){return t?{OFF:"var(--gray-300)",SB:"var(--gray-500)",ON:"var(--warning-400)",D:"var(--success-500)",PC:"var(--gray-300)",YM:"var(--warning-400)"}[t]:"var(--success-500)"}updateEveryMinute(){setInterval(()=>{this.updateLogDailies(),this.calculateCircles()},6e4)}ionViewWillLeave(){var t=this;return(0,c.Z)(function*(){yield t.storage.set("lastKnownLocation",t.locationDescription),t.databaseSubscription&&t.databaseSubscription.unsubscribe()})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.SH),e.Y36(dt.gz),e.Y36(vt.k),e.Y36(Zt.s),e.Y36(It.W),e.Y36(Ut.K),e.Y36(vt.k),e.Y36(At.a),e.Y36(Wt),e.Y36(Rt.k),e.Y36(Nt.t),e.Y36(Ht.t),e.Y36(e.sBO),e.Y36(q.t4),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hos"]],decls:2,vars:2,consts:[[3,"forceOverscroll"],["class","hos-wrapper",4,"ngIf"],[1,"hos-wrapper"],[1,"hos-header"],[1,"service",3,"ngClass","click"],["src","assets/icon/location_icon.svg"],[1,"hos-name"],[1,"subtitle"],[1,"text-1"],["src","assets/icon/bluetooth_icon.svg"],[1,"warning"],["src","assets/icon/warning.svg","alt","warning"],[1,"warning-text"],[1,"status-bar"],["id","trigger-status",1,"green",2,"max-width","39%",3,"ngStyle","click"],[1,"text-elipsis"],["src","assets/icon/arrow-bottom.svg","alt","arrow"],[1,"green",3,"ngStyle"],["trigger","trigger-status",3,"isOpen"],[1,"circles"],[1,"text-2",2,"margin-bottom","5px"],["class","circles-block",4,"ngIf"],["class","rest-mode",4,"ngIf"],[1,"time"],[1,"time-block"],[1,"switch-sleep"],[1,"btn","primary-btn",3,"click"],["src","assets/icon/moon.svg","alt","moon",4,"ngIf"],["src","assets/icon/drive.svg","alt","moon",4,"ngIf"],[1,"log-dailies"],["class","log-daily",3,"click",4,"ngFor","ngForOf"],[3,"title","backButton","backButtonCallback"],[1,"modal-content"],[3,"currentValue","selectedValue"],[3,"label","fill","type","value","loading","disabled","validation","valueChange","validationChange"],[3,"label","fill","type","value","noValidation","valueChange"],[1,"btns-flex"],[1,"btn","secondary-btn",3,"click"],[1,"circles-block"],[1,"circle-block"],["outerStrokeColor","rgb(254, 200, 75)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgb(254, 200, 75)","titleFontWeight","600","subtitle","Break","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],["outerStrokeColor","rgba(18, 183, 106, 1)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgba(18, 183, 106, 1)","titleFontWeight","600","subtitle","Driving","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","animation","showUnits","animationDuration"],["outerStrokeColor","rgba(155, 138, 251, 1)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgba(155, 138, 251, 1)","titleFontWeight","600","subtitle","Shift","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],["outerStrokeColor","rgba(251, 101, 20, 1)","innerStrokeColor","rgba(228, 231, 236, 1)","titleFontSize","22","titleColor","rgba(251, 101, 20, 1)","titleFontWeight","600","subtitle","Cycle","subtitleFontWeight","500","subtitleColor","rgba(152, 162, 179, 1)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],[1,"rest-mode"],[1,"rest-row"],[1,"row-1"],[1,"progress-bar-outer"],["id","inner-1",1,"progress-bar-inner"],["id","inner-2",1,"progress-bar-inner"],["id","inner-3",1,"progress-bar-inner"],["src","assets/icon/moon.svg","alt","moon"],["src","assets/icon/drive.svg","alt","moon"],[1,"log-daily",3,"click"],[1,"log-left"],[1,"sub-info"],[1,"status-dot",3,"ngClass"],[1,"log-right"],[1,"hours-worked"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,ee,57,25,"div",1),e.qZA()),2&t&&(e.Q6J("forceOverscroll",!1),e.xp6(1),e.Q6J("ngIf",n.vehicle))},dependencies:[r.mk,r.sg,r.O5,r.PC,q.W2,q.ki,kt,zt.G,Jt,Vt.R,Yt.U,Kt.L,r.uU,qt],styles:[".hos-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:20px;padding:20px}.hos-wrapper[_ngcontent-%COMP%]   .hos-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;gap:10px;background-color:var(--gray-100);border-radius:50px;padding:10px 15px}.hos-wrapper[_ngcontent-%COMP%]   .hos-header[_ngcontent-%COMP%]   .hos-name[_ngcontent-%COMP%]{flex-grow:1;text-align:center}.hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;background-color:var(--warning-500);border-radius:50px;padding:10px 15px}.hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .text-1[_ngcontent-%COMP%]{color:var(--warning-25)}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{flex-grow:1}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;gap:10px;color:var(--gray-25);font-size:16px;border-radius:30px;padding:5px 10px}.hos-wrapper[_ngcontent-%COMP%]   .circles-block[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;max-width:80%;min-width:60%;margin:0 auto}.hos-wrapper[_ngcontent-%COMP%]   .circles-block[_ngcontent-%COMP%]   .circle-block[_ngcontent-%COMP%]{width:45%;max-width:140px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]{width:100%;height:10px;background-color:var(--gray-200);border-radius:20px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   .progress-bar-inner[_ngcontent-%COMP%]{height:10px;border-radius:20px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-1[_ngcontent-%COMP%]{background-color:#fec84b}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-2[_ngcontent-%COMP%]{background-color:#9b8afb}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-3[_ngcontent-%COMP%]{background-color:#fb6514}.hos-wrapper[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]{flex-grow:1;border-radius:30px;background-color:var(--gray-100);text-align:center;padding:20px}.hos-wrapper[_ngcontent-%COMP%]   .switch-sleep[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:var(--gray-100);border-radius:30px;padding:15px}.hos-wrapper[_ngcontent-%COMP%]   .switch-sleep[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{--handle-background: var(--gray-300);--handle-background-checked: var(--success-500);--track-background: var(--gray-25);--track-background-checked: var(--gray-25);--handle-width: 23px;--handle-height: 23px}.hos-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:217px;height:50px;display:flex;justify-content:space-between;align-items:center;border-radius:41px;font-size:16px;padding:15px;margin:0 auto}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--gray-100);border-radius:10px;padding:15px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]   .sub-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]   .sub-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--gray-500)}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-right[_ngcontent-%COMP%]{background-color:var(--success-500);border-radius:30px;padding:5px 10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-right[_ngcontent-%COMP%]   .hours-worked[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:500}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;padding:30px}.modal-content[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{height:100px}.modal-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:41px;font-size:16px}ion-progress-bar[_ngcontent-%COMP%]{--background: var(--gray-200);--progress-background: #9b8afb}ion-progress-bar[_ngcontent-%COMP%]   #progress-break[_ngcontent-%COMP%]{--progress-background: #fec84b}ion-progress-bar[_ngcontent-%COMP%]   #progress-shift[_ngcontent-%COMP%]{--progress-background: #9b8afb}ion-progress-bar[_ngcontent-%COMP%]   #progress-cycle[_ngcontent-%COMP%]{--progress-background: #fb6514}.status-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.status-dot-error[_ngcontent-%COMP%]{background-color:var(--error-600)}.status-dot-success[_ngcontent-%COMP%]{background-color:var(--success-600)}.service[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center}.service-on[_ngcontent-%COMP%]{background-color:var(--success-500)}.service-off[_ngcontent-%COMP%]{background-color:var(--error-500)}"]}),i})()}];let ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[dt.Bz.forChild(ne),dt.Bz]}),i})();var oe=a(4546);let se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[r.ez,D.u5,q.Pc]}),i})();var re=a(4166),ae=a(4877),le=a(2218),ce=a(8134);let ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[r.ez,D.u5,q.Pc,ie,Dt.forRoot(),oe.y,se,re.v,ae.r,le.H,ce.y]}),i})()},6994:(z,I,a)=>{a.d(I,{t:()=>E});var r=a(7579),D=a(1135),e=a(8256);let E=(()=>{class w{constructor(){this.editDataDetails=[],this.subject=new r.x,this.messageSource=new D.X(this.editDataDetails),this.currentMessage=this.messageSource.asObservable()}changeMessage(m){this.messageSource.next(m)}destroyMessage(){this.messageSource.next("")}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},7278:(z,I,a)=>{a.d(I,{t:()=>E});var r=a(8924),D=a(8256),e=a(849);let E=(()=>{class w{constructor(m){this.storage=m}generateString(m){const T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let b=" ";const y=T.length;for(let v=0;v<m;v++)b+=T.charAt(Math.floor(Math.random()*y));return b}validateForm(m){let T=!0;for(const b in m)T=T&&m[b];return T}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){const T=16*Math.random()|0;return("x"==m?T:3&T|8).toString(16)})}msToTime(m){let T=Math.floor(m/1e3%60),b=Math.floor(m/6e4%60),y=Math.floor(m/36e5);return y=y<10?"0"+y:y,b=b<10?"0"+b:b,T=T<10?"0"+T:T,y+"h "+b+"min"}checkSeason(){return(new Date).getTime()>=r.Rk[(new Date).getFullYear().toString()].summer&&(new Date).getTime()<r.Rk[(new Date).getFullYear().toString()].winter?r.Eb:r.bm}}return w.\u0275fac=function(m){return new(m||w)(D.LFG(e.K))},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},1566:(z,I,a)=>{a.d(I,{P:()=>y,z:()=>b});var r=a(727);class D extends r.w0{constructor(g,f){super()}schedule(g,f=0){return this}}const e={setInterval(v,g,...f){const{delegate:M}=e;return null!=M&&M.setInterval?M.setInterval(v,g,...f):setInterval(v,g,...f)},clearInterval(v){const{delegate:g}=e;return((null==g?void 0:g.clearInterval)||clearInterval)(v)},delegate:void 0};var E=a(8737);const C={now:()=>(C.delegate||Date).now(),delegate:void 0};class m{constructor(g,f=m.now){this.schedulerActionCtor=g,this.now=f}schedule(g,f=0,M){return new this.schedulerActionCtor(this,g).schedule(M,f)}}m.now=C.now;const b=new class T extends m{constructor(g,f=m.now){super(g,f),this.actions=[],this._active=!1}flush(g){const{actions:f}=this;if(this._active)return void f.push(g);let M;this._active=!0;do{if(M=g.execute(g.state,g.delay))break}while(g=f.shift());if(this._active=!1,M){for(;g=f.shift();)g.unsubscribe();throw M}}}(class w extends D{constructor(g,f){super(g,f),this.scheduler=g,this.work=f,this.pending=!1}schedule(g,f=0){var M;if(this.closed)return this;this.state=g;const S=this.id,B=this.scheduler;return null!=S&&(this.id=this.recycleAsyncId(B,S,f)),this.pending=!0,this.delay=f,this.id=null!==(M=this.id)&&void 0!==M?M:this.requestAsyncId(B,this.id,f),this}requestAsyncId(g,f,M=0){return e.setInterval(g.flush.bind(g,this),M)}recycleAsyncId(g,f,M=0){if(null!=M&&this.delay===M&&!1===this.pending)return f;null!=f&&e.clearInterval(f)}execute(g,f){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const M=this._execute(g,f);if(M)return M;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,f){let S,M=!1;try{this.work(g)}catch(B){M=!0,S=B||new Error("Scheduled action threw falsy error")}if(M)return this.unsubscribe(),S}unsubscribe(){if(!this.closed){const{id:g,scheduler:f}=this,{actions:M}=f;this.work=this.state=this.scheduler=null,this.pending=!1,(0,E.P)(M,this),null!=g&&(this.id=this.recycleAsyncId(f,g,null)),this.delay=null,super.unsubscribe()}}}),y=b}}]);