"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4955,3646,8871,4576,4546],{3646:(C,h,c)=>{c.d(h,{G:()=>g});var t=c(8256),m=c(6895);function p(e,d){if(1&e){const r=t.EpF();t.TgZ(0,"img",6),t.NdJ("click",function(){t.CHM(r);const b=t.oxw();return t.KtG(b.goBack())}),t.qZA()}}const l=["*"];let g=(()=>{class e{constructor(){this.backButton=!1,this.backButtonCallback=new t.vpe}ngOnInit(){}goBack(){this.backButtonCallback.emit()}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header"]],inputs:{title:"title",subtitle:"subtitle",backButton:"backButton"},outputs:{backButtonCallback:"backButtonCallback"},ngContentSelectors:l,decls:9,vars:3,consts:[[1,"title-container","padding-g"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"title-back"],["src","../../../assets/imgs/back-arrow.png",3,"click",4,"ngIf"],[1,"page-title"],[1,"subtitle","custom-subtitle"],["src","../../../assets/imgs/back-arrow.png",3,"click"]],template:function(r,v){1&r&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,p,1,0,"img",3),t.TgZ(4,"div",4),t._uU(5),t.qZA()(),t.Hsn(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.qZA()()),2&r&&(t.xp6(3),t.Q6J("ngIf",v.backButton),t.xp6(2),t.Oqu(v.title),t.xp6(3),t.hij(" ",v.subtitle," "))},dependencies:[m.O5],styles:[".title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.title-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.custom-subtitle[_ngcontent-%COMP%]{margin-left:35px}.title-container[_ngcontent-%COMP%]{padding-bottom:0}"]}),e})()},4546:(C,h,c)=>{c.d(h,{y:()=>g});var t=c(6895),m=c(4006),p=c(7151),l=c(8256);let g=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[t.ez,m.u5,p.Pc]}),e})()},4955:(C,h,c)=>{c.r(h),c.d(h,{SelectVehiclePageModule:()=>S});var t=c(6895),m=c(4006),p=c(849),l=c(7151),g=c(5050),e=c(8256),d=c(4382),r=c(3646);let v=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-card"]],inputs:{vehicle:"vehicle"},decls:5,vars:4,consts:[[1,"card"],[1,"subtitle"],[1,"text-1"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"span",2),e._uU(4),e.qZA()()),2&i&&(e.xp6(2),e.AsE("",a.vehicle.make," ",a.vehicle.model,""),e.xp6(2),e.AsE("",a.vehicle.year,", Vehicle Unit: ",a.vehicle.vehicleUnit," "))},styles:[".card[_ngcontent-%COMP%]{width:100%;display:inline-flex;flex-direction:column;gap:10px;background-color:var(--gray-100);border-radius:10px;padding:15px}"]}),n})();function b(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",4)(1,"app-card",5),e.NdJ("click",function(){const u=e.CHM(i).$implicit,f=e.oxw();return e.KtG(f.selectVehicle(u))}),e.qZA()()}if(2&n){const i=s.$implicit;e.xp6(1),e.Q6J("vehicle",i)}}const B=[{path:"",component:(()=>{class n{constructor(i,a,o){this.navCtrl=i,this.databaseService=a,this.storage=o,this.bReady=!1,this.showBackButton=!1,this.pickedVehicle="",this.vehicles=[]}ngOnInit(){this.databaseSubscription=this.databaseService.isDatabaseReady().subscribe(i=>{i&&(this.bReady=i,this.databaseService.getVehicles().subscribe(a=>{this.vehicles=a}),this.databaseService.getDrivers().subscribe(a=>{var o,u,f,_;a&&(this.driver=a[0]),this.storage.set("HoursOfServiceRuleDays",null===(o=this.driver)||void 0===o||null===(u=o.driverInfo)||void 0===u?void 0:u.settings.hoursOfService.days),this.storage.set("HoursOfServiceRuleHours",null===(f=this.driver)||void 0===f||null===(_=f.driverInfo)||void 0===_?void 0:_.settings.hoursOfService.hours)}),this.databaseService.getCompany().subscribe(a=>{var o;this.company=a,this.storage.set("timeZone",null===(o=this.company)||void 0===o?void 0:o.mainOffice.timeZoneCode)}))})}ionViewWillEnter(){const i=localStorage.getItem("showBackButton");this.showBackButton=null!==i&&JSON.parse(i),this.bReady&&this.databaseService.getVehicles().subscribe(a=>{this.vehicles=a})}handleRefresh(i){setTimeout(()=>{i.target.complete()},1e3)}selectVehicle(i){this.storage.set("vehicleId",i.vehicleId),this.storage.set("vehicleUnit",i.vehicleUnit),this.showBackButton?this.navCtrl.navigateBack("/unitab/others",{replaceUrl:!0}):this.navCtrl.navigateForward("/connect-mac")}ionViewWillLeave(){localStorage.removeItem("showBackButton"),this.databaseSubscription&&this.databaseSubscription.unsubscribe()}goBack(){this.navCtrl.navigateBack("unitab/others")}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(l.SH),e.Y36(d.k),e.Y36(p.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-select-vehicle"]],decls:5,vars:5,consts:[[3,"forceOverscroll","fullscreen"],[3,"title","backButton","backButtonCallback"],["slot","fixed",3,"ionRefresh"],["class","vehicle-container",4,"ngFor","ngForOf"],[1,"vehicle-container"],[3,"vehicle","click"]],template:function(i,a){1&i&&(e.TgZ(0,"ion-content",0)(1,"app-header",1),e.NdJ("backButtonCallback",function(){return a.goBack()}),e.qZA(),e.TgZ(2,"ion-refresher",2),e.NdJ("ionRefresh",function(u){return a.handleRefresh(u)}),e._UZ(3,"ion-refresher-content"),e.qZA(),e.YNc(4,b,2,1,"div",3),e.qZA()),2&i&&(e.Q6J("forceOverscroll",!1)("fullscreen",!0),e.xp6(1),e.Q6J("title","Select Vehicle")("backButton",a.showBackButton),e.xp6(3),e.Q6J("ngForOf",a.vehicles))},dependencies:[t.sg,l.W2,l.nJ,l.Wo,r.G,v],styles:[".vehicle-container[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:15px}.custom-title[_ngcontent-%COMP%]{padding:30px 30px 0}"]}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(B),g.Bz]}),n})();var P=c(4546);let S=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[p.K,d.k],imports:[t.ez,m.u5,l.Pc,k,P.y]}),n})()}}]);