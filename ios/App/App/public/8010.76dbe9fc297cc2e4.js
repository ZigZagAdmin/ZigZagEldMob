"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8010],{2187:(S,M,r)=>{r.d(M,{a:()=>L});var s=r(8256),Z=r(4465),v=r(6994),y=r(6895),t=r(4006);const T=function(u,h,l,g){return{"label-error":u,"input-label-top":h,"input-label-left":l,"no-label":g}};function f(u,h){if(1&u&&(s.TgZ(0,"div",3),s._uU(1),s.qZA()),2&u){const l=s.oxw();s.Q6J("ngClass",s.l5B(3,T,!l.valid,"top"===l.labelPosition,"left"===l.labelPosition,"none"===l.label)),s.xp6(1),s.AsE(" ",l.label,"",l.required?"*":""," ")}}const P=function(u,h){return{"custom-input-top":u,"custom-input-left":h}},I=function(u,h,l,g){return{"input-fill":u,"validation-error":h,"input-left":l,"disable-input-opacity":g}};let L=(()=>{class u{constructor(l,g,x){this.toastService=l,this.shareService=g,this.elementRef=x,this.type="text",this.placeholder="",this.fill=!0,this.validators=[],this.noValidation=!1,this.disabled=!1,this.showDisabled=!1,this.required=!1,this.labelPosition="top",this.valueChange=new s.vpe,this.validationChange=new s.vpe,this.valid=!0}get value(){return this._value}set value(l){this._value!==l&&(this._value=l,this.valueChange.emit(l))}get validation(){return this._validation}set validation(l){this._validation!==l&&(this._validation=l,this.validationChange.emit(l))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(l=>{"reset"===l?this.valid=!0:"invalidate"!==l||this.noValidation?l&&0!==l.length&&this.validateInput():this.valid=!1})}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(l){0!==l.target.value&&(this.valid=!0),this.value=l.target.value,this.valueChange.emit(this.value)}validateInput(){!this.noValidation&&null!==this.elementRef.nativeElement.offsetParent&&(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(l=>!!l.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(l.message),!1)),this.validation=this.valid)}}return u.\u0275fac=function(l){return new(l||u)(s.Y36(Z.k),s.Y36(v.t),s.Y36(s.SBq))},u.\u0275cmp=s.Xpm({type:u,selectors:[["app-input"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",validators:"validators",noValidation:"noValidation",disabled:"disabled",showDisabled:"showDisabled",required:"required",labelPosition:"labelPosition",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange"},decls:3,vars:15,consts:[[1,"custom-input",3,"ngClass"],["class","input-label",3,"ngClass",4,"ngIf"],["autocomplete","one-time-code",1,"input-box",3,"type","ngModel","readonly","placeholder","ngClass","input","ngModelChange"],[1,"input-label",3,"ngClass"]],template:function(l,g){1&l&&(s.TgZ(0,"div",0),s.YNc(1,f,2,8,"div",1),s.TgZ(2,"input",2),s.NdJ("input",function(C){return g.onInputChange(C)})("ngModelChange",function(C){return g.value=C}),s.qZA()()),2&l&&(s.Q6J("ngClass",s.WLB(7,P,"top"===g.labelPosition,"left"===g.labelPosition)),s.xp6(1),s.Q6J("ngIf",g.label),s.xp6(1),s.Q6J("type",g.type)("ngModel",g.value)("readonly",g.disabled)("placeholder",g.placeholder)("ngClass",s.l5B(10,I,g.fill,!g.valid,"left"===g.labelPosition,g.showDisabled)))},dependencies:[y.mk,y.O5,t.Fj,t.JJ,t.On],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.custom-input-top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.custom-input-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:24px}.input-label[_ngcontent-%COMP%]{color:var(--gray-500)}.input-label-top[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.input-label-left[_ngcontent-%COMP%]{flex:1;font-size:15px;font-weight:600}.input-box[_ngcontent-%COMP%]{width:100%;height:45px;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;border:1px solid var(--gray-200);background-color:transparent}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)}.input-left[_ngcontent-%COMP%]{flex:1}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}.no-label[_ngcontent-%COMP%]{color:transparent!important}"]}),u})()},8010:(S,M,r)=>{r.r(M),r.d(M,{LogItemPageModule:()=>ft});var s=r(6895),Z=r(4006),v=r(7151),y=r(5050),t=r(8256);let T=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-log-item"]],decls:0,vars:0,template:function(e,o){}}),i})();var f=r(5861),P=r(3905),I=r(4128),L=r(4171),u=r(5670),h=r(4382),l=r(849),g=r(9393),x=r(9386),C=r(4465),w=r(7278),A=r(6994),k=r(4761),U=r(3646),F=r(2145),E=r(2187),B=r(8837),q=r(2092);const J=["sPad"];function N(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.nevigateToInspection())}),t._UZ(1,"img",7),t.qZA()}}function Y(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-scroll-toolbar",8),t.NdJ("leftCallback",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToNextLog())})("rightCallback",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPreviousLog())}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("title",e.getDateSub(null==e.logDaily?null:e.logDaily.logDate))}}function H(i,c){if(1&i&&(t.O4$(),t.TgZ(0,"g",82)(1,"g",83),t._UZ(2,"line",16),t.TgZ(3,"g",84),t._UZ(4,"line",85)(5,"line",86)(6,"line",87),t.qZA(),t.TgZ(7,"g",88),t._UZ(8,"line",85)(9,"line",86)(10,"line",87),t.qZA(),t.TgZ(11,"g",89),t._UZ(12,"line",90)(13,"line",91)(14,"line",92),t.qZA(),t.TgZ(15,"g",93),t._UZ(16,"line",90)(17,"line",91)(18,"line",92),t.qZA()()()),2&i){const e=c.$implicit;t.xp6(1),t.Udp("transform","translateX("+60*e+"px)")}}function Q(i,c){if(1&i&&(t.O4$(),t._UZ(0,"line",96)),2&i){const e=t.oxw().$implicit;t.uIk("x1",e.x1)("x2",e.x1)("y1",e.y1)("y2",e.yV)}}function G(i,c){if(1&i&&(t.O4$(),t.TgZ(0,"g",94),t._UZ(1,"line"),t.YNc(2,Q,1,4,"line",95),t.qZA()),2&i){const e=c.$implicit;t.xp6(1),t.Tol(e.class),t.uIk("x1",e.x1)("x2",e.x2)("y1",e.y1)("y2",e.y2),t.xp6(1),t.Q6J("ngIf",e.yV>0)}}function R(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",99),t.NdJ("click",function(){const a=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.toggleViolationRect(a))}),t._uU(1),t.ALo(2,"date"),t.qZA()}if(2&i){const e=c.$implicit,o=t.oxw(3);t.xp6(1),t.AsE(" ",(null==e?null:e.regulations.name)+" ","",t.Dn7(2,2,e.startTime,"hh:mm:ss a",o.timeZones[o.timeZone])," ")}}function V(i,c){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",97),t.YNc(1,R,3,6,"div",98),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.logDaily?null:e.logDaily.violations)}}function K(i,c){1&i&&(t.TgZ(0,"span",100),t._uU(1,"Save"),t.qZA())}function z(i,c){1&i&&t._UZ(0,"ion-spinner",101)}const j=function(i){return{"btn-disabled ":i}};function W(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",102),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.certifyLog())}),t._uU(1,"Certify"),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,j,e.currentDay===e.today))("disabled",e.currentDay===e.today)}}function $(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.openModal())}),t._uU(1,"Certified"),t.qZA()}}function X(i,c){1&i&&t._UZ(0,"ion-spinner",109)}function tt(i,c){1&i&&(t.TgZ(0,"div",110),t._uU(1,"Signature could not be loaded."),t.qZA())}const et=function(i){return{"no-image":i}};function nt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content",0)(1,"app-header",1),t.NdJ("backButtonCallback",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.cancel())}),t.qZA(),t.TgZ(2,"div",104)(3,"div",105)(4,"img",106),t.NdJ("load",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.imageLoaded())}),t.qZA(),t.YNc(5,X,1,0,"ion-spinner",107),t.YNc(6,tt,2,0,"div",108),t.qZA()()()}if(2&i){const e=t.oxw(2);t.Q6J("forceOverscroll",!1),t.xp6(1),t.Q6J("title","Signature")("backButton",!0),t.xp6(3),t.Q6J("ngClass",t.VKq(7,et,e.imageLoading))("src",e.logDaily.form.signatureLink,t.LSH),t.xp6(1),t.Q6J("ngIf",e.imageLoading),t.xp6(1),t.Q6J("ngIf",!e.finishedLoading&&!e.imageLoading)}}function it(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"img",122),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.editLog(n))}),t.qZA()}}const ot=function(i){return{"background-color":i}};function at(i,c){if(1&i&&(t.TgZ(0,"div",111)(1,"div",112)(2,"div",113),t._UZ(3,"div",114),t.TgZ(4,"div",115)(5,"p",116),t._uU(6),t.qZA(),t.TgZ(7,"div",117),t._uU(8),t.ALo(9,"date"),t.qZA()()(),t.TgZ(10,"p",118),t._uU(11),t.qZA()(),t.TgZ(12,"div",112)(13,"div",113),t._UZ(14,"img",119),t.TgZ(15,"p",120),t._uU(16),t.qZA()(),t.YNc(17,it,1,0,"img",121),t.qZA()()),2&i){const e=c.$implicit,o=c.index,n=t.oxw(2);t.xp6(3),t.Q6J("ngStyle",t.VKq(10,ot,n.getStatusColor(e.type.code))),t.xp6(3),t.AsE("",n.formatLocalDate(e.eventTime.timeStamp)," - ",e.type.name,""),t.xp6(2),t.Oqu(0===o?"("+t.xi3(9,7,e.eventTime.logDate,"mediumDate")+")":""),t.xp6(3),t.Oqu(n.logEventDuration(e)),t.xp6(5),t.Oqu(e.location.description),t.xp6(1),t.Q6J("ngIf",0!==o)}}const st=function(i,c){return{"status-circle-error":i,"status-circle-success":c}};function lt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10),t.O4$(),t.TgZ(2,"svg",11)(3,"g",12),t._UZ(4,"rect",13),t.YNc(5,H,19,2,"g",14),t.TgZ(6,"g",15),t._UZ(7,"line",16),t.qZA(),t._UZ(8,"line",17)(9,"line",18)(10,"line",19)(11,"line",20)(12,"line",21),t.qZA(),t.TgZ(13,"g",22)(14,"text",23),t._uU(15,"OFF"),t.qZA(),t.TgZ(16,"text",24),t._uU(17,"SB"),t.qZA(),t.TgZ(18,"text",25),t._uU(19,"D"),t.qZA(),t.TgZ(20,"text",26),t._uU(21,"ON"),t.qZA()(),t.TgZ(22,"g",27)(23,"text",28),t._uU(24,"M"),t.qZA(),t.TgZ(25,"text",29),t._uU(26,"1"),t.qZA(),t.TgZ(27,"text",30),t._uU(28,"2"),t.qZA(),t.TgZ(29,"text",31),t._uU(30,"3"),t.qZA(),t.TgZ(31,"text",32),t._uU(32,"4"),t.qZA(),t.TgZ(33,"text",33),t._uU(34,"5"),t.qZA(),t.TgZ(35,"text",34),t._uU(36,"6"),t.qZA(),t.TgZ(37,"text",35),t._uU(38,"7"),t.qZA(),t.TgZ(39,"text",36),t._uU(40,"8"),t.qZA(),t.TgZ(41,"text",37),t._uU(42,"9"),t.qZA(),t.TgZ(43,"text",38),t._uU(44,"10"),t.qZA(),t.TgZ(45,"text",39),t._uU(46,"11"),t.qZA(),t.TgZ(47,"text",40),t._uU(48,"N"),t.qZA(),t.TgZ(49,"text",41),t._uU(50,"1"),t.qZA(),t.TgZ(51,"text",42),t._uU(52,"2"),t.qZA(),t.TgZ(53,"text",43),t._uU(54,"3"),t.qZA(),t.TgZ(55,"text",44),t._uU(56,"4"),t.qZA(),t.TgZ(57,"text",45),t._uU(58,"5"),t.qZA(),t.TgZ(59,"text",46),t._uU(60,"6"),t.qZA(),t.TgZ(61,"text",47),t._uU(62,"7"),t.qZA(),t.TgZ(63,"text",48),t._uU(64,"8"),t.qZA(),t.TgZ(65,"text",49),t._uU(66,"9"),t.qZA(),t.TgZ(67,"text",50),t._uU(68,"10"),t.qZA(),t.TgZ(69,"text",51),t._uU(70,"11"),t.qZA(),t.TgZ(71,"text",52),t._uU(72,"M"),t.qZA()(),t.TgZ(73,"g",53)(74,"text",54),t._uU(75),t.ALo(76,"convertSecotdsToHoursAndMinutes"),t.qZA(),t.TgZ(77,"text",55),t._uU(78),t.ALo(79,"convertSecotdsToHoursAndMinutes"),t.qZA(),t.TgZ(80,"text",56),t._uU(81),t.ALo(82,"convertSecotdsToHoursAndMinutes"),t.qZA(),t.TgZ(83,"text",57),t._uU(84),t.ALo(85,"convertSecotdsToHoursAndMinutes"),t.qZA()(),t.TgZ(86,"g",58),t.YNc(87,G,3,7,"g",59),t.qZA(),t.TgZ(88,"g",60),t._UZ(89,"rect",61),t.qZA()(),t.YNc(90,V,2,1,"div",62),t.qZA(),t.kcU(),t.TgZ(91,"div",63)(92,"div",64),t._UZ(93,"div",65),t.TgZ(94,"p",66),t._uU(95,"Form"),t.qZA(),t.TgZ(96,"button",67),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t.YNc(97,K,2,0,"span",68),t.YNc(98,z,1,0,"ion-spinner",69),t.qZA()(),t.TgZ(99,"div",70)(100,"app-input",71),t.NdJ("valueChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.vehicleUnit=n)}),t.qZA(),t.TgZ(101,"app-input",72),t.NdJ("valueChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.localForm.form.trailers=n)}),t.qZA(),t.TgZ(102,"app-input",73),t.NdJ("valueChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.localForm.form.shippingDoc=n)})("validationChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.validation.shippingDoc=n)}),t.qZA(),t.TgZ(103,"app-input",73),t.NdJ("valueChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.localForm.form.fromAddress=n)})("validationChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.validation.fromAddress=n)}),t.qZA(),t.TgZ(104,"app-input",73),t.NdJ("valueChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.localForm.form.toAddress=n)})("validationChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.validation.toAddress=n)}),t.qZA()(),t.TgZ(105,"div",74)(106,"p",75),t._uU(107,"Logs"),t.qZA(),t.TgZ(108,"div",76),t.YNc(109,W,2,4,"button",77),t.YNc(110,$,2,0,"button",78),t.qZA()(),t.TgZ(111,"ion-modal",79),t.YNc(112,nt,7,9,"ng-template"),t.qZA(),t.TgZ(113,"div",80),t.YNc(114,at,18,12,"div",81),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.graphicsHour),t.xp6(70),t.Oqu(t.lcZ(76,50,60*e.durationsOFF)),t.xp6(3),t.Oqu(t.lcZ(79,52,60*e.durationsSB)),t.xp6(3),t.Oqu(t.lcZ(82,54,60*e.durationsD)),t.xp6(3),t.Oqu(t.lcZ(85,56,60*e.durationsON)),t.xp6(3),t.Q6J("ngForOf",e.eventGraphicLine),t.xp6(2),t.uIk("x",e.violationRect.x1)("width",e.violationRect.x2-e.violationRect.x1),t.xp6(1),t.Q6J("ngIf",0!==(null==e.logDaily?null:e.logDaily.violations.length)),t.xp6(3),t.Q6J("ngClass",t.WLB(58,st,!(null!=e.logDaily&&e.logDaily.formManner),null==e.logDaily?null:e.logDaily.formManner)),t.xp6(4),t.Q6J("ngIf",!e.saveFormLoading),t.xp6(1),t.Q6J("ngIf",e.saveFormLoading),t.xp6(2),t.Q6J("label","Vehicle")("fill",!0)("labelPosition","left")("disabled",!0)("type","text")("value",e.vehicleUnit)("noValidation",!0),t.xp6(1),t.Q6J("label","Trailers")("fill",!0)("labelPosition","left")("type","text")("value",e.localForm.form.trailers)("noValidation",!0),t.xp6(1),t.Q6J("label","Shipping Document")("required",!0)("fill",!0)("labelPosition","left")("type","text")("value",e.localForm.form.shippingDoc)("validation",e.validation.shippingDoc),t.xp6(1),t.Q6J("label","From Address")("required",!0)("fill",!0)("labelPosition","left")("type","text")("value",e.localForm.form.fromAddress)("validation",e.validation.fromAddress),t.xp6(1),t.Q6J("label","To Address")("required",!0)("fill",!0)("labelPosition","left")("type","text")("value",e.localForm.form.toAddress)("validation",e.validation.toAddress),t.xp6(5),t.Q6J("ngIf",!(null!=e.logDaily&&e.logDaily.certified)),t.xp6(1),t.Q6J("ngIf",null==e.logDaily?null:e.logDaily.certified),t.xp6(1),t.Q6J("isOpen",e.isModalOpen),t.xp6(3),t.Q6J("ngForOf",e.statusesOnDay)}}function rt(i,c){1&i&&t._UZ(0,"app-page-loader")}const ct=[{path:"",component:T},{path:":id",component:(()=>{class i{constructor(e,o,n,a,m,d,p,_,b,D,O){this.activatedRoute=e,this.router=o,this.databaseService=n,this.storage=a,this.internetService=m,this.dashboardService=d,this.toastService=p,this.navCtrl=_,this.utilityService=b,this.shareService=D,this.manageService=O,this.bReady=!1,this.timeZone="",this.vehicleUnit="",this.logDailies=[],this.logEvents=[],this.statusEvents=[],this.timeZones={},this.currentDay="",this.graphicsHour=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],this.statusesOnDay=[],this.eventGraphicLine=[],this.signature="",this.driverId="",this.vehicleId="",this.today=(0,s.p6)(new Date,"yyyy/MM/dd","en_US"),this.isModalOpen=!1,this.imageLoading=!1,this.saveFormLoading=!1,this.localForm={formManner:!1,form:{trailers:"",shippingDoc:"",toAddress:"",fromAddress:"",signatureId:""}},this.signaturePadOptions={minWidth:2,maxWidth:3,backgroundColor:"#FFFFFF",penColor:"black"},this.validation={shippingDoc:!1,toAddress:!1,fromAddress:!1},this.finishedLoading=!1,this.durationsOFF=0,this.durationsSB=0,this.durationsD=0,this.durationsON=0,this.violationRect={x1:0,x2:0},this.pageLoading=!1}ngOnInit(){var e=this;this.shareService.destroyMessage(),this.shareService.changeMessage("reset"),this.timeZones=this.utilityService.checkSeason(),this.networkSub=this.internetService.interetStatusObs.subscribe(function(){var o=(0,f.Z)(function*(n){n&&(e.logDailies=yield(0,P.z)(e.databaseService.getLogDailies()),e.LogDailiesId&&(e.logDaily=e.logDailies.find(a=>a.logDailyId===e.LogDailiesId)))});return function(n){return o.apply(this,arguments)}}())}ionViewWillEnter(){var e=this;return(0,f.Z)(function*(){e.pageLoading=!0,e.shareService.destroyMessage(),e.shareService.changeMessage("reset"),e.clearRect(),e.vehicleId=yield e.storage.get("vehicleId"),e.driverId=yield e.storage.get("driverId"),e.vehicleUnit=yield e.storage.get("vehicleUnit"),e.timeZone=yield e.storage.get("timeZone"),e.activatedRoute.params.subscribe(o=>{e.LogDailiesId=o.id}),e.databaseService.databaseReadySubject.subscribe(o=>{if(o){e.bReady=o;const n=e.databaseService.getLogDailies(),a=e.databaseService.getLogEvents();(0,I.D)([n,a]).subscribe(([m,d])=>{e.logDailies=m,e.logEvents=d,e.logEvents.forEach(p=>"LOGIN"!==p.type.code&&"LOGOUT"!==p.type.code?e.statusEvents.push(p):null),(0===e.logDailies.length||e.logDailies.length<14)&&e.storage.get("logDailies").then(p=>e.logDailies=p),e.logDaily=e.logDailies.find(p=>p.logDailyId===e.LogDailiesId),e.logDaily&&(e.currentDay=e.logDaily.logDate,console.log(e.logDaily),e.fillFormWithLogDailyData()),e.drawGraph(),e.fillFormWithLogDailyData(),e.pageLoading=!1})}})})()}ngOnDestroy(){this.shareService.destroyMessage()}signatureTimeout(){setTimeout(()=>{this.finishedLoading||(this.imageLoading=!1,this.clearSignature())},5e3)}getStatusColor(e){return e?{OFF:"var(--off-duty)",SB:"var(--split-spleeper-berth)",ON:"var(--warning-400)",D:"var(--success-500)",PC:"var(--off-duty)",YM:"var(--warning-400)"}[e]:"var(--success-500)"}getDateSub(e){let o=(0,s.p6)(e,"EEEE, MMM d","en_US");return o===(0,s.p6)(new Date,"EEEE, MMM d","en_US")?o+" (Today)":o}fillFormWithLogDailyData(){this.logDaily&&(this.localForm={form:{trailers:this.logDaily.form.trailers||"",shippingDoc:this.logDaily.form.shippingDoc||"",fromAddress:this.logDaily.form.fromAddress||"",toAddress:this.logDaily.form.toAddress||"",signatureId:""}})}drawGraph(){var e;const o=["OFF","SB","D","ON","PC","YM"];this.eventGraphicLine=[],this.statusesOnDay=[];let n=null,a=null,m="";this.xBgn=0,this.xEnd=0,this.xBgnV=0,this.yBgnV=0,this.durationsOFF=0,this.durationsSB=0,this.durationsD=0,this.durationsON=0,this.currentDay=null===(e=this.logDaily)||void 0===e?void 0:e.logDate,this.logEvents.forEach(d=>{if(o.includes(d.type.code)&&(m=d.eventTime.timeStampEnd?new Date(d.eventTime.timeStampEnd):(new Date).getTime(),n=new Date((0,s.p6)(new Date(d.eventTime.timeStamp),"yyyy-MM-dd HH:mm:ss","en_US",this.timeZones[this.timeZone])),a=new Date((0,s.p6)(new Date(m),"yyyy-MM-dd HH:mm:ss","en_US",this.timeZones[this.timeZone])),(0,s.p6)(new Date(d.eventTime.timeStamp),"yyyy-MM-dd","en_US",this.timeZones[this.timeZone])<=(0,s.p6)(new Date(this.currentDay),"yyyy-MM-dd","en_US")&&(0,s.p6)(new Date(this.currentDay),"yyyy-MM-dd","en_US")<=(0,s.p6)(new Date(m),"yyyy-MM-dd","en_US",this.timeZones[this.timeZone]))){switch(this.xBgn=n.toLocaleDateString()===new Date(this.currentDay).toLocaleDateString()?60*n.getHours()+n.getMinutes():0,this.xEnd=a.toLocaleDateString()===new Date(this.currentDay).toLocaleDateString()?60*a.getHours()+a.getMinutes():1440,d.type.code){case"OFF":case"PC":this.yBgn=25,this.yEnd=25,this.durationsOFF+=this.xEnd-this.xBgn;break;case"SB":this.yBgn=75,this.yEnd=75,this.durationsSB+=this.xEnd-this.xBgn;break;case"D":this.yBgn=125,this.yEnd=125,this.durationsD+=this.xEnd-this.xBgn;break;case"ON":case"YM":this.yBgn=175,this.yEnd=175,this.durationsON+=this.xEnd-this.xBgn}switch(d.type.code){case"OFF":this.eventGraphicLine.push({x1:this.xBgn,y1:this.yBgn,x2:this.xEnd,y2:this.yEnd,yV:this.yBgnV,class:"eventStatusOFF",name:"",historyId:d.logEventId,status:0,statusClick:0});break;case"SB":this.eventGraphicLine.push({x1:this.xBgn,y1:this.yBgn,x2:this.xEnd,y2:this.yEnd,yV:this.yBgnV,class:"eventStatusSB",name:"",historyId:d.logEventId,status:0,statusClick:0});break;case"D":this.eventGraphicLine.push({x1:this.xBgn,y1:this.yBgn,x2:this.xEnd,y2:this.yEnd,yV:this.yBgnV,class:"eventStatusD",name:"",historyId:d.logEventId,status:0,statusClick:0});break;case"ON":this.eventGraphicLine.push({x1:this.xBgn,y1:this.yBgn,x2:this.xEnd,y2:this.yEnd,yV:this.yBgnV,class:"eventStatusON",name:"",historyId:d.logEventId,status:0,statusClick:0});break;case"PC":this.eventGraphicLine.push({x1:this.xBgn,y1:this.yBgn,x2:this.xEnd,y2:this.yEnd,yV:this.yBgnV,class:"eventStatusPC",name:"",historyId:d.logEventId,status:0,statusClick:0});break;case"YM":this.eventGraphicLine.push({x1:this.xBgn,y1:this.yBgn,x2:this.xEnd,y2:this.yEnd,yV:this.yBgnV,class:"eventStatusYM",name:"",historyId:d.logEventId,status:0,statusClick:0})}this.xBgnV=this.xEnd,this.yBgnV=this.yEnd,this.statusesOnDay.push(d)}}),console.log(this.statusesOnDay)}goToNextLog(){this.clearRect();const o=this.logDailies.findIndex(n=>{var a;return n.logDailyId===(null===(a=this.logDaily)||void 0===a?void 0:a.logDailyId)})+1;o<this.logDailies.length&&(this.logDaily=this.logDailies[o],this.fillFormWithLogDailyData(),this.drawGraph()),this.shareService.changeMessage("reset")}goToPreviousLog(){this.clearRect();const o=this.logDailies.findIndex(n=>{var a;return n.logDailyId===(null===(a=this.logDaily)||void 0===a?void 0:a.logDailyId)})-1;o>=0&&(this.logDaily=this.logDailies[o],this.fillFormWithLogDailyData(),this.drawGraph()),this.shareService.changeMessage("reset")}onSubmit(){var e=this;return(0,f.Z)(function*(){e.shareService.changeMessage(e.utilityService.generateString(5)),e.utilityService.validateForm(e.validation)&&(e.logDaily&&(e.logDaily.form.trailers=e.localForm.form.trailers,e.logDaily.form.shippingDoc=e.localForm.form.shippingDoc,e.logDaily.form.fromAddress=e.localForm.form.fromAddress,e.logDaily.form.toAddress=e.localForm.form.toAddress,e.logDaily.formManner=!0),e.saveFormLoading=!0,(yield u.Z.getStatus()).connected?e.dashboardService.updateLogDaily(e.logDaily).subscribe(function(){var n=(0,f.Z)(function*(a){console.log(`LogDaily ${e.logDaily} is updated on server:`,a),yield e.updateIndexLogDaily(e.logDaily,!0),e.saveFormLoading=!1,e.toastService.showToast("Saved successfully!","success")});return function(a){return n.apply(this,arguments)}}(),function(){var n=(0,f.Z)(function*(a){yield e.updateIndexLogDaily(e.logDaily,!1),e.saveFormLoading=!1,e.toastService.showToast("Offline save!","warning")});return function(a){return n.apply(this,arguments)}}()):(console.log("Updated logEvents in offline array"),e.saveFormLoading=!1,yield e.updateIndexLogDaily(e.logDaily,!1),e.toastService.showToast("Offline save!","warning")))})()}updateLogDaily(e,o){var n=this;return(0,f.Z)(function*(){e.sent=o,n.logDailies.push(e),yield n.storage.set("logDailies",n.logDailies)})()}updateIndexLogDaily(e,o){var n=this;return(0,f.Z)(function*(){e.sent=o;const a=n.logDailies.findIndex(m=>m.logDailyId===e.logDailyId);-1!==a&&(n.logDailies[a]=e),yield n.storage.set("logDailies",n.logDailies)})()}initSignaturePad(){const e=this.signaturePadElement.nativeElement;e&&(this.signaturePad=new L.Z(e,this.signaturePadOptions),e.addEventListener("touchend",()=>{this.updateSignatureField()}))}restoreSignature(){const e=this.logDailies.find(o=>""!==o.form.signatureId);e&&this.renderSignature(e.form.signatureId)}renderSignature(e){const o=this.signaturePadElement.nativeElement;if(o){const n=o.getContext("2d"),a=new Image;a.onload=()=>{null==n||n.drawImage(a,0,0)},a.src="data:image/png;base64,"+e,this.signature=e}}updateSignatureField(){if(this.signaturePad&&!this.signaturePad.isEmpty()){const e=this.signaturePad.toDataURL().slice(22);this.signature=e}else this.signature=""}clearSignature(){this.signaturePad&&(this.signaturePad.clear(),this.signature="")}openModal(){this.isModalOpen=!0,this.imageLoading=!0,this.signatureTimeout()}imageLoaded(){this.imageLoading=!1,this.finishedLoading=!0}cancel(){this.isModalOpen=!1}nevigateToInspection(){this.navCtrl.navigateForward("/inspection-preview",{queryParams:{logId:this.logDaily.logDailyId,url:"log-item"}})}ionViewWillLeave(){this.shareService.destroyMessage(),this.shareService.changeMessage("reset"),this.databaseSubscription&&this.databaseSubscription.unsubscribe()}certifyLog(){if(!this.logDaily.formManner&&this.statusesOnDay.length>=2)return this.toastService.showToast("You must complete the form first!"),this.validation={shippingDoc:!1,toAddress:!1,fromAddress:!1},this.shareService.changeMessage(this.utilityService.generateString(5)),void this.utilityService.validateForm(this.validation);this.validation={shippingDoc:!0,toAddress:!0,fromAddress:!0},console.log(this.validation),this.navCtrl.navigateForward("log-certify",{queryParams:{date:this.logDaily.logDate,logId:this.logDaily.logDailyId}})}editLog(e){this.navCtrl.navigateForward("edit-duty-status",{queryParams:{logDailyId:this.logDaily.logDailyId,logEventId:e.logEventId}})}goBack(){this.navCtrl.navigateBack("unitab/hos")}logEventDuration(e){return this.utilityService.msToTime(void 0!==e.eventTime.timeStampEnd&&0!==e.eventTime.timeStampEnd?e.eventTime.timeStampEnd-e.eventTime.timeStamp:(new Date).getTime()-e.eventTime.timeStamp)}formatLocalDate(e){return(0,s.p6)(new Date(e),"h:mm:ss a","en_US",this.timeZones[this.timeZone])}canBeInspected(){var e;let o=new Date;return o.setHours(0,0,0,0),o.setDate((new Date).getDate()-7),o.getTime()<=new Date(null===(e=this.logDaily)||void 0===e?void 0:e.logDate).getTime()}clearRect(){this.violationRect.x1=0,this.violationRect.x2=0}toggleViolationRect(e){try{var o,n;const a=["OFF","SB","D","ON","PC","YM"];let p,_,b,D,m=this.logEvents.findIndex(O=>O.eventTime.timeStamp>e.startTime&&a.includes(O.type.code)),d=new Date((0,s.p6)(new Date(e.startTime),"yyyy-MM-dd HH:mm:ss","en_US",this.timeZones[this.timeZone]));p=null!==(o=this.logEvents[m])&&void 0!==o&&null!==(n=o.eventTime)&&void 0!==n&&n.timeStamp?new Date(this.logEvents[m].eventTime.timeStamp):new Date,_=new Date((0,s.p6)(new Date(p),"yyyy-MM-dd HH:mm:ss","en_US",this.timeZones[this.timeZone])),b=(0,s.p6)(d,"yyyy/MM/dd","en_US")===(0,s.p6)(this.currentDay,"yyyy/MM/dd","en_US")?60*d.getHours()+d.getMinutes():0,D=(0,s.p6)(_,"yyyy/MM/dd","en_US")===(0,s.p6)(this.currentDay,"yyyy/MM/dd","en_US")?60*_.getHours()+_.getMinutes():1440,this.violationRect.x1=b,this.violationRect.x2=D}catch(a){console.log(a)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(y.gz),t.Y36(y.F0),t.Y36(h.k),t.Y36(l.K),t.Y36(g.W),t.Y36(x.s),t.Y36(C.k),t.Y36(v.SH),t.Y36(w.t),t.Y36(A.t),t.Y36(k.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-log-item-daily"]],viewQuery:function(e,o){if(1&e&&t.Gf(J,5),2&e){let n;t.iGM(n=t.CRH())&&(o.signaturePadElement=n.first)}},decls:6,vars:7,consts:[[3,"forceOverscroll"],[3,"title","backButton","backButtonCallback"],["class","preview-container",3,"click",4,"ngIf"],[3,"title","leftCallback","rightCallback",4,"ngIf"],["class","padding-g",4,"ngIf"],[4,"ngIf"],[1,"preview-container",3,"click"],["src","../../../assets/imgs/eye.png"],[3,"title","leftCallback","rightCallback"],[1,"padding-g"],[1,"card-info"],["preserveAspectRatio","xMidYMid","viewBox","0 0 1600 270"],["transform","translate(65, 40)",1,"grid"],["x","0","y","0","width","1440","height","200","rx","8","ry","8",1,"border"],["class","",4,"ngFor","ngForOf"],["transform","translate(1440, 0)",1,"column"],["x1","0","x2","0","y1","0","y2","200"],["x1","0","x2","1440","y1","0","y2","0",1,"row"],["x1","0","x2","1440","y1","50","y2","50",1,"row"],["x1","0","x2","1440","y1","100","y2","100",1,"row"],["x1","0","x2","1440","y1","150","y2","150",1,"row"],["x1","0","x2","1440","y1","200","y2","200",1,"row"],["transform","translate(35, 40)",1,"duty-status-labels"],["transform","translate(15, 25)","text-anchor","end","dy","0.35em",1,"label"],["transform","translate(15, 75)","text-anchor","end","dy","0.35em",1,"label"],["transform","translate(15, 125)","text-anchor","end","dy","0.35em",1,"label"],["transform","translate(15, 175)","text-anchor","end","dy","0.35em",1,"label"],["transform","translate(65, 40)",1,"hour-labels"],["transform","translate(0, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(60, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(120, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(180, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(240, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(300, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(360, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(420, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(480, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(540, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(600, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(660, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(720, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(780, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(840, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(900, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(960, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1020, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1080, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1140, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1200, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1260, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1320, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1380, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1440, 10)","text-anchor","middle","dy","-1em",1,"label"],["transform","translate(1520, 40)",1,"durations"],["transform","translate(0, 25)","dy","0.35em",1,"label"],["transform","translate(0, 75)","dy","0.35em",1,"label"],["transform","translate(0, 125)","dy","0.35em",1,"label"],["transform","translate(0, 175)","dy","0.35em",1,"label"],["transform","translate(65, 40)",1,"eventLine"],["class","eventRecord",4,"ngFor","ngForOf"],["transform","translate(65, 40)"],["height","200",1,"error-status-viol"],["class","violation-list",4,"ngIf"],[1,"edit-form"],[1,"form-title"],[1,"custom-status-circle",3,"ngClass"],[1,"custom-subtitle"],[1,"btn","primary-btn",2,"width","63px",3,"click"],["style","color: #fcfcfc",4,"ngIf"],["style","zoom: 0.7","name","circular","color","light",4,"ngIf"],[1,"form-list"],[3,"label","fill","labelPosition","disabled","type","value","noValidation","valueChange"],[3,"label","fill","labelPosition","type","value","noValidation","valueChange"],[3,"label","required","fill","labelPosition","type","value","validation","valueChange","validationChange"],[1,"logs-certified"],[1,"subtitle",2,"font-size","15px"],[1,"logs-buttons"],["class","btn primary-btn",3,"ngClass","disabled","click",4,"ngIf"],["class","btn secondary-btn",3,"click",4,"ngIf"],[3,"isOpen"],[1,"form-cards"],["class","form-card",4,"ngFor","ngForOf"],[1,""],[1,"column"],["transform","translate(0, 0)",1,"cell","top"],["x1","15","x2","15","y1","0","y2","17.5"],["x1","30","x2","30","y1","0","y2","35"],["x1","45","x2","45","y1","0","y2","17.5"],["transform","translate(0, 50)",1,"cell","top"],["transform","translate(0, 100)",1,"cell","bottom"],["x1","15","x2","15","y1","50","y2","32.5"],["x1","30","x2","30","y1","50","y2","15"],["x1","45","x2","45","y1","50","y2","32.5"],["transform","translate(0, 150)",1,"cell","bottom"],[1,"eventRecord"],["class","vertical",4,"ngIf"],[1,"vertical"],[1,"violation-list"],["class","violation-item",3,"click",4,"ngFor","ngForOf"],[1,"violation-item",3,"click"],[2,"color","#fcfcfc"],["name","circular","color","light",2,"zoom","0.7"],[1,"btn","primary-btn",3,"ngClass","disabled","click"],[1,"btn","secondary-btn",3,"click"],[2,"display","flex","justify-content","center","align-items","center"],[1,"signature-visualization"],[3,"ngClass","src","load"],["name","dots","color","dark",4,"ngIf"],["class","no-signature",4,"ngIf"],["name","dots","color","dark"],[1,"no-signature"],[1,"form-card"],[1,"card-row"],[1,"row-status"],[1,"status-circle",3,"ngStyle"],[2,"display","flex","flex-direction","column"],[1,"subtitle"],[2,"font-size","12px","color","var(--gray-700)"],[1,"card-time",2,"color","var(--gray-600)"],["src","assets/icon/location.svg","alt","location"],[1,"text-2",2,"font-weight","500","font-size","13px"],["src","assets/icon/edit.svg","alt","edit",3,"click",4,"ngIf"],["src","assets/icon/edit.svg","alt","edit",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-content",0)(1,"app-header",1),t.NdJ("backButtonCallback",function(){return o.goBack()}),t.YNc(2,N,2,0,"div",2),t.qZA(),t.YNc(3,Y,1,1,"app-scroll-toolbar",3),t.YNc(4,lt,115,61,"div",4),t.YNc(5,rt,1,0,"app-page-loader",5),t.qZA()),2&e&&(t.Q6J("forceOverscroll",!1),t.xp6(1),t.Q6J("title","Log")("backButton",!0),t.xp6(1),t.Q6J("ngIf",o.canBeInspected()),t.xp6(1),t.Q6J("ngIf",!o.pageLoading),t.xp6(1),t.Q6J("ngIf",!o.pageLoading),t.xp6(1),t.Q6J("ngIf",o.pageLoading))},dependencies:[s.mk,s.sg,s.O5,s.PC,v.W2,v.PQ,v.ki,U.G,F.w,E.a,B.f,s.uU,q.k],styles:['@charset "UTF-8";h2[_ngcontent-%COMP%]{margin:0}svg[_ngcontent-%COMP%]:not(:root){overflow:hidden}svg[_ngcontent-%COMP%]{display:block;width:100%}.SVGline[_ngcontent-%COMP%]{stroke:#141;stroke-width:3}rect[_ngcontent-%COMP%]{fill:transparent}rect.eventBorder[_ngcontent-%COMP%]{fill:transparent;stroke-opacity:0;transition:fill .3s ease;cursor:pointer}line[_ngcontent-%COMP%]{stroke:var(--gray-700);stroke-width:.5}.eventStatusOFF[_ngcontent-%COMP%]{stroke:var(--off-duty);stroke-width:5}.eventStatusSB[_ngcontent-%COMP%]{stroke:var(--split-spleeper-berth);stroke-width:5}.eventStatusD[_ngcontent-%COMP%]{stroke:var(--success-500);stroke-width:5}.eventStatusON[_ngcontent-%COMP%]{stroke:var(--warning-400);stroke-width:5}.eventStatusPC[_ngcontent-%COMP%]{stroke:var(--off-duty);stroke-width:5;stroke-dasharray:7}.eventStatusYM[_ngcontent-%COMP%]{stroke:var(--warning-400);stroke-width:5;stroke-dasharray:7}.eventStatusNP[_ngcontent-%COMP%]{stroke-width:3;stroke:#3c763d}.eventStatusLogin[_ngcontent-%COMP%]{stroke-width:3;stroke:#0321fc;stroke-dasharray:6}.eventStatusLogout[_ngcontent-%COMP%]{stroke-width:3;stroke:red;stroke-dasharray:6}.vertical[_ngcontent-%COMP%]{stroke:var(--gray-500)!important;fill:var(--gray-500)!important;stroke-width:1}.horizontalRed[_ngcontent-%COMP%]{stroke:#db2828;stroke-width:7}.card-info[_ngcontent-%COMP%]{z-index:5;margin-bottom:20px}ion-grid[_ngcontent-%COMP%]{margin:0}ion-col[_ngcontent-%COMP%]{text-align:center}.FormStatus[_ngcontent-%COMP%]{background:#3880ff;height:3em;display:flex;justify-content:center;align-items:center;color:#fff}.custom-card[_ngcontent-%COMP%]{position:relative}.custom-card-on[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:2%;height:100%;background-color:#fae057}.custom-card-off[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:2%;height:100%;background-color:#bdc3bf}.custom-card-d[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:2%;height:100%;background-color:#8bc34a}.custom-card-sb[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:2%;height:100%;background-color:#7e7e7e}.custom-card-pc[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:2%;height:100%;background-color:#bdc3bf}.custom-card-ym[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:2%;height:100%;background-color:#fae057}.underline-text[_ngcontent-%COMP%]{text-decoration:underline;color:#00f}.form-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.form-title[_ngcontent-%COMP%]   .custom-subtitle[_ngcontent-%COMP%]{flex-grow:1;color:var(--gray-700)}.form-title[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:30px;padding:10px 15px;height:38px}.logs-certified[_ngcontent-%COMP%]{display:flex;align-items:center}.logs-certified[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{flex:1}.logs-certified[_ngcontent-%COMP%]   .logs-buttons[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-start}.logs-certified[_ngcontent-%COMP%]   .logs-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:30px;padding:10px 15px;min-height:37px}.form-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.form-list[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-list[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:50%;background-color:var(--gray-100)}.form-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-cards[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;background-color:var(--gray-100);border-radius:10px;padding:15px}.form-cards[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:5px}.form-cards[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .row-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.form-cards[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .text-2[_ngcontent-%COMP%]{flex-grow:1}.subtitle[_ngcontent-%COMP%]{flex:1 calc(100% - 25px);font-size:14px}.card-time[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;font-size:13px;font-weight:600;text-align:right}.preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.status-circle[_ngcontent-%COMP%]{flex:1 15px;width:15px;height:15px;border-radius:50px}.custom-status-circle[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50px}.status-circle-error[_ngcontent-%COMP%]{background-color:var(--error-500)}.status-circle-success[_ngcontent-%COMP%]{background-color:var(--success-500)}.btn-disabled[_ngcontent-%COMP%]{background-color:var(--gray-500)!important}.signature-visualization[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;background-color:var(--gray-100);border-radius:10px;padding:15px;min-width:330px;min-height:320px}.signature-visualization[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.no-image[_ngcontent-%COMP%]{display:none;width:0;height:0}.no-signature[_ngcontent-%COMP%]{background-color:var(--gray-100);font-size:14px;color:var(--gray-700);display:flex;justify-content:center;align-items:center}.violation-list[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:flex-start;align-items:center;gap:8px;flex-wrap:wrap}.violation-list[_ngcontent-%COMP%]   .violation-item[_ngcontent-%COMP%]{font-size:11px;color:var(--error-600);border:1px solid var(--error-600);background-color:var(--error-50);padding:5px 10px;border-radius:50px}.error-status-viol[_ngcontent-%COMP%]{fill:var(--error-600)!important;stroke:var(--error-600);opacity:.2;stroke-width:1px}.duty-status-labels[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .hour-labels[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .durations[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{fill:var(--gray-700)!important}']}),i})()}];let dt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[y.Bz.forChild(ct),y.Bz]}),i})();var gt=r(4546),ut=r(5351),mt=r(4166),pt=r(6441),ht=r(8974);let ft=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[s.ez,Z.u5,v.Pc,dt,Z.UX,gt.y,ut.J,mt.v,pt.HosPageModule,ht.p]}),i})()}}]);