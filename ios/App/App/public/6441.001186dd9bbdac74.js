"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6441,4546],{5960:(N,w,r)=>{r.d(w,{C:()=>C});var n=r(8256);const O=["Break","Pre-Trip Inspection","Post-Trip Inspection","Waiting","Loading","Download","Meal","Drop","Hook","Fuel","Lunch","Shop","Delivery","Driving","Sleeper"];var e=r(4465),P=r(6994),x=r(6895),g=r(4006);const _=function(m){return{"label-error":m}};function v(m,M){if(1&m&&(n.TgZ(0,"div",8),n._uU(1),n.qZA()),2&m){const u=n.oxw();n.Q6J("ngClass",n.VKq(2,_,!u.valid)),n.xp6(1),n.Oqu(u.label)}}function I(m,M){if(1&m){const u=n.EpF();n.TgZ(0,"div",9)(1,"div",10),n.NdJ("click",function(){const k=n.CHM(u).$implicit,K=n.oxw();return n.KtG(K.completeWord(k))}),n._uU(2),n.qZA(),n._UZ(3,"div",11),n.qZA()}if(2&m){const u=M.$implicit;n.xp6(2),n.Oqu(u)}}const L=function(m,M){return{"input-fill":m,"validation-error":M}},E=function(m){return{"hide-tooltip":m}};let C=(()=>{class m{constructor(u,T,y,k){this.toastService=u,this.shareService=T,this.renderer=y,this.el=k,this.type="text",this.placeholder="",this.fill=!0,this.disabled=!1,this.validators=[],this.noValidation=!1,this.valueChange=new n.vpe,this.validationChange=new n.vpe,this.valid=!0,this.suggestions=O,this.foundSuggestions=[],this.showTooltip=!1}get value(){return this._value}set value(u){this._value!==u&&(this._value=u,this.valueChange.emit(u))}get validation(){return this._validation}set validation(u){this._validation!==u&&(this._validation=u,this.validationChange.emit(u))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(u=>{"reset"===u?this.valid=!0:"invalidate"!==u||this.noValidation?u&&0!==u.length&&this.validateInput():this.valid=!1})}calculatePosition(){const u=this.el.nativeElement.querySelector("#custom-tooltip");console.log(window.innerWidth),console.log(u.offsetWidth),u&&this.renderer.setStyle(u,"left",(window.innerWidth-u.offsetWidth-40)/2+"px")}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(u){0!==u.target.value&&(this.valid=!0),this.value=u.target.value,this.findSuggestions(),this.valueChange.emit(this.value)}findSuggestions(){this.foundSuggestions=[];let u=this.value.split(" "),T=u[u.length-1];T.length>=2&&this.suggestions.forEach(y=>{y.toLocaleLowerCase().includes(T.toLocaleLowerCase())&&y.toLocaleLowerCase()!==T.toLocaleLowerCase()&&this.foundSuggestions.push(y)}),0!==this.foundSuggestions.length?(this.showTooltip=!0,setTimeout(()=>this.calculatePosition(),0)):this.showTooltip=!1}completeWord(u){let T=this.value.split(" ");T[T.length-1]=u,this.value=T.join(" ")+" ",document.getElementById("custom-textarea").focus(),setTimeout(()=>this.showTooltip=!1,100)}validateInput(){this.noValidation||(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(u=>!!u.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(u.message),!1)),this.validation=this.valid)}}return m.\u0275fac=function(u){return new(u||m)(n.Y36(e.k),n.Y36(P.t),n.Y36(n.Qsj),n.Y36(n.SBq))},m.\u0275cmp=n.Xpm({type:m,selectors:[["app-comments"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",disabled:"disabled",validators:"validators",noValidation:"noValidation",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange"},decls:8,vars:12,consts:[[1,"custom-input"],["class","input-label",3,"ngClass",4,"ngIf"],["id","custom-textarea",1,"input-box",3,"ngModel","readonly","placeholder","ngClass","input","ngModelChange"],["id","custom-tooltip",1,"custom-tooltip",3,"ngClass"],["id","tooltip-box",1,"tooltip-box"],[1,"tooltip-buttons"],["class","button-box",4,"ngFor","ngForOf"],[1,"tooltip-triangle"],[1,"input-label",3,"ngClass"],[1,"button-box"],[1,"tooltip-button",3,"click"],[1,"tooltip-button-separator"]],template:function(u,T){1&u&&(n.TgZ(0,"div",0),n.YNc(1,v,2,4,"div",1),n.TgZ(2,"textarea",2),n.NdJ("input",function(k){return T.onInputChange(k)})("ngModelChange",function(k){return T.value=k}),n.qZA(),n.TgZ(3,"div",3)(4,"div",4)(5,"div",5),n.YNc(6,I,4,1,"div",6),n.qZA()(),n._UZ(7,"div",7),n.qZA()()),2&u&&(n.xp6(1),n.Q6J("ngIf",T.label),n.xp6(1),n.Q6J("ngModel",T.value)("readonly",T.disabled)("placeholder",T.placeholder)("ngClass",n.WLB(7,L,T.fill,!T.valid)),n.xp6(1),n.Q6J("ngClass",n.VKq(10,E,!T.showTooltip)),n.xp6(3),n.Q6J("ngForOf",T.foundSuggestions))},dependencies:[x.mk,x.sg,x.O5,g.Fj,g.JJ,g.On],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;position:relative;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;gap:5px}.input-label[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:var(--gray-500)}.input-box[_ngcontent-%COMP%]{width:100%;height:100px;resize:none;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;background-color:var(--all-background);border:1px solid var(--gray-200)}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)!important}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}.custom-tooltip[_ngcontent-%COMP%]{position:absolute;z-index:99999;top:-22px;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:1;visibility:visible;transition:visibility .1s,opacity .1s ease-in-out}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]{background-color:var(--gray-100);border-radius:10px;width:-moz-fit-content;width:fit-content;height:35px;padding:0 10px}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]   .tooltip-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]   .tooltip-buttons[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]   .tooltip-buttons[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]   .tooltip-button[_ngcontent-%COMP%]{flex:1;height:100%;border-radius:3px;padding:5px;display:flex;justify-content:center;align-items:center;background-color:transparent;font-size:12px;font-weight:400;color:var(--gray-500)}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]   .tooltip-buttons[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]   .tooltip-button[_ngcontent-%COMP%]:last-child{border-right:none}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]   .tooltip-buttons[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]   .tooltip-button[_ngcontent-%COMP%]:active{background-color:var(--gray-200)}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]   .tooltip-buttons[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]   .tooltip-button-separator[_ngcontent-%COMP%]{height:70%;width:1px;margin:0 5px;background-color:var(--gray-200)}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-box[_ngcontent-%COMP%]   .tooltip-buttons[_ngcontent-%COMP%]   .button-box[_ngcontent-%COMP%]:last-child   .tooltip-button-separator[_ngcontent-%COMP%]{display:none}.custom-tooltip[_ngcontent-%COMP%]   .tooltip-triangle[_ngcontent-%COMP%]{width:0;height:0;z-index:3;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid var(--gray-100)}.hide-tooltip[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility 0s,opacity 0s}"]}),m})()},4748:(N,w,r)=>{r.d(w,{e:()=>x});var n=r(6895),O=r(4006),e=r(7151),P=r(8256);let x=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=P.oAB({type:g}),g.\u0275inj=P.cJS({imports:[n.ez,O.u5,e.Pc]}),g})()},7772:(N,w,r)=>{r.d(w,{U:()=>_});var n=r(8256),O=r(6895),e=r(7151);const P=function(v,I){return{"disable-form":v,"disable-input-opacity":I}},x=function(v){return{"background-color":v}};function g(v,I){if(1&v){const L=n.EpF();n.TgZ(0,"div",2),n.NdJ("click",function(){const m=n.CHM(L).$implicit,M=n.oxw();return n.KtG(M.select(m))}),n.TgZ(1,"div",3),n._UZ(2,"div",4),n.TgZ(3,"div",5),n._uU(4),n.qZA()(),n.TgZ(5,"div",6),n._UZ(6,"ion-checkbox",7),n.qZA()()}if(2&v){const L=I.$implicit,E=n.oxw();n.Q6J("ngClass",n.WLB(4,P,E.disable,E.showDisabled)),n.xp6(2),n.Q6J("ngStyle",n.VKq(7,x,L.color)),n.xp6(2),n.Oqu(L.label),n.xp6(2),n.Q6J("checked",L.checked)}}let _=(()=>{class v{constructor(){this.data=[{color:"var(--off-duty)",label:"Off Duty",value:"OFF",checked:!1},{color:"var(--split-spleeper-berth)",label:"Sleeper Berth",value:"SB",checked:!1},{color:"var(--warning-400)",label:"On Duty",value:"ON",checked:!1},{color:"var(--success-500)",label:"Driving",value:"D",checked:!1},{color:"var(--off-duty)",label:"Personal Conveyance",value:"PC",checked:!1},{color:"var(--warning-400)",label:"Yard Moves",value:"YM",checked:!1}],this.currentValue="",this.disable=!1,this.showDisabled=!1,this.selectedValue=new n.vpe}ngOnInit(){if(0!==this.currentValue.length){let L=this.data.find(E=>E.value===this.currentValue);this.select(L)}}select(L){let E=this.data.findIndex(C=>C.value===L.value);this.data.forEach(C=>C.checked=!1),this.data[E].checked=!0,this.selectedValue.emit(this.data[E].value)}}return v.\u0275fac=function(L){return new(L||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-duty-radio-button"]],inputs:{currentValue:"currentValue",disable:"disable",showDisabled:"showDisabled"},outputs:{selectedValue:"selectedValue"},decls:2,vars:1,consts:[[1,"list-container"],["class","list-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-item",3,"ngClass","click"],[1,"item-data"],[1,"status-color",3,"ngStyle"],[1,"status-label"],[1,"item-checkbox"],[3,"checked"]],template:function(L,E){1&L&&(n.TgZ(0,"div",0),n.YNc(1,g,7,9,"div",1),n.qZA()),2&L&&(n.xp6(1),n.Q6J("ngForOf",E.data))},dependencies:[O.mk,O.sg,O.PC,e.nz,e.w],styles:[".list-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:15px}.list-item[_ngcontent-%COMP%]{width:100%;border:none;border-radius:10px;background-color:var(--gray-100);padding:15px;display:flex;align-items:center;justify-content:space-between}.item-data[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.status-color[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%}.status-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--gray-500)}.item-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center}ion-checkbox[_ngcontent-%COMP%]{--size: 20px;--checkbox-background-checked: var(--success-500);--border-color: transparent;--border-color-checked: transparent;--checkmark-width: 2px;pointer-events:none}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:50%}.disable-form[_ngcontent-%COMP%]{pointer-events:none}"]}),v})()},2218:(N,w,r)=>{r.d(w,{H:()=>x});var n=r(6895),O=r(4006),e=r(7151),P=r(8256);let x=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=P.oAB({type:g}),g.\u0275inj=P.cJS({imports:[n.ez,O.u5,e.Pc]}),g})()},4546:(N,w,r)=>{r.d(w,{y:()=>x});var n=r(6895),O=r(4006),e=r(7151),P=r(8256);let x=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=P.oAB({type:g}),g.\u0275inj=P.cJS({imports:[n.ez,O.u5,e.Pc]}),g})()},4166:(N,w,r)=>{r.d(w,{v:()=>x});var n=r(6895),O=r(4006),e=r(7151),P=r(8256);let x=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=P.oAB({type:g}),g.\u0275inj=P.cJS({imports:[n.ez,O.u5,e.Pc]}),g})()},7236:(N,w,r)=>{r.d(w,{L:()=>M});var n=r(8256),O=r(4465),e=r(6994),P=r(6895),x=r(4006),g=r(7151);const _=function(u,T,y,k){return{"label-error":u,"input-label-top":T,"input-label-left":y,"no-label":k}};function v(u,T){if(1&u&&(n.TgZ(0,"div",7),n._uU(1),n.qZA()),2&u){const y=n.oxw();n.Q6J("ngClass",n.l5B(3,_,!y.valid,"top"===y.labelPosition,"left"===y.labelPosition,"none"===y.label)),n.xp6(1),n.AsE(" ",y.label,"",y.required?"*":""," ")}}function I(u,T){1&u&&n._UZ(0,"img",8)}function L(u,T){1&u&&n._UZ(0,"ion-spinner",9)}const E=function(u,T){return{"custom-input-top":u,"custom-input-left":T}},C=function(u,T,y,k){return{"input-fill":u,"validation-error":T,"input-left":y,"disable-input-opacity":k}},m=function(u){return{"disable-fetch":u}};let M=(()=>{class u{constructor(y,k){this.toastService=y,this.shareService=k,this.type="text",this.placeholder="",this.fill=!0,this.loading=!1,this.validators=[],this.noValidation=!1,this.disabled=!1,this.showDisabled=!1,this.required=!1,this.labelPosition="top",this.valueChange=new n.vpe,this.validationChange=new n.vpe,this.gpsCallback=new n.vpe,this.valid=!0}get value(){return this._value}set value(y){this._value!==y&&(this._value=y,this._value&&0!==this._value.length&&this.validateInput(),this.valueChange.emit(y))}get validation(){return this._validation}set validation(y){this._validation!==y&&(this._validation=y,this.validationChange.emit(y))}ngOnInit(){this.validateSubscription=this.shareService.currentMessage.subscribe(y=>{"reset"===y?this.valid=!0:"invalidate"!==y||this.noValidation?y&&0!==y.length&&this.validateInput():this.valid=!1})}triggerGps(){this.gpsCallback.emit()}ngOnDestroy(){this.validateSubscription.unsubscribe()}onInputChange(y){0!==y.target.value&&(this.valid=!0),this.value=y.target.value,this.valueChange.emit(this.value)}validateInput(){this.noValidation||(0===this.value.length?(this.valid=!1,this.toastService.showToast("Field required")):this.value.length>0&&(this.valid=!0),this.value.length>=0&&0!==this.validators.length&&this.validators.every(y=>!!y.regex.test(this.value)||(this.valid=!0,this.toastService.showToast(y.message),!1)),this.validation=this.valid)}}return u.\u0275fac=function(y){return new(y||u)(n.Y36(O.k),n.Y36(e.t))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-location-input"]],inputs:{label:"label",type:"type",placeholder:"placeholder",fill:"fill",loading:"loading",validators:"validators",noValidation:"noValidation",disabled:"disabled",showDisabled:"showDisabled",required:"required",labelPosition:"labelPosition",value:"value",validation:"validation"},outputs:{valueChange:"valueChange",validationChange:"validationChange",gpsCallback:"gpsCallback"},decls:7,vars:20,consts:[[1,"custom-input",3,"ngClass"],["class","input-label",3,"ngClass",4,"ngIf"],[1,"input-container"],["autocomplete","one-time-code",1,"input-box",3,"type","ngModel","readonly","placeholder","ngClass","input","ngModelChange"],[1,"input-fetch",3,"ngClass","click"],["src","../../../assets/icon/gps.svg",4,"ngIf"],["class","input-loading","name","circular","color","medium",4,"ngIf"],[1,"input-label",3,"ngClass"],["src","../../../assets/icon/gps.svg"],["name","circular","color","medium",1,"input-loading"]],template:function(y,k){1&y&&(n.TgZ(0,"div",0),n.YNc(1,v,2,8,"div",1),n.TgZ(2,"div",2)(3,"input",3),n.NdJ("input",function(j){return k.onInputChange(j)})("ngModelChange",function(j){return k.value=j}),n.qZA(),n.TgZ(4,"div",4),n.NdJ("click",function(){return k.triggerGps()}),n.YNc(5,I,1,0,"img",5),n.YNc(6,L,1,0,"ion-spinner",6),n.qZA()()()),2&y&&(n.Q6J("ngClass",n.WLB(10,E,"top"===k.labelPosition,"left"===k.labelPosition)),n.xp6(1),n.Q6J("ngIf",k.label),n.xp6(2),n.Q6J("type",k.type)("ngModel",k.value)("readonly",k.disabled||k.loading)("placeholder",k.placeholder)("ngClass",n.l5B(13,C,k.fill,!k.valid,"left"===k.labelPosition,k.showDisabled)),n.xp6(1),n.Q6J("ngClass",n.VKq(18,m,k.loading)),n.xp6(1),n.Q6J("ngIf",!k.loading),n.xp6(1),n.Q6J("ngIf",k.loading))},dependencies:[P.mk,P.O5,x.Fj,x.JJ,x.On,g.PQ],styles:[".custom-input[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.custom-input-top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.custom-input-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:24px}.input-label[_ngcontent-%COMP%]{color:var(--gray-500)}.input-label-top[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.input-label-left[_ngcontent-%COMP%]{flex:1;font-size:15px;font-weight:600}.input-box[_ngcontent-%COMP%]{width:100%;height:45px;border-radius:10px;padding:15px;font-size:14px;font-weight:400;color:var(--gray-500)!important;border:1px solid var(--gray-200);background-color:#fff}.input-box[_ngcontent-%COMP%]:focus{color:var(--gray-500)!important;outline:none;border:1px solid var(--gray-300)}.input-fill[_ngcontent-%COMP%]{border:none!important;background-color:var(--gray-100)}.input-left[_ngcontent-%COMP%]{flex:1}.validation-error[_ngcontent-%COMP%]{border:1px solid var(--error-600)!important}.validation-error[_ngcontent-%COMP%]:focus{border:1px solid var(--error-600)!important}.label-error[_ngcontent-%COMP%]{color:var(--error-600)}.no-label[_ngcontent-%COMP%]{color:transparent!important}.input-container[_ngcontent-%COMP%]{position:relative}.input-fetch[_ngcontent-%COMP%]{position:absolute;width:24px;height:45px;right:12px;top:0px;display:flex;justify-content:center;align-items:center}.input-fetch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.input-fetch[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{zoom:.7}.disable-fetch[_ngcontent-%COMP%]{pointer-events:none}"]}),u})()},8134:(N,w,r)=>{r.d(w,{y:()=>x});var n=r(6895),O=r(4006),e=r(7151),P=r(8256);let x=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=P.oAB({type:g}),g.\u0275inj=P.cJS({imports:[n.ez,O.u5,e.Pc]}),g})()},8974:(N,w,r)=>{r.d(w,{p:()=>x});var n=r(6895),O=r(4006),e=r(7151),P=r(8256);let x=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=P.oAB({type:g}),g.\u0275inj=P.cJS({imports:[n.ez,O.u5,e.Pc]}),g})()},4877:(N,w,r)=>{r.d(w,{r:()=>x});var n=r(6895),O=r(4006),e=r(7151),P=r(8256);let x=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=P.oAB({type:g}),g.\u0275inj=P.cJS({imports:[n.ez,O.u5,e.Pc]}),g})()},8924:(N,w,r)=>{r.d(w,{Eb:()=>n,Rk:()=>P,W3:()=>e,bm:()=>O});const n={ET:"UTC-4",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-5",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-6",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-7",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-8",AKT:"UTC-8",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-9",HST:"UTC-10",HAST:"UTC-9"},O={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},e={ET:"UTC-5",EST:"UTC-5",EDT:"UTC-4",CT:"UTC-6",CST:"UTC-6",CDT:"UTC-5",MT:"UTC-7",MST:"UTC-7",MDT:"UTC-6",PT:"UTC-8",PST:"UTC-8",PDT:"UTC-7",AT:"UTC-9",AKT:"UTC-9",AKST:"UTC-9",AKDT:"UTC-8",HT:"UTC-10",HST:"UTC-10",HAST:"UTC-9"},P={2024:{summer:17100288e5,winter:173059194e4},2025:{summer:17414784e5,winter:176204154e4},2026:{summer:1772928e6,winter:179349114e4},2027:{summer:18049824e5,winter:182554554e4}}},6441:(N,w,r)=>{r.r(w),r.d(w,{HosPageModule:()=>ue});var n=r(6895),O=r(4006),e=r(8256),P=r(9751),x=r(1566),g=r(3532);function v(i=0,d,t=x.P){let o=-1;return null!=d&&((0,g.K)(d)?t=d:o=d),new P.y(s=>{let l=function _(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;l<0&&(l=0);let a=0;return t.schedule(function(){s.closed||(s.next(a++),0<=o?this.schedule(void 0,o):s.complete())},l)})}function I(i,d){if(1&i&&(e.O4$(),e.TgZ(0,"linearGradient"),e._UZ(1,"stop",5)(2,"stop",6),e.qZA()),2&i){const t=e.oxw(2);e.uIk("id",t.svg.outerLinearGradient.id),e.xp6(1),e.uIk("stop-color",t.svg.outerLinearGradient.colorStop1)("stop-opacity",1),e.xp6(1),e.uIk("stop-color",t.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function L(i,d){if(1&i&&(e.O4$(),e.TgZ(0,"radialGradient"),e._UZ(1,"stop",5)(2,"stop",6),e.qZA()),2&i){const t=e.oxw(2);e.uIk("id",t.svg.radialGradient.id),e.xp6(1),e.uIk("stop-color",t.svg.radialGradient.colorStop1)("stop-opacity",1),e.xp6(1),e.uIk("stop-color",t.svg.radialGradient.colorStop2)("stop-opacity",1)}}function E(i,d){if(1&i&&(e.O4$(),e._UZ(0,"circle")),2&i){const t=e.oxw(3);e.uIk("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill",t.svg.backgroundCircle.fill)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function C(i,d){if(1&i&&(e.O4$(),e._UZ(0,"circle")),2&i){const t=e.oxw(3);e.zWS("fill","url(",t.window.location.href,"#",t.svg.radialGradient.id,")"),e.uIk("cx",t.svg.backgroundCircle.cx)("cy",t.svg.backgroundCircle.cy)("r",t.svg.backgroundCircle.r)("fill-opacity",t.svg.backgroundCircle.fillOpacity)("stroke",t.svg.backgroundCircle.stroke)("stroke-width",t.svg.backgroundCircle.strokeWidth)}}function m(i,d){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,E,1,7,"circle",2),e.YNc(2,C,1,8,"circle",2),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.options.backgroundGradient),e.xp6(1),e.Q6J("ngIf",t.options.backgroundGradient)}}function M(i,d){if(1&i&&(e.O4$(),e._UZ(0,"circle")),2&i){const t=e.oxw(2);e.uIk("cx",t.svg.circle.cx)("cy",t.svg.circle.cy)("r",t.svg.circle.r)("fill",t.svg.circle.fill)("stroke",t.svg.circle.stroke)("stroke-width",t.svg.circle.strokeWidth)}}function u(i,d){if(1&i&&(e.O4$(),e._UZ(0,"path")),2&i){const t=e.oxw(3);e.uIk("d",t.svg.path.d)("stroke",t.svg.path.stroke)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function T(i,d){if(1&i&&(e.O4$(),e._UZ(0,"path")),2&i){const t=e.oxw(3);e.zWS("stroke","url(",t.window.location.href,"#",t.svg.outerLinearGradient.id,")"),e.uIk("d",t.svg.path.d)("stroke-width",t.svg.path.strokeWidth)("stroke-linecap",t.svg.path.strokeLinecap)("fill",t.svg.path.fill)}}function y(i,d){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,u,1,5,"path",2),e.YNc(2,T,1,6,"path",2),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.options.outerStrokeGradient),e.xp6(1),e.Q6J("ngIf",t.options.outerStrokeGradient)}}function k(i,d){if(1&i&&(e.O4$(),e.TgZ(0,"tspan"),e._uU(1),e.qZA()),2&i){const t=d.$implicit,o=e.oxw(4);e.uIk("x",o.svg.title.x)("y",o.svg.title.y)("dy",t.dy)("font-size",o.svg.title.fontSize)("font-weight",o.svg.title.fontWeight)("fill",o.svg.title.color),e.xp6(1),e.Oqu(t.span)}}function K(i,d){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,k,2,7,"tspan",8),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.svg.title.tspans)}}function j(i,d){if(1&i&&(e.O4$(),e.TgZ(0,"tspan"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.uIk("font-size",t.svg.units.fontSize)("font-weight",t.svg.units.fontWeight)("fill",t.svg.units.color),e.xp6(1),e.Oqu(t.svg.units.text)}}function at(i,d){if(1&i&&(e.O4$(),e.TgZ(0,"tspan"),e._uU(1),e.qZA()),2&i){const t=d.$implicit,o=e.oxw(4);e.uIk("x",o.svg.subtitle.x)("y",o.svg.subtitle.y)("dy",t.dy)("font-size",o.svg.subtitle.fontSize)("font-weight",o.svg.subtitle.fontWeight)("fill",o.svg.subtitle.color),e.xp6(1),e.Oqu(t.span)}}function lt(i,d){if(1&i&&(e.O4$(),e.ynx(0),e.YNc(1,at,2,7,"tspan",8),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.svg.subtitle.tspans)}}function ct(i,d){if(1&i&&(e.O4$(),e.TgZ(0,"text",7),e.YNc(1,K,2,1,"ng-container",2),e.YNc(2,j,2,4,"tspan",2),e.YNc(3,lt,2,1,"ng-container",2),e.qZA()),2&i){const t=e.oxw(2);e.uIk("x",t.svg.circle.cx)("y",t.svg.circle.cy)("text-anchor",t.svg.title.textAnchor),e.xp6(1),e.Q6J("ngIf",t.options.showTitle),e.xp6(1),e.Q6J("ngIf",t.options.showUnits),e.xp6(1),e.Q6J("ngIf",t.options.showSubtitle)}}function ut(i,d){if(1&i&&(e.O4$(),e._UZ(0,"image",9)),2&i){const t=e.oxw(2);e.uIk("height",t.svg.image.height)("width",t.svg.image.width)("href",t.svg.image.src,null,"xlink")("x",t.svg.image.x)("y",t.svg.image.y)}}function dt(i,d){if(1&i){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",1),e.NdJ("click",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.emitClickEvent(s))}),e.TgZ(1,"defs"),e.YNc(2,I,3,5,"linearGradient",2),e.YNc(3,L,3,5,"radialGradient",2),e.qZA(),e.YNc(4,m,3,2,"ng-container",2),e.YNc(5,M,1,6,"circle",2),e.YNc(6,y,3,2,"ng-container",2),e.YNc(7,ct,4,6,"text",3),e.YNc(8,ut,1,5,"image",4),e.qZA()}if(2&i){const t=e.oxw();e.uIk("viewBox",t.svg.viewBox)("height",t.svg.height)("width",t.svg.width)("class",t.options.class),e.xp6(2),e.Q6J("ngIf",t.options.outerStrokeGradient),e.xp6(1),e.Q6J("ngIf",t.options.backgroundGradient),e.xp6(1),e.Q6J("ngIf",t.options.showBackground),e.xp6(1),e.Q6J("ngIf",t.options.showInnerStroke),e.xp6(1),e.Q6J("ngIf",0!=+t.options.percent||t.options.showZeroOuterStroke),e.xp6(1),e.Q6J("ngIf",!t.options.showImage&&(t.options.showTitle||t.options.showUnits||t.options.showSubtitle)),e.xp6(1),e.Q6J("ngIf",t.options.showImage)}}class q{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=0,this.imageWidth=0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}}let gt=(()=>{class i{constructor(t,o,s,l){this.ngZone=o,this.elRef=s,this.onClick=new e.vpe,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new e.vpe,this._viewportChangedSubscriber=null,this.options=new q,this.defaultOptions=new q,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(null===this.svgElement&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(a,h,S,c)=>{let f=c*Math.PI/180;return{x:a+Math.sin(f)*S,y:h-Math.cos(f)*S}},this.draw=a=>{let h=(a=void 0===a?this.options.percent:Math.abs(a))>100?100:a,S=2*this.options.radius+2*this.options.outerStrokeWidth;this.options.showBackground&&(S+=2*this.options.backgroundStrokeWidth+this.max(0,2*this.options.backgroundPadding));let B,D,c={x:S/2,y:S/2},f_x=c.x,f_y=c.y-this.options.radius,A=this.polarToCartesian(c.x,c.y,this.options.radius,360*(this.options.clockwise?h:100-h)/100);100===h&&(A.x=A.x+(this.options.clockwise?-.01:.01)),[B,D]=h>50?this.options.clockwise?[1,1]:[1,0]:this.options.clockwise?[0,1]:[0,0];let p=this.options.animateTitle?a:this.options.percent,H=p>this.options.maxPercent?`${this.options.maxPercent.toFixed(this.options.toFixed)}+`:p.toFixed(this.options.toFixed),F=this.options.animateSubtitle?a:this.options.percent,U={x:c.x,y:c.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.titleFormat&&"Function"===this.options.titleFormat.constructor.name){let R=this.options.titleFormat(p);R instanceof Array?U.texts=[...R]:U.texts.push(R.toString())}else"auto"===this.options.title?U.texts.push(H):this.options.title instanceof Array?U.texts=[...this.options.title]:U.texts.push(this.options.title.toString());let Z={x:c.x,y:c.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(void 0!==this.options.subtitleFormat&&"Function"===this.options.subtitleFormat.constructor.name){let R=this.options.subtitleFormat(F);R instanceof Array?Z.texts=[...R]:Z.texts.push(R.toString())}else this.options.subtitle instanceof Array?Z.texts=[...this.options.subtitle]:Z.texts.push(this.options.subtitle.toString());let W={text:`${this.options.units}`,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},V=0,Y=1;if(this.options.showTitle&&(V+=U.texts.length),this.options.showSubtitle&&(V+=Z.texts.length),this.options.showTitle)for(let R of U.texts)U.tspans.push({span:R,dy:this.getRelativeY(Y,V)}),Y++;if(this.options.showSubtitle)for(let R of Z.texts)Z.tspans.push({span:R,dy:this.getRelativeY(Y,V)}),Y++;null===this._gradientUUID&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${S} ${S}`,width:this.options.responsive?"100%":S,height:this.options.responsive?"100%":S,backgroundCircle:{cx:c.x,cy:c.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${f_x} ${f_y}\n        A ${this.options.radius} ${this.options.radius} 0 ${B} ${D} ${A.x} ${A.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:c.x,cy:c.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:U,units:W,subtitle:Z,image:{x:c.x-this.options.imageWidth/2,y:c.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:"transparent"===this.options.outerStrokeGradientStopColor?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:"transparent"===this.options.backgroundGradientStopColor?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(a,h)=>{let c,f,A,B=this.options.startFromZero||a<0?0:a,D=h<0?0:this.min(h,this.options.maxPercent),p=Math.abs(Math.round(D-B));return p>=100?(c=100,f=this.options.animateTitle||this.options.animateSubtitle?Math.round(p/c):1):(c=p,f=1),A=Math.round(this.options.animationDuration/c),A<10&&(A=10,c=this.options.animationDuration/A,f=!this.options.animateTitle&&!this.options.animateSubtitle&&p>100?Math.round(100/c):Math.round(p/c)),f<1&&(f=1),{times:c,step:f,interval:A}},this.animate=(a,h)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let S=this.options.startFromZero?0:a,c=h,{step:f,interval:A}=this.getAnimationParameters(S,c),B=S;this._timerSubscription=S<c?v(0,A).subscribe(()=>{B+=f,B<=c?!this.options.animateTitle&&!this.options.animateSubtitle&&B>=100?(this.draw(c),this._timerSubscription.unsubscribe()):this.draw(B):(this.draw(c),this._timerSubscription.unsubscribe())}):v(0,A).subscribe(()=>{B-=f,B>=c?!this.options.animateTitle&&!this.options.animateSubtitle&&c>=100?(this.draw(c),this._timerSubscription.unsubscribe()):this.draw(B):(this.draw(c),this._timerSubscription.unsubscribe())})},this.applyOptions=()=>{for(let a of Object.keys(this.options))this.hasOwnProperty(a)&&void 0!==this[a]?this.options[a]=this[a]:this.templateOptions&&void 0!==this.templateOptions[a]&&(this.options[a]=this.templateOptions[a]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(a,h)=>(1*(a-h/2)-.18).toFixed(2)+"em",this.min=(a,h)=>a<h?a:h,this.max=(a,h)=>a>h?a:h,this.uuid=()=>{var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(S){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==S?c:3&c|8).toString(16)})},this.checkViewport=()=>{this.findSvgElement();let a=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),a!==this.isInViewport&&this.onViewportChanged.observers.length>0&&this.ngZone.run(()=>{this.onViewportChanged.emit({oldValue:a,newValue:this.isInViewport})})},this.onScroll=a=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.ngZone.runOutsideAngular(()=>{this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0)}),null===this._viewportChangedSubscriber&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({newValue:S})=>{S&&this.render()}));let a=v(0,50).subscribe(()=>{null===this.svgElement?this.checkViewport():a.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),null!==this._viewportChangedSubscriber&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=l.get(n.K0),this.window=this.document.defaultView,Object.assign(this.options,t),Object.assign(this.defaultOptions,t)}emitClickEvent(t){this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.observers.length>0&&this.onClick.emit(t)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}findSvgElement(){if(null===this.svgElement){let t=this.elRef.nativeElement.getElementsByTagName("svg");t.length>0&&(this.svgElement=t[0])}}isElementInViewport(t){if(null==t)return!1;let l,o=t.getBoundingClientRect(),s=t.parentNode;do{if(l=s.getBoundingClientRect(),o.top>=l.bottom||o.bottom<=l.top||o.left>=l.right||o.right<=l.left)return!1;s=s.parentNode}while(s!=this.document.body);return!(o.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||o.bottom<=0||o.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||o.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(t){this.render(),"lazy"in t&&(t.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q),e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.zs3))},i.\u0275cmp=e.Xpm({type:i,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:["options","templateOptions"]},outputs:{onClick:"onClick"},features:[e.TTD],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(t,o){1&t&&e.YNc(0,dt,9,11,"svg",0),2&t&&e.Q6J("ngIf",o.svg)},dependencies:[n.sg,n.O5],encapsulation:2}),i})(),pt=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[{provide:q,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[n.ez]}),i})();var z=r(7151),tt=r(5050),b=r(5861),Q=r(3905),ht=r(4128),et=r(8924),$=r(7423),G=r(2368),it=r(4382),mt=r(9386),vt=r(9393),ft=r(849),_t=r(7080),Ct=r(4375),yt=r(2569),bt=r(4465),xt=r(7278),St=r(6994),Mt=r(3646);let Tt=(()=>{class i{constructor(){this.isChecked=!1,this.checkedCallback=new e.vpe,this.uncheckedCallback=new e.vpe,this.valueCalback=new e.vpe}ngOnInit(){}onCheckboxChange(){this.isChecked?this.checkedCallback.emit():this.uncheckedCallback.emit(),this.valueCalback.emit(this.isChecked)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-toggle-switch"]],inputs:{isChecked:"isChecked"},outputs:{checkedCallback:"checkedCallback",uncheckedCallback:"uncheckedCallback",valueCalback:"valueCalback"},decls:3,vars:1,consts:[[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider","round"]],template:function(t,o){1&t&&(e.TgZ(0,"label",0)(1,"input",1),e.NdJ("ngModelChange",function(l){return o.isChecked=l})("change",function(){return o.onCheckboxChange()}),e.qZA(),e._UZ(2,"span",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngModel",o.isChecked))},dependencies:[O.Wl,O.JJ,O.On],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--all-background);transition:.3s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:var(--gray-300);transition:.3s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:var(--success-500);transform:translate(20px)}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px transparent}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),i})();var Ot=r(7772),Pt=r(7236);function Dt(i,d){1&i&&e._UZ(0,"img",10)}function wt(i,d){1&i&&e._UZ(0,"img",11)}function kt(i,d){1&i&&e._UZ(0,"img",12)}function Lt(i,d){1&i&&e._UZ(0,"img",13)}const It=function(i,d,t,o){return{fsuccess:i,fwarning:d,ferror:t,fdefault:o}};function Et(i,d){if(1&i&&(e.TgZ(0,"div",14),e._uU(1,"close"),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.l5B(1,It,"success"===t.type,"warning"===t.type,"error"===t.type,"default"===t.type))}}const Zt=function(i){return{flex:i}};let At=(()=>{class i{constructor(){this.type="default",this.close=!1,this.closeCallback=new e.vpe}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-message-banner"]],inputs:{type:"type",title:"title",subtitle:"subtitle",close:"close"},outputs:{closeCallback:"closeCallback"},decls:12,vars:11,consts:[[1,"banner-container",3,"ngClass"],[1,"banner-icon"],["src","../../../assets/icon/tick-circle-white.svg",4,"ngIf"],["src","../../../assets/icon/close-circle.svg",4,"ngIf"],["src","../../../assets/icon/info-circle.svg",4,"ngIf"],["src","../../../assets/icon/more-circle.svg",4,"ngIf"],[1,"banner-content",3,"ngStyle"],[1,"banner-title"],[1,"banner-subtitle"],["class","banner-close",3,"ngClass",4,"ngIf"],["src","../../../assets/icon/tick-circle-white.svg"],["src","../../../assets/icon/close-circle.svg"],["src","../../../assets/icon/info-circle.svg"],["src","../../../assets/icon/more-circle.svg"],[1,"banner-close",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Dt,1,0,"img",2),e.YNc(3,wt,1,0,"img",3),e.YNc(4,kt,1,0,"img",4),e.YNc(5,Lt,1,0,"img",5),e.qZA(),e.TgZ(6,"div",6)(7,"div",7),e._uU(8),e.qZA(),e.TgZ(9,"div",8),e._uU(10),e.qZA()(),e.YNc(11,Et,2,6,"div",9),e.qZA()),2&t&&(e.Q6J("ngClass",o.type),e.xp6(2),e.Q6J("ngIf","success"===o.type),e.xp6(1),e.Q6J("ngIf","error"===o.type),e.xp6(1),e.Q6J("ngIf","warning"===o.type),e.xp6(1),e.Q6J("ngIf","default"===o.type),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,Zt,o.close?"1 calc(100% - 105px)":"1 calc(100% - 39px)")),e.xp6(2),e.Oqu(o.title),e.xp6(2),e.Oqu(o.subtitle),e.xp6(1),e.Q6J("ngIf",o.close))},dependencies:[n.mk,n.O5,n.PC],styles:[".banner-container[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;padding:10px 15px;border-radius:100px}.banner-container[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{flex:1 24px;display:flex;justify-content:center;align-items:center}.banner-container[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;justify-content:center;align-items:center}.banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:var(--gray-25)}.banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.banner-container[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.success[_ngcontent-%COMP%]{background-color:var(--success-500)}.warning[_ngcontent-%COMP%]{background-color:var(--warning-500)}.error[_ngcontent-%COMP%]{background-color:var(--error-500)}.default[_ngcontent-%COMP%]{background-color:var(--gray-500)}.fsuccess[_ngcontent-%COMP%]{color:var(--success-500)}.fwarning[_ngcontent-%COMP%]{color:var(--warning-500)}.ferror[_ngcontent-%COMP%]{color:var(--error-500)}.fdefault[_ngcontent-%COMP%]{color:var(--gray-500)}.banner-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:500;flex:1 51px;padding:3px;background-color:var(--gray-25);border-radius:50px;cursor:pointer}"]}),i})();var Ut=r(5960),Bt=r(8837),Wt=r(2092);let Ft=(()=>{class i{transform(t){const o=Math.floor(t/3600),s=Math.floor(t%3600/60);return`${String(o).padStart(2,"0")}h ${String(s).padStart(2,"0")}min`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"convertSecondsToHoursAndMinutesHm",type:i,pure:!0}),i})();function Nt(i,d){if(1&i&&e._UZ(0,"app-message-banner",33),2&i){const t=e.oxw(2);e.Q6J("title",t.bannerInfo.title)("subtitle",t.bannerInfo.subtitle)("type",t.bannerInfo.type)}}function Rt(i,d){1&i&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}function Ht(i,d){1&i&&e._UZ(0,"ion-spinner",44)}function Jt(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"ion-content",0)(1,"app-header",34),e.NdJ("backButtonCallback",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.cancel())}),e.qZA(),e.TgZ(2,"div",35)(3,"app-duty-radio-button",36),e.NdJ("selectedValue",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.selectButton(s))}),e.qZA(),e.TgZ(4,"app-location-input",37),e.NdJ("valueChange",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.locationDescription=s)})("gpsCallback",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.getLocalCurrentLocation())})("validationChange",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.validation.location=s)}),e.qZA(),e.TgZ(5,"app-comments",38),e.NdJ("valueChange",function(s){e.CHM(t);const l=e.oxw(2);return e.KtG(l.comments=s)}),e.qZA(),e.TgZ(6,"div",39)(7,"button",40),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.cancel())}),e._uU(8,"Back"),e.qZA(),e.TgZ(9,"button",41),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.confirm())}),e.YNc(10,Rt,2,0,"span",42),e.YNc(11,Ht,1,0,"ion-spinner",43),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("forceOverscroll",!1),e.xp6(1),e.Q6J("title","Select Duty Status")("backButton",!0),e.xp6(2),e.Q6J("currentValue",t.selectedButton),e.xp6(1),e.Q6J("label","Location")("fill",!0)("type","text")("value",t.locationDescription)("loading",t.locationLoading)("disabled",t.locationDisable)("validation",t.validation.location),e.xp6(1),e.Q6J("label","Comments")("fill",!0)("type","text")("value",t.comments)("noValidation",!0),e.xp6(5),e.Q6J("ngIf",!t.modalLoading),e.xp6(1),e.Q6J("ngIf",t.modalLoading)}}function zt(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46),e._uU(2,"Looks like you didn't move for more than a minute!"),e.qZA(),e.TgZ(3,"div",47),e._uU(4,"Would you like to change your status to On Duty or Off Duty?"),e.qZA()(),e.TgZ(5,"div",48)(6,"div",49),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.closeAutoDrivingModal())}),e._uU(7,"Cancel"),e.qZA(),e.TgZ(8,"div",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeStatusLocally("OFF"))}),e._uU(9,"Off Duty"),e.qZA(),e.TgZ(10,"div",51),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeStatusLocally("ON"))}),e._uU(11,"On Duty"),e.qZA()()}}function Vt(i,d){if(1&i&&(e.TgZ(0,"div",52)(1,"div",53),e._UZ(2,"circle-progress",54),e.qZA(),e.TgZ(3,"div",53),e._UZ(4,"circle-progress",55),e.qZA(),e.TgZ(5,"div",53),e._UZ(6,"circle-progress",56),e.qZA(),e.TgZ(7,"div",53),e._UZ(8,"circle-progress",57),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("percent",t.percentBreak)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleBreak))("showUnits",!1)("animation",t.animateCircles)("animationDuration",500),e.xp6(2),e.Q6J("percent",t.percentDriving)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleDriving))("animation",t.animateCircles)("showUnits",!1)("animationDuration",500),e.xp6(2),e.Q6J("percent",t.percentShift)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleShift))("showUnits",!1)("animation",t.animateCircles)("animationDuration",500),e.xp6(2),e.Q6J("percent",t.percentCycle)("responsive",!0)("space",-15)("outerStrokeWidth",15)("innerStrokeWidth",15)("title",t.convertSecondToHours(t.titleCycle))("showUnits",!1)("animation",t.animateCircles)("animationDuration",500)}}function Yt(i,d){if(1&i&&(e.TgZ(0,"div",58)(1,"div",59)(2,"div",60)(3,"p",9),e._uU(4,"Minimum Break Required"),e.qZA(),e.TgZ(5,"p",9),e._uU(6),e.qZA()(),e.TgZ(7,"div",61),e._UZ(8,"div",62),e.qZA()(),e.TgZ(9,"div",59)(10,"div",60)(11,"p",9),e._uU(12,"Until shift reset"),e.qZA(),e.TgZ(13,"p",9),e._uU(14),e.qZA()(),e.TgZ(15,"div",61),e._UZ(16,"div",63),e.qZA()(),e.TgZ(17,"div",59)(18,"div",60)(19,"p",9),e._uU(20,"Until Cycle Reset"),e.qZA(),e.TgZ(21,"p",9),e._uU(22),e.qZA()(),e.TgZ(23,"div",61),e._UZ(24,"div",64),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(6),e.hij("",t.convertSecondToHours(t.restBreak)," / 00:30"),e.xp6(2),e.Akn("width: "+100*t.progressBreak+"%"),e.xp6(6),e.hij("",t.convertSecondToHours(t.restShift)," / 10:00"),e.xp6(2),e.Akn("width: "+100*t.progressShift+"%"),e.xp6(6),e.hij("",t.convertSecondToHours(t.restCycle)," / 34:00"),e.xp6(2),e.Akn("width: "+100*t.progressCycle+"%")}}function Kt(i,d){1&i&&e._UZ(0,"img",65)}function Qt(i,d){1&i&&e._UZ(0,"img",66)}function Gt(i,d){if(1&i&&(e.TgZ(0,"div",74),e._UZ(1,"img",75),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.violations.length)}}const ot=function(i,d){return{"status-dot-error":i,"status-dot-success":d}};function jt(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.selectLog(l))}),e.TgZ(1,"div",68)(2,"div",9),e._uU(3),e.ALo(4,"date"),e.ALo(5,"date"),e.YNc(6,Gt,3,1,"div",69),e.qZA(),e.TgZ(7,"div",70),e._UZ(8,"div",71),e.TgZ(9,"p"),e._uU(10,"Form"),e.qZA(),e._UZ(11,"div",71),e.TgZ(12,"p"),e._uU(13,"Certify"),e.qZA()()(),e.TgZ(14,"div",72)(15,"p",73),e._uU(16),e.ALo(17,"convertSecotdsToHoursAndMinutes"),e.qZA()()()}if(2&i){const t=d.$implicit;e.xp6(3),e.AsE(" ",e.xi3(4,6,t.logDate,"EEEE"),", ",e.xi3(5,9,t.logDate,"MMMM dd")," "),e.xp6(3),e.Q6J("ngIf",0!==t.violations.length),e.xp6(2),e.Q6J("ngClass",e.WLB(14,ot,!t.formManner,t.formManner)),e.xp6(3),e.Q6J("ngClass",e.WLB(17,ot,!t.certified,t.certified)),e.xp6(5),e.Oqu(e.lcZ(17,12,t.timeWorked))}}const st=function(i,d){return{"service-on":i,"service-off":d}},rt=function(i){return{"background-color":i}};function $t(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkLocation())}),e._UZ(3,"img",7),e.qZA(),e.TgZ(4,"div",8)(5,"p",9),e._uU(6),e.qZA(),e.TgZ(7,"p",10),e._uU(8),e.qZA()(),e.TgZ(9,"div",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkBluetooth())}),e._UZ(10,"img",11),e.qZA()(),e.YNc(11,Nt,1,3,"app-message-banner",12),e.TgZ(12,"div",13)(13,"p",9),e._uU(14,"Current Status"),e.qZA(),e.TgZ(15,"div",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleModal())}),e.TgZ(16,"span",15),e._uU(17),e.qZA(),e._UZ(18,"img",16),e.qZA(),e.TgZ(19,"div",17),e._uU(20),e.qZA()(),e.TgZ(21,"ion-modal",18),e.YNc(22,Jt,12,18,"ng-template"),e.qZA(),e.TgZ(23,"ion-modal",19),e.YNc(24,zt,12,0,"ng-template"),e.qZA(),e.TgZ(25,"div",20)(26,"p",21),e._uU(27,"Hours Remaining"),e.qZA(),e.YNc(28,Vt,9,36,"div",22),e.qZA(),e.YNc(29,Yt,25,9,"div",23),e.TgZ(30,"div",24)(31,"div",25)(32,"p",9),e._uU(33),e.ALo(34,"convertSecondsToHoursAndMinutesHm"),e.qZA(),e.TgZ(35,"p",10),e._uU(36,"Last 7 Days"),e.qZA()(),e.TgZ(37,"div",25)(38,"p",9),e._uU(39),e.ALo(40,"convertSecondsToHoursAndMinutesHm"),e.qZA(),e.TgZ(41,"p",10),e._uU(42,"Hours Tomorrow"),e.qZA()()(),e.TgZ(43,"div",26)(44,"p",9),e._uU(45,"Split Sleeper Berth"),e.qZA(),e.TgZ(46,"app-toggle-switch",27),e.NdJ("valueCalback",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.toggleSplitSleeperBerth(s))}),e.qZA()(),e.TgZ(47,"button",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.switchMode())}),e.YNc(48,Kt,1,0,"img",29),e.YNc(49,Qt,1,0,"img",30),e.TgZ(50,"span"),e._uU(51),e.qZA()(),e.TgZ(52,"p",9),e._uU(53,"Logs and Recap Hours"),e.qZA(),e.TgZ(54,"div",31),e.YNc(55,jt,18,20,"div",32),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.WLB(25,st,t.locationStatus,!t.locationStatus)),e.xp6(4),e.Oqu(t.driverName),e.xp6(2),e.hij("Vehicle Unit: ",null==t.vehicle?null:t.vehicle.vehicleUnit,""),e.xp6(1),e.Q6J("ngClass",e.WLB(28,st,t.deviceConStatus,!t.deviceConStatus)),e.xp6(2),e.Q6J("ngIf",t.bannerInfo.show),e.xp6(4),e.Q6J("ngStyle",e.VKq(31,rt,t.currentStatusColor)),e.xp6(2),e.Oqu(t.currentStatus.statusName),e.xp6(2),e.Q6J("ngStyle",e.VKq(33,rt,t.currentStatusColor)),e.xp6(1),e.Oqu(t.currentStatusTime),e.xp6(1),e.Q6J("isOpen",t.isModalOpen),e.xp6(2),e.Q6J("isOpen",t.isDrivingAuto)("backdropDismiss",!1),e.xp6(5),e.Q6J("ngIf",!t.restMode),e.xp6(1),e.Q6J("ngIf",t.restMode),e.xp6(4),e.Oqu(e.lcZ(34,21,t.getTotalWorkedHours())),e.xp6(6),e.Oqu(e.lcZ(40,23,t.hoursRecap)),e.xp6(7),e.Q6J("isChecked",t.splitSleeperBerth),e.xp6(2),e.Q6J("ngIf",!t.restMode),e.xp6(1),e.Q6J("ngIf",t.restMode),e.xp6(2),e.Oqu(t.restMode?"Switch to Drive Mode":"Switch to Rest Mode"),e.xp6(4),e.Q6J("ngForOf",t.logDailies)}}function qt(i,d){1&i&&e._UZ(0,"app-page-loader",76),2&i&&e.Q6J("height","100%")}const Xt=[{path:"",component:(()=>{class i{constructor(t,o,s,l,a,h,S,c,f,A,B,D,p,H,F,U){this.navCtrl=t,this.route=o,this.databaseService=s,this.dashboardService=l,this.internetService=a,this.storage=h,this.storageService=S,this.locationService=c,this.geolocationService=f,this.bluetoothService=A,this.toastService=B,this.utilityService=D,this.shareService=p,this.changeDetectorRef=H,this.platform=F,this.ngZone=U,this.message="",this.someErrors=!1,this.bReady=!1,this.logDailies=[],this.logEvents=[],this.countDays=[],this.eventLogDailies={},this.selectedButton="",this.progressBreak=0,this.progressShift=0,this.progressCycle=0,this.modalLoading=!1,this.isConfirmButtonActive=!0,this.vehicleId="",this.driverId="",this.driverName="",this.companyId="",this.pickedVehicle="",this.timeZone="",this.percentBreak=0,this.percentDriving=0,this.percentShift=0,this.percentCycle=0,this.titleBreak=0,this.titleDriving=0,this.titleShift=0,this.titleCycle=0,this.redCircle=0,this.restBreak=0,this.restShift=0,this.restCycle=0,this.currentStatus={statusCode:"",statusName:""},this.currentStatusTime="",this.currentStatusColor="",this.locationDescription="",this.location={locationType:"",description:"",latitude:0,longitude:0},this.comments="",this.restMode=!1,this.locationStatus=!1,this.locationServiceState=!1,this.locationLoading=!1,this.locationDisable=!1,this.bluetoothStatus=!1,this.lastSelectedButton="",this.validation={location:!1},this.animateCircles=!0,this.networkStatus=!0,this.bannerInfo={show:!1,type:"default",title:"",subtitle:""},this.hoursRecap=0,this.last7hours=0,this.recapData=[],this.cycle8Time=0,this.availableToday=0,this.availableTomorrow=0,this.restartFlag=!1,this.recapLoading=!1,this.bResetTimeLast7Day=!1,this.timeZones={},this.pageLoading=!1,this.newShift=36e6,this.driveLimit=396e5,this.shiftLimit=504e5,this.cycleLimit=252e6,this.driveWithoutBreakLimit=288e5,this.restartTime=1224e5,this.notDriveLimit=18e5,this.inspectionTime=6912e5,this.splitSleeperBerth=!1,this.violations={},this.ionViewTrigger=!1,this.deviceConStatus=!1,this.eldData={},this.elds=[],this.isDrivingAuto=!1,this.autoChangeLoading=!1,this.lastSpeedValue=0,this.lastRPM=0}ngOnInit(){var t=this;return(0,b.Z)(function*(){t.pageLoading=!0,t.timeZones=t.utilityService.checkSeason(),"web"!==$.dV.getPlatform()&&(yield t.getLocationState(),yield t.getBluetoothState(),t.platformSub=t.platform.resume.subscribe(()=>{t.ngZone.run((0,b.Z)(function*(){yield t.getLocationState(),yield t.getBluetoothState()}))}),t.locationSub=t.locationService.getLocationStatusObservable().subscribe(function(){var o=(0,b.Z)(function*(s){t.locationServiceState=s,yield t.getLocationState()});return function(s){return o.apply(this,arguments)}}()),t.bluetoothSub=t.bluetoothService.getBluetoothStatusObservable().subscribe(function(){var o=(0,b.Z)(function*(s){yield t.getBluetoothState(),yield t.bluetoothService.getBluetoothAuthorizationStatus()});return function(s){return o.apply(this,arguments)}}()),t.connectionSub=t.bluetoothService.getDeviceConnectionStatusObservable().subscribe(function(){var o=(0,b.Z)(function*(s){t.deviceConStatus=s,console.log("Device connection status:",s)});return function(s){return o.apply(this,arguments)}}()),t.eldDataSub=t.bluetoothService.getBluetoothDataObservable().subscribe(function(){var o=(0,b.Z)(function*(s){console.log(s),s&&(t.eldData=s,yield t.changeDrivingAutomatically(),yield t.powerUpAndDown())});return function(s){return o.apply(this,arguments)}}())),t.internetSub=t.internetService.interetStatusObs.subscribe(function(){var o=(0,b.Z)(function*(s){t.networkStatus=s,s?(t.bannerInfo.show=!1,t.changeDetectorRef.detectChanges()):(t.bannerInfo={show:!0,title:"Offline Mode",subtitle:"Check your internet connection.",type:"warning"},t.changeDetectorRef.detectChanges()),s&&(t.logEvents=yield(0,Q.z)(t.databaseService.getLogEvents()),t.logDailies=yield(0,Q.z)(t.databaseService.getLogDailies()))});return function(s){return o.apply(this,arguments)}}()),t.paramsSubscription=t.route.params.subscribe(function(){var o=(0,b.Z)(function*(s){t.bReady&&(yield(0,Q.z)(t.databaseService.getLogDailies()).then(function(){var l=(0,b.Z)(function*(a){t.ionViewTrigger||(t.pageLoading=!0,0!==a.length&&(t.logDailies=a),yield(0,Q.z)(t.databaseService.getLogEvents()).then(h=>0!==h.length?t.logEvents=h:null),yield t.createLogDailies(),yield t.calcViolations(),t.pageLoading=!1,console.log("Updated form params"))});return function(a){return l.apply(this,arguments)}}()))});return function(s){return o.apply(this,arguments)}}()),t.updateEveryMinute(),setTimeout(()=>t.animateCircles=!1,500)})()}ngOnDestroy(){this.shareService.destroyMessage(),this.internetSub&&this.internetSub.unsubscribe(),this.locationSub&&this.locationSub.unsubscribe(),this.bluetoothSub&&this.bluetoothSub.unsubscribe()}ionViewWillEnter(){var t=this;return(0,b.Z)(function*(){t.ionViewTrigger=!0,t.getVehicle(),t.vehicleId=yield t.storage.get("vehicleId"),t.driverId=yield t.storage.get("driverId"),t.companyId=yield t.storage.get("companyId"),t.timeZone=yield t.storage.get("timeZone"),t.bAuthorized=yield t.storage.get("bAuthorized"),t.driverName=yield t.storage.get("name"),t.pickedVehicle=yield t.storage.get("vehicleUnit");let o=yield t.storage.get("splitSleeperBerth"),s=yield t.storage.get("lastConnectedELD");yield t.handleSplitSleep(o),t.databaseSubscription=t.databaseService.databaseReadySubject.subscribe(l=>{if(l){t.bReady=l;const a=t.databaseService.getLogDailies(),h=t.databaseService.getLogEvents(),S=t.databaseService.getELDs();(0,ht.D)([a,h,S]).subscribe(function(){var c=(0,b.Z)(function*([f,A,B]){t.logDailies=f,t.logEvents=A;const D=t.logEvents.filter(p=>["OFF","SB","D","ON","PC","YM"].includes(p.type.code));if(t.selectedButton=D[D.length-1].type.code,t.lastSelectedButton=D[D.length-1].type.code,t.elds=B,t.lastEld=null!=s&&0!==s.length?t.elds.find(p=>p.macAddress===s):void 0,!1===t.bAuthorized){const p=t.logEvents[t.logEvents.length-1];p.eventTime.logDate=(0,n.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",et.W3[t.timeZone]);let H={logEventId:t.utilityService.uuidv4(),companyId:p.companyId,driverId:t.driverId,eventTime:{logDate:(0,n.p6)(new Date,"yyyy-MM-ddTHH:mm:ss","en_US",et.W3[t.timeZone]),timeStamp:(new Date).getTime(),timeStampEnd:(new Date).getTime(),timeZone:t.timeZone},vehicle:{vehicleId:t.vehicleId},eld:{eldId:t.lastEld?t.lastEld.eldId:"00000000-0000-0000-0000-000000000000",macAddress:t.lastEld?t.lastEld.macAddress:"",serialNumber:t.lastEld?t.lastEld.fwVersion:""},location:{locationType:"",description:"",latitude:0,longitude:0},sequenceNumber:p?p.sequenceNumber+1:1,type:{name:"Login",code:"LOGIN"},recordStatus:{name:"Active",code:"ACTIVE"},recordOrigin:{name:"Driver",code:"DRIVER"},odometer:t.eldData.O?parseInt(t.eldData.O):1,engineHours:t.eldData.H?parseInt(t.eldData.H):1,malfunction:!1,dataDiagnosticEvent:!1,certificationDate:p.certificationDate,comment:"",eventDataCheck:"",inspection:!1,sent:!0};t.storage.set("lastStatusCode",t.selectedButton),t.storage.set("bAuthorized",!0),t.networkStatus?(yield t.dashboardService.updateLogEvent(p).toPromise().then(function(){var F=(0,b.Z)(function*(U){console.log("Last LogEvent is updated on server:",U),yield t.updateIndexLogEvents(p,!0)});return function(U){return F.apply(this,arguments)}}()).catch(function(){var F=(0,b.Z)(function*(U){console.log("Internet Status: "+t.networkStatus),console.log("Last LogEvent Pushed in offline logEvents array"),yield t.updateIndexLogEvents(p,!1)});return function(U){return F.apply(this,arguments)}}()),yield t.dashboardService.updateLogEvent(H).toPromise().then(function(){var F=(0,b.Z)(function*(U){console.log("New status is updated on server:",U),yield t.updateLogEvents(H,!0)});return function(U){return F.apply(this,arguments)}}()).catch(function(){var F=(0,b.Z)(function*(U){console.log("Internet Status: "+t.networkStatus),console.log("New Log Event Status Pushed in offline logEvents Array"),yield t.updateLogEvents(H,!1)});return function(U){return F.apply(this,arguments)}}())):(console.log("Updated logEvents in offline array"),yield t.updateIndexLogEvents(p,!1),yield t.updateLogEvents(H,!1))}yield t.createLogDailies(),yield t.calcViolations(),t.ionViewTrigger=!1,t.pageLoading=!1});return function(f){return c.apply(this,arguments)}}())}})})()}handleSplitSleep(t){var o=this;return(0,b.Z)(function*(){o.splitSleeperBerth=null!=t&&t,yield o.storage.set("splitSleeperBerth",o.splitSleeperBerth)})()}updateLogEvents(t,o){var s=this;return(0,b.Z)(function*(){t.sent=o,s.logEvents.push(t),yield s.storage.set("logEvents",s.logEvents)})()}getLocationState(){var t=this;return(0,b.Z)(function*(){yield t.locationService.isLocationAvailable().then(function(){var o=(0,b.Z)(function*(s){null!=s&&(t.locationStatus=s,yield t.storage.set("locationStatus",t.locationStatus)),t.changeDetectorRef.detectChanges()});return function(s){return o.apply(this,arguments)}}())})()}getBluetoothState(){var t=this;return(0,b.Z)(function*(){let o=(yield t.bluetoothService.getBluetoothAuthorizationStatus()).status;t.bluetoothStatus=(yield t.bluetoothService.getBluetoothState())&&o,t.changeDetectorRef.detectChanges()})()}updateIndexLogEvents(t,o){var s=this;return(0,b.Z)(function*(){t.sent=o;const l=s.logEvents.findIndex(a=>a.logEventId===t.logEventId);-1!==l&&(s.logEvents[l]=t),yield s.storage.set("logEvents",s.logEvents)})()}getVehicle(){this.storageService.getVehicles().subscribe(t=>{this.vehicle=t[0]},t=>console.log(t))}switchMode(){this.restMode=!this.restMode}checkLocation(){var t=this;return(0,b.Z)(function*(){(yield t.locationService.isLocationServiceAvailable())?yield t.locationService.requestPermission():"android"===$.dV.getPlatform()?yield t.locationService.goToLocationServiceSettings():alert("Go to Settings -> Location Services to enable the location service.")})()}checkBluetooth(){var t=this;return(0,b.Z)(function*(){if("web"!==$.dV.getPlatform()){if(!(yield t.bluetoothService.getBluetoothState())){if("android"!==$.dV.getPlatform())return void alert("In order to connect to a device, you have to turn on the Bluetooth Service.");confirm("Bluetooth service is turned off.\nProceed to settings?")?yield t.bluetoothService.goToBluetoothServiceSettings():alert("Go to Settings -> Bluetooth in order to enable the bluetooth service.")}yield t.bluetoothService.requestBluetoothPermission()}t.deviceConStatus||t.goToConnectPage()})()}toggleMode(){const t=document.getElementById("driveModeContainer"),o=document.getElementById("restModeContainer"),s=document.querySelector(".drive_mode ion-button");t&&o&&s&&("none"===t.style.display?(t.style.display="block",o.style.display="none"):(t.style.display="none",o.style.display="block"))}calcViolations(){var t=this;return(0,b.Z)(function*(){t.eventLogDailies={},t.bResetTimeLast7Day=!1;const o=["OFF","SB","D","ON","PC","YM"];t.violations={};let c,f,s=0,l=0,a=0,h=0,S=0,A=0;t.splitSleepData=void 0;let B=JSON.parse(JSON.stringify(t.logEvents)),D=0;switch(B.forEach((p,H)=>{var F,U;if("ACTIVE"===(null===(F=p.recordStatus)||void 0===F?void 0:F.code)&&o.includes(null===(U=p.type)||void 0===U?void 0:U.code)){switch(c=JSON.parse(JSON.stringify(p)),f=JSON.parse(JSON.stringify(p)),f.eventTime.timeStamp=p.eventTime.timeStampEnd?JSON.parse(JSON.stringify(p.eventTime.timeStampEnd)):(new Date).getTime(),D=f.eventTime.timeStamp-c.eventTime.timeStamp,0===t.logEvents.length?t.currentStatus={statusCode:"OFF",statusName:"Off Duty"}:(t.currentStatus.statusCode=p.type.code,t.currentStatus.statusName=p.type.name,t.currentStatusColor=t.getStatusColor(t.currentStatus.statusCode)),t.currentStatusTime=t.convertSecondToHours(D/1e3),c.type.code){case"OFF":case"SB":case"PC":if(s+=D,h+=D,A+=D,t.splitSleeperBerth&&("SB"===c.type.code||"OFF"===c.type.code)&&D>=72e5&&D<t.newShift){let Z=Math.trunc(D/1e3/60/60),W=2;Z>=2&&Z<3?W=2:Z>=3&&Z<7?W=3:Z>=3&&Z<8&&"SB"===c.type.code?W=7:"SB"===c.type.code&&(W=8),(W>=7&&"SB"===c.type.code||W<7&&Z<7)&&(h-=D,!t.splitSleepData&&h?t.splitSleepData={duration:W,time:h,drivingT:l}:t.splitSleepData&&h&&W+t.splitSleepData.duration>=10&&(h-=t.splitSleepData.time,l-=t.splitSleepData.drivingT,t.splitSleepData={duration:W,time:h,drivingT:l}))}if(s>=t.newShift&&(l=0,h=0,t.splitSleepData=void 0),s>=t.restartTime){h=0,S=0,l=0,t.splitSleepData=void 0;let Z=new Date(t.logDailies[7].logDate).getTime();f.eventTime.timeStamp>Z&&(t.bResetTimeLast7Day=!0)}break;case"ON":case"YM":s=0,A+=D,h+=D,S+=D,h>t.shiftLimit&&(t.pushViolation((0,n.p6)(new Date(f.eventTime.timeStamp-(h-t.shiftLimit)),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone]),G.B.DUTY_LIMIT,f.eventTime.timeStamp-(h-t.shiftLimit)),h=0),S>t.cycleLimit&&(t.pushViolation((0,n.p6)(new Date(f.eventTime.timeStamp-(S-t.cycleLimit)),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone]),G.B.US_70_8,f.eventTime.timeStamp-(S-t.cycleLimit)),S=0);break;case"D":s=0,a+=D,l+=D,h+=D,S+=D,a>t.driveWithoutBreakLimit&&A<t.notDriveLimit&&t.pushViolation((0,n.p6)(new Date(f.eventTime.timeStamp-(a-t.driveWithoutBreakLimit)),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone]),G.B.REST_BREAK,f.eventTime.timeStamp-(a-t.driveWithoutBreakLimit)),l>t.driveLimit&&(t.pushViolation((0,n.p6)(new Date(f.eventTime.timeStamp-(l-t.driveLimit)),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone]),G.B.DRIVING,f.eventTime.timeStamp-(l-t.driveLimit)),l=0),h>t.shiftLimit&&(t.pushViolation((0,n.p6)(new Date(f.eventTime.timeStamp-(h-t.shiftLimit)),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone]),G.B.DUTY_LIMIT,f.eventTime.timeStamp-(h-t.shiftLimit)),h=0),S>t.cycleLimit&&(t.pushViolation((0,n.p6)(new Date(f.eventTime.timeStamp-(S-t.cycleLimit)),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone]),G.B.US_70_8,f.eventTime.timeStamp-(S-t.cycleLimit)),S=0),A=0}if(A>=t.notDriveLimit&&(A=0,a=0),t.eventLogDailies[c.eventTime.logDate]||(t.eventLogDailies[c.eventTime.logDate]={timeOff:0,timeDriving:0,timeOnDuty:0,timeSleeper:0,timeWorked:0}),c.eventTime.logDate===(0,n.p6)(new Date(f.eventTime.timeStamp),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone])){let Z=(f.eventTime.timeStamp-c.eventTime.timeStamp)/1e3;switch(p.type.code.toUpperCase()){case"OFF":case"PC":t.eventLogDailies[c.eventTime.logDate].timeOff+=Z;break;case"SB":t.eventLogDailies[c.eventTime.logDate].timeSleeper+=Z;break;case"D":t.eventLogDailies[c.eventTime.logDate].timeDriving+=Z;break;case"ON":case"YM":t.eventLogDailies[c.eventTime.logDate].timeOnDuty+=Z}}else{let Z=new Date((0,n.p6)(new Date(f.eventTime.timeStamp),"MMM dd hh:mm:ss a","en-US",t.timeZones[t.timeZone])),W=(0,n.p6)(new Date(f.eventTime.timeStamp),"yyyy/MM/dd","en-US",t.timeZones[t.timeZone]);const Y=(J,ge)=>{let X=ge/1e3;try{switch(t.eventLogDailies[J]||(t.eventLogDailies[J]={timeOff:0,timeOnDuty:0,timeDriving:0,timeSleeper:0,timeWorked:0}),p.type.code.toUpperCase()){case"OFF":case"PC":t.eventLogDailies[J].timeOff+=X;break;case"SB":t.eventLogDailies[J].timeSleeper+=X;break;case"D":t.eventLogDailies[J].timeDriving+=X;break;case"ON":case"YM":t.eventLogDailies[J].timeOnDuty+=X}}catch{console.log(J)}};Y(W,60*Z.getHours()*60*1e3+60*Z.getMinutes()*1e3+1e3*Z.getSeconds()),W=(0,n.p6)(new Date(W).setDate(new Date(W).getDate()-1),"yyyy/MM/dd","en-US");let R=100;for(;W!=c.eventTime.logDate&&R>0;){console.log(c.eventTime.logDate),Y(W,864e5);let J=new Date(W);J.setDate(J.getDate()-1),W=(0,n.p6)(J,"yyyy/MM/dd","en-US"),R--}let nt=new Date((0,n.p6)(new Date(c.eventTime.timeStamp),"MMM dd hh:mm:ss a","en-US",t.timeZones[t.timeZone]));Y(W,864e5-(60*nt.getHours()*60*1e3+60*nt.getMinutes()*1e3+1e3*nt.getSeconds()))}t.eventLogDailies[c.eventTime.logDate].timeWorked=t.eventLogDailies[c.eventTime.logDate].timeOnDuty+t.eventLogDailies[c.eventTime.logDate].timeDriving}}),t.titleBreak=(t.driveWithoutBreakLimit-a)/1e3<0?0:(t.driveWithoutBreakLimit-a)/1e3,t.titleCycle=(t.cycleLimit-S)/1e3<0?0:(t.cycleLimit-S)/1e3,t.titleDriving=(t.driveLimit-l)/1e3<0?0:(t.driveLimit-l)/1e3,t.titleShift=(t.shiftLimit-h)/1e3<0?0:(t.shiftLimit-h)/1e3,t.percentBreak=100*t.titleBreak/(t.driveWithoutBreakLimit/1e3),t.percentCycle=100*t.titleCycle/(t.cycleLimit/1e3),t.percentDriving=100*t.titleDriving/(t.driveLimit/1e3),t.percentShift=100*t.titleShift/(t.shiftLimit/1e3),t.hoursRecap=t.bResetTimeLast7Day?(t.cycleLimit-S)/1e3:(t.cycleLimit-S)/1e3+t.logDailies[7].timeWorked,t.currentStatus.statusCode){case"D":t.restBreak=1800,t.restShift=36e3,t.restCycle=122400;break;case"ON":case"YM":t.restBreak=t.notDriveLimit-D<0?0:(t.notDriveLimit-D)/1e3,t.restShift=36e3,t.restCycle=122400;break;case"OFF":case"PC":case"SB":t.restBreak=t.notDriveLimit-D<0?0:(t.notDriveLimit-D)/1e3,t.restShift=t.newShift-D<0?0:(t.newShift-D)/1e3,t.restCycle=t.restartTime-D<0?0:(t.restartTime-D)/1e3}t.progressBreak=100*t.restBreak/1800/100,t.progressShift=100*t.restShift/36e3/100,t.progressCycle=100*t.restCycle/122400/100;for(const p of t.logDailies)if(t.eventLogDailies[p.logDate]){let H=p.timeDriving!==Math.floor(t.eventLogDailies[p.logDate].timeDriving)||p.timeOffDuty!==Math.floor(t.eventLogDailies[p.logDate].timeOff)||p.timeOnDuty!==Math.floor(t.eventLogDailies[p.logDate].timeOnDuty)||p.timeSleeper!==Math.floor(t.eventLogDailies[p.logDate].timeSleeper),F=!(!t.violations[p.logDate]||0===t.violations[p.logDate].length)&&JSON.stringify(t.violations[p.logDate])!==JSON.stringify(p.violations);p.violations=t.violations[p.logDate]?JSON.parse(JSON.stringify(t.violations[p.logDate])):[],p.timeDriving=Math.floor(t.eventLogDailies[p.logDate].timeDriving),p.timeOffDuty=Math.floor(t.eventLogDailies[p.logDate].timeOff),p.timeOnDuty=Math.floor(t.eventLogDailies[p.logDate].timeOnDuty),p.timeSleeper=Math.floor(t.eventLogDailies[p.logDate].timeSleeper),p.timeWorked=Math.floor(t.eventLogDailies[p.logDate].timeWorked),(H||F)&&(yield t.updateLogDailies(p),t.changeDetectorRef.detectChanges())}console.log(t.violations)})()}pushViolation(t,o,s){let l={startTime:s,timeZone:"",regulations:{code:o.code,name:o.name}};this.violations[t]?this.violations[t].push(l):this.violations[t]=[l]}toggleModal(){var t=this;return(0,b.Z)(function*(){t.isModalOpen=!0,t.locationDescription="",t.comments="",t.currentStatus&&t.selectButton(t.currentStatus.statusCode),yield t.getLocalCurrentLocation()})()}getLocalCurrentLocation(t=!0){var o=this;return(0,b.Z)(function*(){o.locationLoading=!0,"web"!==$.dV.getPlatform()&&!o.locationStatus&&t&&o.toastService.showToast("Problems fetching location! Check the location service!","danger",2500),yield o.locationService.getCurrentLocation().then(function(){var s=(0,b.Z)(function*(l){if(o.location=l,o.locationDescription=o.location.description,"AUTOMATIC"===o.location.locationType)if(o.eldData.G){let a=o.utilityService.getEldLocation(o.eldData.G),h=yield o.geolocationService.getCurrentLocation(a[2],a[3]);o.location={locationType:"AUTOMATIC",latitude:a[2],longitude:a[3],description:h},o.locationDescription=o.location.description}else o.locationDisable=!0;else o.locationDisable=!1;o.locationLoading=!1});return function(l){return s.apply(this,arguments)}}())})()}selectLog(t){this.navCtrl.navigateForward(["log-item",t.logDailyId])}selectButton(t){this.selectedButton=t,this.isConfirmButtonActive=this.selectedButton!==this.currentStatus.statusCode}cancel(){this.shareService.destroyMessage(),this.selectedButton=this.lastSelectedButton,this.isModalOpen=!1}confirm(){var t=this;return(0,b.Z)(function*(){t.shareService.changeMessage(t.utilityService.generateString(5)),t.utilityService.validateForm(t.validation)&&(t.selectedButton&&t.selectedButton!==t.lastSelectedButton?(t.lastSelectedButton=t.selectedButton,t.shareService.destroyMessage(),yield t.storage.set("lastStatusCode",t.selectedButton),yield t.onWillDismiss().then(()=>{t.currentStatusColor=t.getStatusColor(t.selectedButton),t.isModalOpen=!1,t.modalLoading=!1})):t.toastService.showToast("You need to select a different status!","warning"))})()}onWillDismiss(){var t=this;return(0,b.Z)(function*(){t.modalLoading=!0;const o=(new Date).getTime(),s=["OFF","SB","D","ON","PC","YM"],l=t.logEvents.filter(c=>s.includes(c.type.code));let a=l[l.length-1];a&&(a.eventTime.timeStampEnd=o);let h={OFF:{statusName:"Off Duty",eventTypeType:"DUTY_STATUS"},SB:{statusName:"Sleeper Berth",eventTypeType:"DUTY_STATUS"},D:{statusName:"Driving",eventTypeType:"DUTY_STATUS"},ON:{statusName:"On Duty",eventTypeType:"DUTY_STATUS"},PC:{statusName:"Personal Conveyance",eventTypeType:"DRIVER_INDICATES"},YM:{statusName:"Yard Moves",eventTypeType:"DRIVER_INDICATES"}},S={logEventId:t.utilityService.uuidv4(),companyId:a.companyId,driverId:t.driverId,eventTime:{logDate:(0,n.p6)(new Date(o),"yyyy/MM/dd","en_US",et.W3[t.timeZone]),timeStamp:o,timeZone:t.timeZone},vehicle:{vehicleId:t.vehicleId},eld:{eldId:t.lastEld?t.lastEld.eldId:"00000000-0000-0000-0000-000000000000",macAddress:t.lastEld?t.lastEld.macAddress:"",serialNumber:t.lastEld?t.lastEld.fwVersion:""},location:{locationType:t.location.locationType,description:t.locationDescription,latitude:t.location.latitude,longitude:t.location.longitude},sequenceNumber:a?a.sequenceNumber+1:1,type:{name:h[t.selectedButton]?h[t.selectedButton].statusName:"Unknown",code:t.selectedButton},recordStatus:{name:"Active",code:"ACTIVE"},recordOrigin:{name:"Driver",code:"DRIVER"},odometer:t.eldData.O?parseInt(t.eldData.O):1,engineHours:t.eldData.H?parseInt(t.eldData.H):1,malfunction:!1,dataDiagnosticEvent:!1,certificationDate:a.certificationDate,comment:t.comments,eventDataCheck:"",inspection:!1,sent:!0};t.networkStatus?(yield t.dashboardService.updateLogEvent(a).toPromise().then(function(){var c=(0,b.Z)(function*(f){console.log("Last LogEvent is updated on server:",f),yield t.updateIndexLogEvents(a,!0)});return function(f){return c.apply(this,arguments)}}()).catch(function(){var c=(0,b.Z)(function*(f){console.log("Internet Status: "+t.networkStatus),console.log("Last LogEvent Pushed in offline logEvents array"),yield t.updateIndexLogEvents(a,!1)});return function(f){return c.apply(this,arguments)}}()),yield t.dashboardService.updateLogEvent(S).toPromise().then(function(){var c=(0,b.Z)(function*(f){console.log("New status is updated on server:",f),yield t.updateLogEvents(S,!0)});return function(f){return c.apply(this,arguments)}}()).catch(function(){var c=(0,b.Z)(function*(f){console.log("Internet Status: "+t.networkStatus),console.log("New Log Event Status Pushed in offline logEvents Array"),yield t.updateLogEvents(S,!1)});return function(f){return c.apply(this,arguments)}}())):(console.log("Updated logEvents in offline array"),yield t.updateIndexLogEvents(a,!1),yield t.updateLogEvents(S,!1)),yield t.createLogDailies(),yield t.calcViolations()})()}convertSecondToHours(t){let o,s,l;return t<0?(o="-",t=-t):o="",s=(24*Math.trunc(t/86400%24)+Math.trunc(t/3600%24)).toString(),l=(Math.trunc(t/60)%60).toString(),0===s.length&&(s="00"),1===s.length&&(s="0"+s),0===l.length&&(l="0"),1===l.length&&(l="0"+l),o+s+":"+l}toggleSplitSleeperBerth(t){var o=this;return(0,b.Z)(function*(){o.handleSplitSleep(t),yield o.calcViolations()})()}createLogDailies(){var t=this;return(0,b.Z)(function*(){let o=new Date;t.countDays=[],t.logDailies=yield(0,Q.z)(t.databaseService.getLogDailies());for(let s=0;s<14;s++){const l=o.toISOString().split("T")[0].replace(/-/g,"/"),a=t.logDailies.findIndex(h=>h.logDate.includes(l));if(-1!==a)t.countDays.push(t.logDailies[a]);else{let h={logDailyId:t.utilityService.uuidv4(),companyId:t.companyId,driverId:t.driverId,driverName:"",logDate:l.replace(/-/g,"/"),timeOffDuty:0,timeSleeper:0,timeDriving:0,timeOnDuty:0,timeWorked:0,violations:[],formManner:!1,certified:!1,form:{trailers:"",shippingDoc:"",fromAddress:"",toAddress:"",signatureId:"00000000-0000-0000-0000-000000000000"}};t.countDays.push(h)}o.setDate(o.getDate()-1)}t.countDays.sort((s,l)=>l.logDate.localeCompare(s.logDate)),t.logDailies=t.countDays.slice(),yield t.storage.set("logDailies",t.logDailies)})()}updateLogDailies(t){var o=this;return(0,b.Z)(function*(){o.networkStatus?o.dashboardService.updateLogDaily(t).subscribe(function(){var s=(0,b.Z)(function*(l){console.log("LogDaily (durationStatuses) is updated on server:",l),yield o.updateIndexLogDaily(t,!0)});return function(l){return s.apply(this,arguments)}}(),function(){var s=(0,b.Z)(function*(l){console.log("Internet Status: "+o.networkStatus),yield o.updateIndexLogDaily(t,!1),console.log("Pushed in logDailies")});return function(l){return s.apply(this,arguments)}}()):(console.log("Updated logEvents in offline array"),yield o.updateIndexLogDaily(t,!1))})()}updateLogDaily(t,o){var s=this;return(0,b.Z)(function*(){t.sent=o,s.logDailies.push(t),yield s.storage.set("logDailies",s.logDailies)})()}updateIndexLogDaily(t,o){var s=this;return(0,b.Z)(function*(){t.sent=o;const l=s.logDailies.findIndex(a=>a.logDailyId===t.logDailyId);-1!==l&&(s.logDailies[l]=t),yield s.storage.set("logDailies",s.logDailies)})()}getStatusColor(t){return t?{OFF:"var(--off-duty)",SB:"var(--split-spleeper-berth)",ON:"var(--warning-400)",D:"var(--success-500)",PC:"var(--off-duty)",YM:"var(--warning-400)"}[t]:"var(--success-500)"}uploadDriverStatus(){var t=this;return(0,b.Z)(function*(){if(t.networkStatus){let o;yield t.locationService.getCurrentLocation().then(s=>{if("MANUAL"===s.locationType){let l=t.logEvents.slice().reverse().findIndex(a=>["OFF","SB","D","ON","PC","YM"].includes(a.type.code));o=t.logEvents.slice().reverse()[l].location}else o=s}),yield(0,Q.z)(t.dashboardService.updateDriverStatuses({driverId:t.driverId,vehicleId:t.vehicleId,eventType:{code:t.currentStatus.statusCode},location:o,breakTime:{availableTime:parseInt(t.titleBreak.toPrecision()),limitTime:0,accumulatedTime:0},driveTime:{availableTime:parseInt(t.titleDriving.toPrecision()),limitTime:0,accumulatedTime:0},shiftTime:{availableTime:parseInt(t.titleShift.toPrecision()),limitTime:0,accumulatedTime:0},cycleTime:{availableTime:parseInt(t.titleCycle.toPrecision()),limitTime:0,accumulatedTime:0},lastEventDate:t.logEvents[t.logEvents.length-1].eventTime.timeStamp,updateDate:(new Date).getTime()}))}})()}updateEveryMinute(){var t=this;setInterval((0,b.Z)(function*(){console.log("Every Minute Update"),yield t.createLogDailies(),yield t.calcViolations(),yield t.uploadDriverStatus()}),6e4)}getTotalWorkedHours(){return this.logDailies.slice(1,8).reduce((t,o)=>t+(null==o.timeWorked?0:o.timeWorked),0)}goToConnectPage(){this.navCtrl.navigateForward("/connect-mac",{queryParams:{backUrl:"/hos"}})}changeDrivingAutomatically(){var t=this;return(0,b.Z)(function*(){parseInt(t.eldData.V)>=5&&"D"!==t.currentStatus.statusCode?(yield t.changeStatusLocally("D"),t.closeAutoDrivingModal(),t.slowDownTimeout&&(clearTimeout(t.slowDownTimeout),t.slowDownTimeout=null)):parseInt(t.eldData.V)<5&&t.lastSpeedValue>=5&&"D"===t.currentStatus.statusCode?t.slowDownTimeout||(t.slowDownTimeout=setTimeout((0,b.Z)(function*(){"D"===t.currentStatus.statusCode&&(t.isDrivingAuto=!0),t.slowDownTimeout=null}),6e4)):(t.closeAutoDrivingModal(),t.slowDownTimeout&&(clearTimeout(t.slowDownTimeout),t.slowDownTimeout=null)),t.lastSpeedValue=parseInt(t.eldData.V)})()}powerUpAndDown(){var t=this;return(0,b.Z)(function*(){t.eldData.R&&(parseInt(t.eldData.R)>0&&0===t.lastRPM?t.eldData.O&&t.eldData.H&&"AUTOMATIC"===t.location.locationType?yield t.changeStatusLocally("UP_NORMAL",!1):yield t.changeStatusLocally("UP_REDUCED",!1):0===parseInt(t.eldData.R)&&t.lastRPM>0&&(t.eldData.O&&t.eldData.H&&"AUTOMATIC"===t.location.locationType?yield t.changeStatusLocally("DOWN_NORMAL",!1):yield t.changeStatusLocally("DOWN_REDUCED",!1))),t.lastRPM=t.eldData.R?parseInt(t.eldData.R):0})()}changeStatusLocally(t,o=!0){var s=this;return(0,b.Z)(function*(){s.closeAutoDrivingModal(),o&&(s.autoChangeLoading=!0),s.selectButton(t),yield s.getLocalCurrentLocation(!1),s.validation.location=!0,yield s.confirm().then(()=>{s.autoChangeLoading=!1}).catch(l=>s.autoChangeLoading=!1)})()}closeAutoDrivingModal(){this.isDrivingAuto=!1}ionViewWillLeave(){var t=this;return(0,b.Z)(function*(){t.databaseSubscription&&t.databaseSubscription.unsubscribe()})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.SH),e.Y36(tt.gz),e.Y36(it.k),e.Y36(mt.s),e.Y36(vt.W),e.Y36(ft.K),e.Y36(it.k),e.Y36(_t.a),e.Y36(Ct._),e.Y36(yt.G),e.Y36(bt.k),e.Y36(xt.t),e.Y36(St.t),e.Y36(e.sBO),e.Y36(z.t4),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hos"]],decls:4,vars:5,consts:[[3,"forceOverscroll"],["class","hos-wrapper",4,"ngIf"],[3,"height",4,"ngIf"],["message","Changing status...","spinner","circles",3,"isOpen","backdropDismiss"],[1,"hos-wrapper"],[1,"hos-header"],[1,"service",3,"ngClass","click"],["src","assets/icon/location_icon.svg"],[1,"hos-name"],[1,"subtitle"],[1,"text-1"],["src","assets/icon/bluetooth_icon.svg"],[3,"title","subtitle","type",4,"ngIf"],[1,"status-bar"],["id","trigger-status",1,"green",2,"max-width","39%",3,"ngStyle","click"],[1,"text-elipsis"],["src","assets/icon/arrow-bottom.svg","alt","arrow"],[1,"green",3,"ngStyle"],["trigger","trigger-status",3,"isOpen"],["id","custom-modal",3,"isOpen","backdropDismiss"],[1,"circles"],[1,"text-2",2,"margin-bottom","5px"],["class","circles-block",4,"ngIf"],["class","rest-mode",4,"ngIf"],[1,"time"],[1,"time-block"],[1,"switch-sleep"],[3,"isChecked","valueCalback"],[1,"btn","primary-btn","custom-sleep-btn",3,"click"],["src","assets/icon/moon.svg","alt","moon",4,"ngIf"],["src","assets/icon/drive.svg","alt","moon",4,"ngIf"],[1,"log-dailies"],["class","log-daily",3,"click",4,"ngFor","ngForOf"],[3,"title","subtitle","type"],[3,"title","backButton","backButtonCallback"],[1,"modal-content"],[3,"currentValue","selectedValue"],[3,"label","fill","type","value","loading","disabled","validation","valueChange","gpsCallback","validationChange"],[3,"label","fill","type","value","noValidation","valueChange"],[1,"btns-flex"],[1,"btn","secondary-btn","btn-custom",3,"click"],[1,"btn","primary-btn","btn-custom",2,"color","#fcfcfc",3,"click"],[4,"ngIf"],["name","circular","color","light",4,"ngIf"],["name","circular","color","light"],[1,"modal-box"],[1,"modal-title"],[1,"modal-status"],[1,"submit-buttons"],[1,"action-button","default",3,"click"],[1,"action-button","defaultd",3,"click"],[1,"action-button","warningb",3,"click"],[1,"circles-block"],[1,"circle-block"],["outerStrokeColor","var(--warning-300)","innerStrokeColor","var(--gray-200)","titleFontSize","22","titleColor","var(--warning-400)","titleFontWeight","600","subtitle","Break","subtitleFontWeight","500","subtitleColor","var(--gray-400)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],["outerStrokeColor","var(--success-500)","innerStrokeColor","var(--gray-200)","titleFontSize","22","titleColor","var(--success-600)","titleFontWeight","600","subtitle","Driving","subtitleFontWeight","500","subtitleColor","var(--gray-400)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","animation","showUnits","animationDuration"],["outerStrokeColor","var(--purple-500)","innerStrokeColor","var(--gray-200)","titleFontSize","22","titleColor","var(--purple-600)","titleFontWeight","600","subtitle","Shift","subtitleFontWeight","500","subtitleColor","var(--gray-400)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],["outerStrokeColor","var(--orange-400)","innerStrokeColor","var(--gray-200)","titleFontSize","22","titleColor","var(--orange-400)","titleFontWeight","600","subtitle","Cycle","subtitleFontWeight","500","subtitleColor","var(--gray-400)","subtitleFontSize","22","outerStrokeLinecap","round",3,"percent","responsive","space","outerStrokeWidth","innerStrokeWidth","title","showUnits","animation","animationDuration"],[1,"rest-mode"],[1,"rest-row"],[1,"row-1"],[1,"progress-bar-outer"],["id","inner-1",1,"progress-bar-inner"],["id","inner-2",1,"progress-bar-inner"],["id","inner-3",1,"progress-bar-inner"],["src","assets/icon/moon.svg","alt","moon"],["src","assets/icon/drive.svg","alt","moon"],[1,"log-daily",3,"click"],[1,"log-left"],["class","violation-number",4,"ngIf"],[1,"sub-info"],[1,"status-dot",3,"ngClass"],[1,"log-right"],[1,"hours-worked"],[1,"violation-number"],["src","../../../assets/icon/violation.svg"],[3,"height"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,$t,56,35,"div",1),e.YNc(2,qt,1,1,"app-page-loader",2),e._UZ(3,"ion-loading",3),e.qZA()),2&t&&(e.Q6J("forceOverscroll",!1),e.xp6(1),e.Q6J("ngIf",!o.pageLoading),e.xp6(1),e.Q6J("ngIf",o.pageLoading),e.xp6(1),e.Q6J("isOpen",o.autoChangeLoading)("backdropDismiss",!1))},dependencies:[n.mk,n.sg,n.O5,n.PC,z.W2,z.wh,z.PQ,z.ki,gt,Mt.G,Tt,Ot.U,Pt.L,At,Ut.C,Bt.f,n.uU,Wt.k,Ft],styles:[".hos-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:20px;padding:20px}.hos-wrapper[_ngcontent-%COMP%]   .hos-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;gap:10px;background-color:var(--gray-100);border-radius:50px;padding:10px 15px}.hos-wrapper[_ngcontent-%COMP%]   .hos-header[_ngcontent-%COMP%]   .hos-name[_ngcontent-%COMP%]{flex-grow:1;text-align:center}.hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;background-color:var(--warning-500);border-radius:50px;padding:10px 15px}.hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .hos-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .text-1[_ngcontent-%COMP%]{color:var(--warning-25)}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{flex-grow:1}.hos-wrapper[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;gap:10px;color:var(--gray-25);font-size:16px;border-radius:30px;padding:5px 10px}.hos-wrapper[_ngcontent-%COMP%]   .circles-block[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;max-width:80%;min-width:60%;margin:0 auto}.hos-wrapper[_ngcontent-%COMP%]   .circles-block[_ngcontent-%COMP%]   .circle-block[_ngcontent-%COMP%]{width:45%;max-width:140px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]{width:100%;height:10px;background-color:var(--gray-200);border-radius:20px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   .progress-bar-inner[_ngcontent-%COMP%]{height:10px;border-radius:20px}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-1[_ngcontent-%COMP%]{background-color:var(--warning-300)}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-2[_ngcontent-%COMP%]{background-color:var(--purple-500)}.hos-wrapper[_ngcontent-%COMP%]   .rest-mode[_ngcontent-%COMP%]   .rest-row[_ngcontent-%COMP%]   .progress-bar-outer[_ngcontent-%COMP%]   #inner-3[_ngcontent-%COMP%]{background-color:var(--orange-400)}.hos-wrapper[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;gap:15px}.hos-wrapper[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]{flex:1;border-radius:30px;background-color:var(--gray-100);text-align:center;padding:20px}.hos-wrapper[_ngcontent-%COMP%]   .switch-sleep[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:var(--gray-100);border-radius:30px;padding:15px}.hos-wrapper[_ngcontent-%COMP%]   .switch-sleep[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{--handle-background: var(--gray-300);--handle-background-checked: var(--success-500);--track-background: var(--gray-25);--track-background-checked: var(--gray-25);--handle-width: 23px;--handle-height: 23px}.hos-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:50px;display:flex;justify-content:space-between;align-items:center;border-radius:41px;font-size:16px;padding:15px;margin:0 auto}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--gray-100);border-radius:10px;padding:15px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]   .sub-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]   .sub-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--gray-500)}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-left[_ngcontent-%COMP%]   div.subtitle[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:var(--gray-700);display:flex;align-items:center;gap:8px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-right[_ngcontent-%COMP%]{background-color:var(--success-500);border-radius:30px;padding:5px 10px}.hos-wrapper[_ngcontent-%COMP%]   .log-dailies[_ngcontent-%COMP%]   .log-daily[_ngcontent-%COMP%]   .log-right[_ngcontent-%COMP%]   .hours-worked[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:500}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;padding:30px}.modal-content[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{height:100px}.modal-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:41px;font-size:16px}ion-progress-bar[_ngcontent-%COMP%]{--background: var(--gray-200);--progress-background: #9b8afb}ion-progress-bar[_ngcontent-%COMP%]   #progress-break[_ngcontent-%COMP%]{--progress-background: #fec84b}ion-progress-bar[_ngcontent-%COMP%]   #progress-shift[_ngcontent-%COMP%]{--progress-background: #9b8afb}ion-progress-bar[_ngcontent-%COMP%]   #progress-cycle[_ngcontent-%COMP%]{--progress-background: #fb6514}.status-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.btn-custom[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.status-dot-error[_ngcontent-%COMP%]{background-color:var(--error-600)}.status-dot-success[_ngcontent-%COMP%]{background-color:var(--success-600)}.service[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center}.service-on[_ngcontent-%COMP%]{background-color:var(--success-500)}.service-off[_ngcontent-%COMP%]{background-color:var(--error-500)}.violation-number[_ngcontent-%COMP%]{color:var(--error-600);display:flex;align-items:center;gap:4px;font-size:15px}.violation-number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px;display:flex;align-items:center}ion-modal#custom-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: 80%;--max-width: 85%;--max-height: 100%;--overflow: hidden;--height: fit-content;--border-radius: 10px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4);pointer-events:none}.submit-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;width:100%;padding:15px 20px 20px}.submit-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:1;font-size:15px;display:flex;justify-content:center;align-items:center;height:38px;padding:10px;border-radius:50px;cursor:pointer}.submit-buttons-error[_ngcontent-%COMP%]{padding-top:25px}.modal-box[_ngcontent-%COMP%]{padding:20px 20px 0;display:flex;flex-direction:column;gap:10px}.modal-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.modal-status[_ngcontent-%COMP%]{font-size:15px}.default[_ngcontent-%COMP%]{color:var(--gray-500);background-color:var(--gray-100)}.defaultd[_ngcontent-%COMP%]{color:var(--gray-25);background-color:var(--gray-500)}.primary[_ngcontent-%COMP%]{color:var(--gray-25);background-color:var(--primary-600)}.error[_ngcontent-%COMP%]{color:var(--gray-25);background-color:var(--error-600);font-weight:600}.warningb[_ngcontent-%COMP%]{color:var(--gray-25);background-color:var(--warning-500)}.custom-sleep-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:-moz-fit-content;width:fit-content;color:var(--gray-25)}.custom-sleep-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}ion-loading[_ngcontent-%COMP%]{color:var(--gray-700);--background: var(--gray-25);--spinner-color: var(--gray-700)}"]}),i})()}];let te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[tt.Bz.forChild(Xt),tt.Bz]}),i})();var ee=r(4546);let ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[n.ez,O.u5,z.Pc]}),i})();var ie=r(4166),oe=r(4877),se=r(2218),re=r(8134);let ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[n.ez,O.u5,z.Pc]}),i})();var le=r(4748),ce=r(8974);let ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[n.ez,O.u5,z.Pc,te,pt.forRoot(),ee.y,ne,ie.v,oe.r,se.H,re.y,ae,le.e,ce.p]}),i})()},2092:(N,w,r)=>{r.d(w,{k:()=>O});var n=r(8256);let O=(()=>{class e{transform(x){const g=Math.floor(x/3600),_=Math.floor(x%3600/60);return`${String(g).padStart(2,"0")}:${String(_).padStart(2,"0")}`}}return e.\u0275fac=function(x){return new(x||e)},e.\u0275pipe=n.Yjl({name:"convertSecotdsToHoursAndMinutes",type:e,pure:!0}),e})()},6994:(N,w,r)=>{r.d(w,{t:()=>P});var n=r(7579),O=r(1135),e=r(8256);let P=(()=>{class x{constructor(){this.editDataDetails=[],this.subject=new n.x,this.messageSource=new O.X(this.editDataDetails),this.currentMessage=this.messageSource.asObservable()}changeMessage(_){this.messageSource.next(_)}destroyMessage(){this.messageSource.next("")}}return x.\u0275fac=function(_){return new(_||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},7278:(N,w,r)=>{r.d(w,{t:()=>P});var n=r(8924),O=r(8256),e=r(849);let P=(()=>{class x{constructor(_){this.storage=_}generateString(_){const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let I=" ";const L=v.length;for(let E=0;E<_;E++)I+=v.charAt(Math.floor(Math.random()*L));return I}validateForm(_){let v=!0;for(const I in _)v=v&&_[I];return v}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_){const v=16*Math.random()|0;return("x"==_?v:3&v|8).toString(16)})}msToTime(_){let v=Math.floor(_/1e3%60),I=Math.floor(_/6e4%60),L=Math.floor(_/36e5);return L=L<10?"0"+L:L,I=I<10?"0"+I:I,v=v<10?"0"+v:v,L+"h "+I+"min "+v+"s"}checkSeason(){return(new Date).getTime()>=n.Rk[(new Date).getFullYear().toString()].summer&&(new Date).getTime()<n.Rk[(new Date).getFullYear().toString()].winter?n.Eb:n.bm}getEldLocation(_){return _.split(",").map(v=>parseFloat(v))}}return x.\u0275fac=function(_){return new(_||x)(O.LFG(e.K))},x.\u0275prov=O.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},2368:(N,w,r)=>{r.d(w,{B:()=>n});const n={REST_BREAK:{code:"M30_REST_BREAK",name:"Break violation"},DRIVING:{code:"H11_DRIVING",name:"Driving violation"},DUTY_LIMIT:{code:"H14_DUTY_LIMIT",name:"Shift violation"},US_70_8:{code:"US_70_8",name:"Cycle violation"}}},1566:(N,w,r)=>{r.d(w,{P:()=>L,z:()=>I});var n=r(727);class O extends n.w0{constructor(C,m){super()}schedule(C,m=0){return this}}const e={setInterval(E,C,...m){const{delegate:M}=e;return null!=M&&M.setInterval?M.setInterval(E,C,...m):setInterval(E,C,...m)},clearInterval(E){const{delegate:C}=e;return((null==C?void 0:C.clearInterval)||clearInterval)(E)},delegate:void 0};var P=r(8737);const g={now:()=>(g.delegate||Date).now(),delegate:void 0};class _{constructor(C,m=_.now){this.schedulerActionCtor=C,this.now=m}schedule(C,m=0,M){return new this.schedulerActionCtor(this,C).schedule(M,m)}}_.now=g.now;const I=new class v extends _{constructor(C,m=_.now){super(C,m),this.actions=[],this._active=!1}flush(C){const{actions:m}=this;if(this._active)return void m.push(C);let M;this._active=!0;do{if(M=C.execute(C.state,C.delay))break}while(C=m.shift());if(this._active=!1,M){for(;C=m.shift();)C.unsubscribe();throw M}}}(class x extends O{constructor(C,m){super(C,m),this.scheduler=C,this.work=m,this.pending=!1}schedule(C,m=0){var M;if(this.closed)return this;this.state=C;const u=this.id,T=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(T,u,m)),this.pending=!0,this.delay=m,this.id=null!==(M=this.id)&&void 0!==M?M:this.requestAsyncId(T,this.id,m),this}requestAsyncId(C,m,M=0){return e.setInterval(C.flush.bind(C,this),M)}recycleAsyncId(C,m,M=0){if(null!=M&&this.delay===M&&!1===this.pending)return m;null!=m&&e.clearInterval(m)}execute(C,m){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const M=this._execute(C,m);if(M)return M;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,m){let u,M=!1;try{this.work(C)}catch(T){M=!0,u=T||new Error("Scheduled action threw falsy error")}if(M)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:C,scheduler:m}=this,{actions:M}=m;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(M,this),null!=C&&(this.id=this.recycleAsyncId(m,C,null)),this.delay=null,super.unsubscribe()}}}),L=I}}]);